{"version":3,"file":"index.js","sources":["../../src/color-mode/color-mode-context.tsx","../../src/color-mode/storage-manager.ts","../../src/color-mode/utils.ts","../../src/color-mode/color-mode-provider.tsx","../../src/color-mode/color-mode-script.tsx","../../src/primitives/create-collection/utils.ts","../../src/primitives/create-collection/create-collection.ts","../../src/primitives/create-collection/get-item-count.ts","../../src/primitives/create-controllable-signal/create-controllable-signal.ts","../../src/primitives/create-disclosure-state/create-disclosure-state.ts","../../src/primitives/create-escape-key-down/create-escape-key-down.ts","../../src/dismissable-layer/layer-stack.tsx","../../src/primitives/create-focus-scope/create-focus-scope.tsx","../../src/primitives/create-form-reset-listener/create-form-reset-listener.ts","../../src/live-announcer/live-announcer.tsx","../../src/primitives/create-hide-outside/create-hide-outside.ts","../../src/primitives/create-interact-outside/create-interact-outside.ts","../../src/primitives/create-presence/create-presence.ts","../../src/primitives/create-prevent-scroll/create-prevent-scroll.ts","../../src/primitives/create-register-id/create-register-id.ts","../../src/primitives/create-tag-name/create-tag-name.ts","../../src/primitives/create-toggle-state/create-toggle-state.ts","../../src/primitives/create-transition/get-transition-styles.ts","../../src/primitives/create-transition/create-transition.ts","../../src/form-control/create-form-control.tsx","../../src/form-control/form-control-context.tsx","../../src/form-control/create-form-control-field.tsx","../../src/polymorphic/polymorphic.tsx","../../src/form-control/form-control-description.tsx","../../src/form-control/form-control-error-message.tsx","../../src/form-control/form-control-label.tsx","../../src/i18n/common.intl.ts","../../src/i18n/utils.ts","../../src/i18n/create-default-locale.ts","../../src/i18n/i18n-provider.tsx","../../src/i18n/create-collator.ts","../../src/i18n/create-date-formatter.ts","../../src/i18n/create-filter.ts","../../src/i18n/create-message-formatter.ts","../../src/i18n/create-number-formatter.ts","../../src/selection/types.ts","../../src/selection/create-controllable-selection-signal.ts","../../src/selection/utils.ts","../../src/selection/create-multiple-selection-state.ts","../../src/selection/create-type-select.ts","../../src/selection/create-selectable-collection.ts","../../src/selection/create-selectable-item.ts","../../src/selection/selection-manager.ts","../../src/list/list-collection.ts","../../src/list/create-list-state.ts","../../src/list/list-keyboard-delegate.ts","../../src/list/create-selectable-list.ts","../../src/list/create-single-select-list-state.ts","../../src/toast/toast-store.ts","../../src/toast/toaster.ts","../../src/collapsible/collapsible-context.tsx","../../src/collapsible/collapsible-content.tsx","../../src/collapsible/collapsible-root.tsx","../../src/button/is-button.ts","../../src/button/button-root.tsx","../../src/collapsible/collapsible-trigger.tsx","../../src/accordion/accordion-item-context.tsx","../../src/accordion/accordion-content.tsx","../../src/accordion/accordion-header.tsx","../../src/accordion/accordion-context.tsx","../../src/accordion/accordion-item.tsx","../../src/primitives/create-dom-collection/dom-collection-context.ts","../../src/primitives/create-dom-collection/utils.ts","../../src/primitives/create-dom-collection/create-dom-collection.ts","../../src/primitives/create-dom-collection/create-dom-collection-item.ts","../../src/accordion/accordion-root.tsx","../../src/accordion/accordion-trigger.tsx","../../src/alert/alert-root.tsx","../../src/dialog/dialog-context.tsx","../../src/dialog/dialog-close-button.tsx","../../src/dismissable-layer/dismissable-layer-context.tsx","../../src/dismissable-layer/dismissable-layer.tsx","../../src/dialog/dialog-content.tsx","../../src/dialog/dialog-description.tsx","../../src/dialog/dialog-overlay.tsx","../../src/dialog/dialog-portal.tsx","../../src/dialog/dialog-root.tsx","../../src/dialog/dialog-title.tsx","../../src/dialog/dialog-trigger.tsx","../../src/alert-dialog/alert-dialog-content.tsx","../../src/link/link-root.tsx","../../src/breadcrumbs/breadcrumbs-link.tsx","../../src/breadcrumbs/breadcrumbs.intl.ts","../../src/breadcrumbs/breadcrumbs-context.tsx","../../src/breadcrumbs/breadcrumbs-root.tsx","../../src/breadcrumbs/breadcrumbs-separator.tsx","../../src/checkbox/checkbox-context.tsx","../../src/checkbox/checkbox-control.tsx","../../src/checkbox/checkbox-description.tsx","../../src/checkbox/checkbox-error-message.tsx","../../src/checkbox/checkbox-indicator.tsx","../../src/checkbox/checkbox-input.tsx","../../src/checkbox/checkbox-label.tsx","../../src/checkbox/checkbox-root.tsx","../../src/popper/popper-context.tsx","../../src/popper/popper-arrow.tsx","../../src/popper/popper-positioner.tsx","../../src/popper/utils.ts","../../src/popper/popper-root.tsx","../../src/combobox/combobox-context.tsx","../../src/combobox/combobox-content.tsx","../../src/combobox/combobox-input.tsx","../../src/listbox/listbox-context.tsx","../../src/listbox/listbox-item-context.tsx","../../src/listbox/listbox-item.tsx","../../src/listbox/listbox-item-description.tsx","../../src/listbox/listbox-item-indicator.tsx","../../src/listbox/listbox-item-label.tsx","../../src/listbox/listbox-root.tsx","../../src/listbox/listbox-section.tsx","../../src/combobox/combobox-listbox.tsx","../../src/combobox/combobox-portal.tsx","../../src/combobox/combobox-control.tsx","../../src/select/hidden-select-base.tsx","../../src/combobox/combobox-hidden-select.tsx","../../src/combobox/combobox-icon.tsx","../../src/combobox/combobox.intl.ts","../../src/combobox/combobox-base.tsx","../../src/combobox/combobox-root.tsx","../../src/combobox/combobox-trigger.tsx","../../src/menu/menu-context.tsx","../../src/menu/menu-root-context.tsx","../../src/menu/utils.ts","../../src/menu/menu.tsx","../../src/menu/menu-item.context.tsx","../../src/menu/menu-item-base.tsx","../../src/menu/menu-checkbox-item.tsx","../../src/menu/menu-content-base.tsx","../../src/menu/menu-content.tsx","../../src/menu/menu-group-context.tsx","../../src/menu/menu-group.tsx","../../src/menu/menu-group-label.tsx","../../src/menu/menu-icon.tsx","../../src/menu/menu-item.tsx","../../src/menu/menu-item-description.tsx","../../src/menu/menu-item-indicator.tsx","../../src/menu/menu-item-label.tsx","../../src/menu/menu-portal.tsx","../../src/menu/menu-radio-group-context.tsx","../../src/menu/menu-radio-group.tsx","../../src/menu/menu-radio-item.tsx","../../src/menu/menu-root.tsx","../../src/menu/menu-sub.tsx","../../src/menu/menu-sub-content.tsx","../../src/menu/menu-sub-trigger.tsx","../../src/menu/menu-trigger.tsx","../../src/separator/separator-root.tsx","../../src/context-menu/context-menu-content.tsx","../../src/context-menu/context-menu-context.tsx","../../src/context-menu/context-menu-root.tsx","../../src/context-menu/context-menu-trigger.tsx","../../src/dropdown-menu/dropdown-menu-content.tsx","../../src/dropdown-menu/dropdown-menu-root.tsx","../../src/hover-card/hover-card-context.tsx","../../src/hover-card/hover-card-content.tsx","../../src/hover-card/hover-card-portal.tsx","../../src/hover-card/utils.ts","../../src/hover-card/hover-card-root.tsx","../../src/hover-card/hover-card-trigger.tsx","../../src/image/image-context.tsx","../../src/image/image-fallback.tsx","../../src/image/image-img.tsx","../../src/image/image-root.tsx","../../src/popover/popover-context.tsx","../../src/popover/popover-anchor.tsx","../../src/popover/popover-close-button.tsx","../../src/popover/popover-content.tsx","../../src/popover/popover-description.tsx","../../src/popover/popover-portal.tsx","../../src/popover/popover-root.tsx","../../src/popover/popover-title.tsx","../../src/popover/popover-trigger.tsx","../../src/progress/progress-context.tsx","../../src/progress/progress-fill.tsx","../../src/progress/progress-label.tsx","../../src/progress/progress-root.tsx","../../src/progress/progress-track.tsx","../../src/progress/progress-value-label.tsx","../../src/radio-group/radio-group-context.tsx","../../src/radio-group/radio-group-item-context.tsx","../../src/radio-group/radio-group-item.tsx","../../src/radio-group/radio-group-item-control.tsx","../../src/radio-group/radio-group-item-description.tsx","../../src/radio-group/radio-group-item-indicator.tsx","../../src/radio-group/radio-group-item-input.tsx","../../src/radio-group/radio-group-item-label.tsx","../../src/radio-group/radio-group-label.tsx","../../src/radio-group/radio-group-root.tsx","../../src/select/select-context.tsx","../../src/select/select-content.tsx","../../src/select/select-hidden-select.tsx","../../src/select/select-icon.tsx","../../src/select/select-label.tsx","../../src/select/select-listbox.tsx","../../src/select/select-portal.tsx","../../src/select/select-base.tsx","../../src/select/select-root.tsx","../../src/select/select-trigger.tsx","../../src/select/select-value.tsx","../../src/switch/switch-context.tsx","../../src/switch/switch-control.tsx","../../src/switch/switch-description.tsx","../../src/switch/switch-error-message.tsx","../../src/switch/switch-input.tsx","../../src/switch/switch-label.tsx","../../src/switch/switch-root.tsx","../../src/switch/switch-thumb.tsx","../../src/tabs/tabs-context.tsx","../../src/tabs/tabs-content.tsx","../../src/tabs/tabs-indicator.tsx","../../src/tabs/tabs-keyboard-delegate.ts","../../src/tabs/tabs-list.tsx","../../src/tabs/tabs-root.tsx","../../src/tabs/tabs-trigger.tsx","../../src/text-field/text-field-context.tsx","../../src/text-field/text-field-input.tsx","../../src/text-field/text-field-root.tsx","../../src/text-field/text-field-text-area.tsx","../../src/toast/toast.intl.ts","../../src/toast/toast-context.tsx","../../src/toast/toast-close-button.tsx","../../src/toast/toast-description.tsx","../../src/toast/toast-region-context.tsx","../../src/toast/toast-list.tsx","../../src/toast/toast-progress-fill.tsx","../../src/toast/toast-progress-track.tsx","../../src/toast/toast-region.tsx","../../src/toast/toast-root.tsx","../../src/toast/toast-title.tsx","../../src/toggle-button/toggle-button-root.tsx","../../src/tooltip/tooltip-context.tsx","../../src/tooltip/tooltip-content.tsx","../../src/tooltip/tooltip-portal.tsx","../../src/tooltip/utils.ts","../../src/tooltip/tooltip-root.tsx","../../src/tooltip/tooltip-trigger.tsx"],"sourcesContent":["/*!\n * Original code by Chakra UI\n * MIT Licensed, Copyright (c) 2019 Segun Adebayo.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/chakra-ui/blob/main/packages/color-mode/src/color-mode-context.ts\n */\n\nimport { createContext, createMemo, useContext } from \"solid-js\";\n\nimport { ColorModeContextType } from \"./types\";\n\nexport const ColorModeContext = createContext<ColorModeContextType>();\n\n/**\n * Primitive that reads from `ColorModeProvider` context,\n * Returns the color mode and function to toggle it.\n */\nexport function useColorMode() {\n  const context = useContext(ColorModeContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useColorMode` must be used within a `ColorModeProvider`\");\n  }\n\n  return context;\n}\n\n/**\n * Change value based on color mode.\n *\n * @param light the light mode value\n * @param dark the dark mode value\n * @return A memoized value based on the color mode.\n *\n * @example\n *\n * ```js\n * const Icon = useColorModeValue(MoonIcon, SunIcon)\n * ```\n */\nexport function useColorModeValue<TLight = unknown, TDark = unknown>(light: TLight, dark: TDark) {\n  const { colorMode } = useColorMode();\n\n  return createMemo(() => (colorMode() === \"dark\" ? dark : light));\n}\n","/*!\n * Original code by Chakra UI\n * MIT Licensed, Copyright (c) 2019 Segun Adebayo.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/chakra-ui/blob/main/packages/color-mode/src/storage-manager.ts\n */\n\nimport { isServer } from \"solid-js/web\";\n\nimport { ColorModeStorageManager, MaybeConfigColorMode } from \"./types\";\n\nexport const COLOR_MODE_STORAGE_KEY = \"kb-color-mode\";\n\nexport function createLocalStorageManager(key: string): ColorModeStorageManager {\n  return {\n    ssr: false,\n    type: \"localStorage\",\n    get: fallback => {\n      if (isServer) {\n        return fallback;\n      }\n\n      let value: any;\n      try {\n        value = localStorage.getItem(key);\n      } catch (e) {\n        // noop\n      }\n\n      return value ?? fallback;\n    },\n    set: value => {\n      try {\n        localStorage.setItem(key, value);\n      } catch (e) {\n        // noop\n      }\n    },\n  };\n}\n\nexport const localStorageManager = createLocalStorageManager(COLOR_MODE_STORAGE_KEY);\n\nfunction parseCookie(cookie: string, key: string): MaybeConfigColorMode {\n  const match = cookie.match(new RegExp(`(^| )${key}=([^;]+)`));\n  return match?.[2] as MaybeConfigColorMode;\n}\n\nexport function createCookieStorageManager(key: string, cookie?: string): ColorModeStorageManager {\n  return {\n    ssr: !!cookie,\n    type: \"cookie\",\n    get: fallback => {\n      if (cookie) {\n        return parseCookie(cookie, key) ?? fallback;\n      }\n\n      if (isServer) {\n        return fallback;\n      }\n\n      return parseCookie(document.cookie, key) ?? fallback;\n    },\n    set: value => {\n      document.cookie = `${key}=${value}; max-age=31536000; path=/`;\n    },\n  };\n}\n\nexport const cookieStorageManager = createCookieStorageManager(COLOR_MODE_STORAGE_KEY);\n\nexport function cookieStorageManagerSSR(cookie: string) {\n  return createCookieStorageManager(COLOR_MODE_STORAGE_KEY, cookie);\n}\n","/*!\n * Original code by Chakra UI\n * MIT Licensed, Copyright (c) 2019 Segun Adebayo.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/chakra-ui/blob/main/packages/color-mode/src/color-mode.utils.ts\n */\n\nimport { isServer } from \"solid-js/web\";\n\nimport { ColorMode, ColorModeStorageManager, ConfigColorMode } from \"./types\";\n\nexport const FALLBACK_COLOR_MODE_VALUE: ConfigColorMode = \"system\";\n\nfunction query() {\n  return window.matchMedia(\"(prefers-color-scheme: dark)\");\n}\n\nfunction preventTransition() {\n  const css = document.createElement(\"style\");\n  css.appendChild(\n    document.createTextNode(\n      `*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}`\n    )\n  );\n  document.head.appendChild(css);\n\n  return () => {\n    // force a reflow\n    (() => window.getComputedStyle(document.body))();\n\n    // wait for next tick\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        document.head.removeChild(css);\n      });\n    });\n  };\n}\n\nexport function setColorModeDataset(value: ColorMode, shouldPreventTransition = true) {\n  const cleanup = shouldPreventTransition ? preventTransition() : undefined;\n  document.documentElement.dataset.kbTheme = value;\n  document.documentElement.style.colorScheme = value;\n  cleanup?.();\n}\n\nexport function getSystemColorMode(fallback?: ColorMode): ColorMode {\n  const isDark = query().matches ?? fallback === \"dark\";\n  return isDark ? \"dark\" : \"light\";\n}\n\nexport function getInitialColorMode(manager: ColorModeStorageManager): ColorMode {\n  const fallback: ColorMode = \"light\";\n\n  const initialColorMode = manager.get(fallback) ?? fallback;\n\n  if (initialColorMode === \"system\") {\n    // We can't know the client system preference in SSR so just return the fallback.\n    return isServer ? fallback : getSystemColorMode();\n  }\n\n  return initialColorMode;\n}\nexport function addColorModeListener(fn: (cm: ColorMode) => unknown) {\n  const mql = query();\n\n  const listener = (e: MediaQueryListEvent) => {\n    fn(e.matches ? \"dark\" : \"light\");\n  };\n\n  mql.addEventListener(\"change\", listener);\n\n  return () => {\n    mql.removeEventListener(\"change\", listener);\n  };\n}\n","/*!\n * Original code by Chakra UI\n * MIT Licensed, Copyright (c) 2019 Segun Adebayo.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/chakra-ui/blob/main/packages/color-mode/src/color-mode-provider.tsx\n */\n\nimport { createEffect, createSignal, onCleanup } from \"solid-js\";\n\nimport { ColorModeContext } from \"./color-mode-context\";\nimport { localStorageManager } from \"./storage-manager\";\nimport { ColorMode, ColorModeContextType, ColorModeProviderProps, ConfigColorMode } from \"./types\";\nimport {\n  addColorModeListener,\n  FALLBACK_COLOR_MODE_VALUE,\n  getInitialColorMode,\n  getSystemColorMode,\n  setColorModeDataset,\n} from \"./utils\";\n\n/**\n * Provides context for the color mode based on config in `theme`\n * Returns the color mode and function to toggle the color mode\n */\nexport function ColorModeProvider(props: ColorModeProviderProps) {\n  const fallbackColorMode = () => props.initialColorMode ?? FALLBACK_COLOR_MODE_VALUE;\n  const colorModeManager = () => props.storageManager ?? localStorageManager;\n  let colorModeListenerCleanupFn: (() => unknown) | undefined;\n\n  const [colorMode, rawSetColorMode] = createSignal(getInitialColorMode(colorModeManager()));\n\n  const applyColorMode = (value: ColorMode) => {\n    rawSetColorMode(value);\n\n    setColorModeDataset(value, props.disableTransitionOnChange);\n  };\n\n  const setColorMode = (value: ConfigColorMode) => {\n    if (colorModeListenerCleanupFn) {\n      colorModeListenerCleanupFn();\n      colorModeListenerCleanupFn = undefined;\n    }\n\n    const isSystem = value === \"system\";\n\n    if (isSystem) {\n      colorModeListenerCleanupFn = addColorModeListener(applyColorMode);\n    }\n\n    applyColorMode(isSystem ? getSystemColorMode() : value);\n    colorModeManager().set(value);\n  };\n\n  const toggleColorMode = () => {\n    setColorMode(colorMode() === \"dark\" ? \"light\" : \"dark\");\n  };\n\n  createEffect(() => {\n    setColorMode(colorModeManager().get() ?? fallbackColorMode());\n  });\n\n  onCleanup(() => {\n    // ensure listener is always cleaned when component is destroyed.\n    colorModeListenerCleanupFn?.();\n  });\n\n  const context: ColorModeContextType = {\n    colorMode,\n    setColorMode,\n    toggleColorMode,\n  };\n\n  return <ColorModeContext.Provider value={context}>{props.children}</ColorModeContext.Provider>;\n}\n","/*!\n * Portions of this file are based on code from chakra-ui.\n * MIT Licensed, Copyright (c) 2019 Segun Adebayo.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/chakra-ui/blob/132a98958be64e46619b1e280ca6405d0a833cb0/packages/components/color-mode/src/color-mode-script.tsx\n */\n\nimport { createMemo, mergeProps } from \"solid-js\";\n\nimport { COLOR_MODE_STORAGE_KEY } from \"./storage-manager\";\nimport { ColorModeScriptProps, ConfigColorMode } from \"./types\";\nimport { FALLBACK_COLOR_MODE_VALUE } from \"./utils\";\n\nconst VALID_VALUES = new Set<ConfigColorMode>([\"light\", \"dark\", \"system\"]);\n\n/**\n * runtime safe-guard against invalid color mode values\n */\nfunction normalize(initialColorMode: ConfigColorMode) {\n  if (!VALID_VALUES.has(initialColorMode)) {\n    return FALLBACK_COLOR_MODE_VALUE;\n  }\n\n  return initialColorMode;\n}\n\nexport function ColorModeScript(props: ColorModeScriptProps) {\n  props = mergeProps(\n    {\n      initialColorMode: FALLBACK_COLOR_MODE_VALUE,\n      storageType: \"localStorage\",\n      storageKey: COLOR_MODE_STORAGE_KEY,\n    } as ColorModeScriptProps,\n    props\n  );\n\n  const scriptSrc = createMemo(() => {\n    // runtime safe-guard against invalid color mode values\n    const init = normalize(props.initialColorMode!);\n\n    const cookieScript = `(function(){try{var a=function(o){var l=\"(prefers-color-scheme: dark)\",v=window.matchMedia(l).matches?\"dark\":\"light\",e=o===\"system\"?v:o,d=document.documentElement,s=e===\"dark\";return d.style.colorScheme=e,d.dataset.kbTheme=e,o},u=a,h=\"${init}\",r=\"${props.storageKey}\",t=document.cookie.match(new RegExp(\"(^| )\".concat(r,\"=([^;]+)\"))),c=t?t[2]:null;c?a(c):document.cookie=\"\".concat(r,\"=\").concat(a(h),\"; max-age=31536000; path=/\")}catch(a){}})();`;\n\n    const localStorageScript = `(function(){try{var a=function(c){var v=\"(prefers-color-scheme: dark)\",h=window.matchMedia(v).matches?\"dark\":\"light\",r=c===\"system\"?h:c,o=document.documentElement,i=r===\"dark\";return o.style.colorScheme=r,o.dataset.kbTheme=r,c},n=a,m=\"${init}\",e=\"${props.storageKey}\",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();`;\n\n    const fn = props.storageType === \"cookie\" ? cookieScript : localStorageScript;\n\n    return `!${fn}`.trim();\n  });\n\n  // eslint-disable-next-line solid/no-innerhtml\n  return <script id=\"kb-color-mode-script\" nonce={props.nonce} innerHTML={scriptSrc()} />;\n}\n","import { isNumber, isString } from \"@kobalte/utils\";\n\nimport { CollectionNode } from \"./types\";\n\ninterface BuildNodesParams {\n  dataSource: any[];\n  getKey?: string | ((data: any) => string);\n  getTextValue?: string | ((data: any) => string);\n  getDisabled?: string | ((data: any) => boolean);\n  getSectionChildren?: string | ((section: any) => any[]);\n  startIndex?: number;\n  startLevel?: number;\n}\n\n/**\n * Generate a flatted array of `CollectionNode` from a custom data source.\n */\nexport function buildNodes(params: BuildNodesParams): Array<CollectionNode> {\n  let index = params.startIndex ?? 0;\n  const level = params.startLevel ?? 0;\n\n  const nodes: Array<CollectionNode> = [];\n\n  const getKey = (data: any): string => {\n    const _getKey = params.getKey ?? \"key\";\n    const dataKey = isString(_getKey) ? data[_getKey] : _getKey(data);\n    return dataKey != null ? String(dataKey) : \"\";\n  };\n\n  const getTextValue = (data: any): string => {\n    const _getTextValue = params.getTextValue ?? \"textValue\";\n    const dataTextValue = isString(_getTextValue) ? data[_getTextValue] : _getTextValue(data);\n    return dataTextValue != null ? String(dataTextValue) : \"\";\n  };\n\n  const getDisabled = (data: any): boolean => {\n    const _getDisabled = params.getDisabled ?? \"disabled\";\n    return (isString(_getDisabled) ? data[_getDisabled] : _getDisabled(data)) ?? false;\n  };\n\n  const getSectionChildren = (data: any): any[] | undefined => {\n    if (isString(params.getSectionChildren)) {\n      return data[params.getSectionChildren];\n    }\n\n    return params.getSectionChildren?.(data);\n  };\n\n  for (const data of params.dataSource) {\n    // If it's not an object assume it's an item.\n    if (isString(data) || isNumber(data)) {\n      nodes.push({\n        type: \"item\",\n        rawValue: data,\n        key: String(data),\n        textValue: String(data),\n        disabled: getDisabled(data),\n        level,\n        index,\n      });\n\n      index++;\n\n      continue;\n    }\n\n    // Assume it's a section if it has children.\n    if (getSectionChildren(data) != null) {\n      nodes.push({\n        type: \"section\",\n        rawValue: data,\n        key: \"\", // not applicable here\n        textValue: \"\", // not applicable here\n        disabled: false, // not applicable here\n        level: level,\n        index: index,\n      });\n\n      index++;\n\n      const sectionChildren = getSectionChildren(data) ?? [];\n\n      if (sectionChildren.length > 0) {\n        const childNodes = buildNodes({\n          dataSource: sectionChildren,\n          getKey: params.getKey,\n          getTextValue: params.getTextValue,\n          getDisabled: params.getDisabled,\n          getSectionChildren: params.getSectionChildren,\n          startIndex: index,\n          startLevel: level + 1,\n        });\n\n        nodes.push(...childNodes);\n\n        index += childNodes.length;\n      }\n    } else {\n      nodes.push({\n        type: \"item\",\n        rawValue: data,\n        key: getKey(data),\n        textValue: getTextValue(data),\n        disabled: getDisabled(data),\n        level,\n        index,\n      });\n\n      index++;\n    }\n  }\n\n  return nodes;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/collections/src/useCollection.ts\n */\n\nimport { access } from \"@kobalte/utils\";\nimport { Accessor, createEffect, createSignal, on } from \"solid-js\";\n\nimport { Collection, CollectionBase, CollectionNode } from \"./types\";\nimport { buildNodes } from \"./utils\";\n\ntype CollectionFactory<C extends Collection<CollectionNode>> = (\n  node: Iterable<CollectionNode>\n) => C;\n\nexport interface CreateCollectionProps<C extends Collection<CollectionNode>>\n  extends CollectionBase {\n  factory: CollectionFactory<C>;\n}\n\nexport function createCollection<C extends Collection<CollectionNode>>(\n  props: CreateCollectionProps<C>,\n  deps: Array<Accessor<any>> = []\n) {\n  const initialNodes = buildNodes({\n    dataSource: access(props.dataSource),\n    getKey: access(props.getKey),\n    getTextValue: access(props.getTextValue),\n    getDisabled: access(props.getDisabled),\n    getSectionChildren: access(props.getSectionChildren),\n  });\n\n  const [collection, setCollection] = createSignal<C>(props.factory(initialNodes));\n\n  createEffect(\n    on(\n      [\n        () => access(props.dataSource),\n        () => access(props.getKey),\n        () => access(props.getTextValue),\n        () => access(props.getDisabled),\n        () => access(props.getSectionChildren),\n        () => props.factory,\n        ...deps,\n      ],\n      ([dataSource, getKey, getTextValue, getDisabled, getSectionChildren, factory]) => {\n        const nodes = buildNodes({\n          dataSource,\n          getKey,\n          getTextValue,\n          getDisabled,\n          getSectionChildren,\n        });\n\n        setCollection(() => factory(nodes));\n      },\n      {\n        defer: true,\n      }\n    )\n  );\n\n  return collection;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/22cb32d329e66c60f55d4fc4025d1d44bb015d71/packages/@react-stately/collections/src/getItemCount.ts\n */\n\nimport { CollectionNode } from \"./types\";\n\nconst cache = new WeakMap<Iterable<unknown>, number>();\n\nexport function getItemCount(collection: Iterable<CollectionNode>): number {\n  let count = cache.get(collection);\n  if (count != null) {\n    return count;\n  }\n\n  count = 0;\n  for (const item of collection) {\n    if (item.type === \"item\") {\n      count++;\n    }\n  }\n\n  cache.set(collection, count);\n  return count;\n}\n","import { accessWith } from \"@kobalte/utils\";\nimport { Accessor, createMemo, createSignal, untrack } from \"solid-js\";\n\nexport interface CreateControllableSignalProps<T> {\n  /** The value to be used, in controlled mode. */\n  value?: Accessor<T | undefined>;\n\n  /** The initial value to be used, in uncontrolled mode. */\n  defaultValue?: Accessor<T | undefined>;\n\n  /** A function that will be called when the value changes. */\n  onChange?: (value: T) => void;\n}\n\n/**\n * Creates a simple reactive state with a getter and setter,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableSignal<T>(props: CreateControllableSignalProps<T>) {\n  // Internal uncontrolled value\n  // eslint-disable-next-line solid/reactivity\n  const [_value, _setValue] = createSignal(props.defaultValue?.());\n\n  const isControlled = createMemo(() => props.value?.() !== undefined);\n\n  const value = createMemo(() => (isControlled() ? props.value?.() : _value()));\n\n  const setValue = (next: Exclude<T, Function> | ((prev: T) => T)) => {\n    untrack(() => {\n      const nextValue = accessWith(next, value() as T);\n\n      if (!Object.is(nextValue, value())) {\n        if (!isControlled()) {\n          _setValue(nextValue as Exclude<T, Function>);\n        }\n\n        props.onChange?.(nextValue);\n      }\n\n      return nextValue;\n    });\n  };\n\n  return [value, setValue] as const;\n}\n\n/**\n * Creates a simple reactive Boolean state with a getter, setter and a fallback value of `false`,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableBooleanSignal(props: CreateControllableSignalProps<boolean>) {\n  const [_value, setValue] = createControllableSignal(props);\n\n  const value: Accessor<boolean> = () => _value() ?? false;\n\n  return [value, setValue] as const;\n}\n\n/**\n * Creates a simple reactive Array state with a getter, setter and a fallback value of `[]`,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableArraySignal<T>(props: CreateControllableSignalProps<Array<T>>) {\n  const [_value, setValue] = createControllableSignal(props);\n\n  const value: Accessor<Array<T>> = () => _value() ?? [];\n\n  return [value, setValue] as const;\n}\n\n/**\n * Creates a simple reactive Set state with a getter, setter and a fallback value of `Set()`,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableSetSignal<T>(props: CreateControllableSignalProps<Set<T>>) {\n  const [_value, setValue] = createControllableSignal(props);\n\n  const value: Accessor<Set<T>> = () => _value() ?? new Set();\n\n  return [value, setValue] as const;\n}\n","import { access, MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor } from \"solid-js\";\n\nimport { createControllableBooleanSignal } from \"../create-controllable-signal\";\n\nexport interface CreateDisclosureStateProps {\n  /** The value to be used, in controlled mode. */\n  open?: MaybeAccessor<boolean | undefined>;\n\n  /** The initial value to be used, in uncontrolled mode. */\n  defaultOpen?: MaybeAccessor<boolean | undefined>;\n\n  /** A function that will be called when the `isOpen` state changes. */\n  onOpenChange?: (isOpen: boolean) => void;\n}\n\nexport interface CreateDisclosureStateResult {\n  /** The open state. */\n  isOpen: Accessor<boolean>;\n\n  /** A setter function to manually set the open state. */\n  setIsOpen: (next: boolean | ((prev: boolean) => boolean)) => void;\n\n  /** A function to set the `isOpen` state to `true`. */\n  open: () => void;\n\n  /** A function to set the `isOpen` state to `false`. */\n  close: () => void;\n\n  /** A function to toggle the `isOpen` state between `true` and `false`. */\n  toggle: () => void;\n}\n\n/**\n * Provides state management for open, close and toggle scenarios.\n * Used to control the \"open state\" of components like Modal, Drawer, etc.\n */\nexport function createDisclosureState(\n  props: CreateDisclosureStateProps = {}\n): CreateDisclosureStateResult {\n  const [isOpen, setIsOpen] = createControllableBooleanSignal({\n    value: () => access(props.open),\n    defaultValue: () => !!access(props.defaultOpen),\n    onChange: value => props.onOpenChange?.(value),\n  });\n\n  const open = () => {\n    setIsOpen(true);\n  };\n\n  const close = () => {\n    setIsOpen(false);\n  };\n\n  const toggle = () => {\n    isOpen() ? close() : open();\n  };\n\n  return {\n    isOpen,\n    setIsOpen,\n    open,\n    close,\n    toggle,\n  };\n}\n","import { access, EventKey, getDocument, MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor, createEffect, onCleanup } from \"solid-js\";\n\nexport interface CreateEscapeKeyDownProps {\n  /** Whether the escape key down events should be listened or not. */\n  isDisabled?: MaybeAccessor<boolean | undefined>;\n\n  /** The owner document to attach listeners to. */\n  ownerDocument?: Accessor<Document>;\n\n  /** Event handler called when the escape key is down. */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n}\n\n/**\n * Listens for when the escape key is down on the document.\n */\nexport function createEscapeKeyDown(props: CreateEscapeKeyDownProps) {\n  const handleKeyDown = (event: KeyboardEvent) => {\n    if (event.key === EventKey.Escape) {\n      props.onEscapeKeyDown?.(event);\n    }\n  };\n\n  createEffect(() => {\n    if (access(props.isDisabled)) {\n      return;\n    }\n\n    const document = props.ownerDocument?.() ?? getDocument();\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    onCleanup(() => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    });\n  });\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dismissable-layer/src/DismissableLayer.tsx\n *\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/dismissable/src/layer-stack.ts\n */\n\nimport { getDocument } from \"@kobalte/utils\";\n\nexport interface LayerModel {\n  node: HTMLElement;\n  isPointerBlocking?: boolean;\n  dismiss?: VoidFunction;\n}\n\nexport const DATA_TOP_LAYER_ATTR = \"data-kb-top-layer\";\n\nlet originalBodyPointerEvents: string;\nlet hasDisabledBodyPointerEvents = false;\n\nconst layers: Array<LayerModel> = [];\n\nfunction indexOf(node: HTMLElement | undefined) {\n  return layers.findIndex(layer => layer.node === node);\n}\n\nfunction find(node: HTMLElement | undefined): LayerModel | undefined {\n  return layers[indexOf(node)];\n}\n\nfunction isTopMostLayer(node: HTMLElement | null) {\n  return layers[layers.length - 1].node === node;\n}\n\nfunction getPointerBlockingLayers() {\n  return layers.filter(layer => layer.isPointerBlocking);\n}\n\nfunction getTopMostPointerBlockingLayer() {\n  return [...getPointerBlockingLayers()].slice(-1)[0] as LayerModel | undefined;\n}\n\nfunction hasPointerBlockingLayer() {\n  return getPointerBlockingLayers().length > 0;\n}\n\nfunction isBelowPointerBlockingLayer(node: HTMLElement) {\n  const highestBlockingIndex = indexOf(getTopMostPointerBlockingLayer()?.node);\n  return indexOf(node) < highestBlockingIndex;\n}\n\nfunction addLayer(layer: LayerModel) {\n  layers.push(layer);\n}\n\nfunction removeLayer(node: HTMLElement) {\n  const index = indexOf(node);\n\n  if (index < 0) {\n    return;\n  }\n\n  layers.splice(index, 1);\n}\n\nfunction assignPointerEventToLayers() {\n  layers.forEach(({ node }) => {\n    node.style.pointerEvents = isBelowPointerBlockingLayer(node) ? \"none\" : \"auto\";\n  });\n}\n\n/**\n * Disable body `pointer-events` if there are \"pointer blocking\" layers in the stack,\n * and body `pointer-events` has not been disabled yet.\n */\nfunction disableBodyPointerEvents(node: HTMLElement) {\n  if (hasPointerBlockingLayer() && !hasDisabledBodyPointerEvents) {\n    const ownerDocument = getDocument(node);\n\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    ownerDocument.body.style.pointerEvents = \"none\";\n\n    hasDisabledBodyPointerEvents = true;\n  }\n}\n\n/**\n * Restore body `pointer-events` style if there is no \"pointer blocking\" layer in the stack.\n */\nfunction restoreBodyPointerEvents(node: HTMLElement) {\n  if (hasPointerBlockingLayer()) {\n    return;\n  }\n\n  const ownerDocument = getDocument(node);\n\n  ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n\n  if (ownerDocument.body.style.length === 0) {\n    ownerDocument.body.removeAttribute(\"style\");\n  }\n\n  hasDisabledBodyPointerEvents = false;\n}\n\nexport const layerStack = {\n  layers,\n  isTopMostLayer,\n  hasPointerBlockingLayer,\n  isBelowPointerBlockingLayer,\n  addLayer,\n  removeLayer,\n  indexOf,\n  find,\n  assignPointerEventToLayers,\n  disableBodyPointerEvents,\n  restoreBodyPointerEvents,\n};\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/focus-scope/src/FocusScope.tsx\n *\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/focus-scope/src/focus-on-child-unmount.ts\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/focus-scope/src/focus-containment.ts\n */\n\nimport {\n  access,\n  contains,\n  focusWithoutScrolling,\n  getActiveElement,\n  getAllTabbableIn,\n  getDocument,\n  isFocusable,\n  MaybeAccessor,\n  removeItemFromArray,\n  visuallyHiddenStyles,\n} from \"@kobalte/utils\";\nimport { Accessor, createEffect, createSignal, onCleanup } from \"solid-js\";\n\nimport { DATA_TOP_LAYER_ATTR } from \"../../dismissable-layer/layer-stack\";\n\nconst AUTOFOCUS_ON_MOUNT_EVENT = \"focusScope.autoFocusOnMount\";\nconst AUTOFOCUS_ON_UNMOUNT_EVENT = \"focusScope.autoFocusOnUnmount\";\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\ninterface FocusScopeAPI {\n  pause(): void;\n  resume(): void;\n}\n\nexport interface CreateFocusScopeProps {\n  /** Whether focus cannot escape the focus scope via keyboard, pointer, or a programmatic focus. */\n  trapFocus?: MaybeAccessor<boolean | undefined>;\n\n  /**\n   * Event handler called when autofocusing on mount.\n   * Can be prevented.\n   */\n  onMountAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when autofocusing on unmount.\n   * Can be prevented.\n   */\n  onUnmountAutoFocus?: (event: Event) => void;\n}\n\nconst focusScopeStack = {\n  /** A stack of focus scopes, with the active one at the top */\n  stack: [] as FocusScopeAPI[],\n  active() {\n    return this.stack[0];\n  },\n  add(scope: FocusScopeAPI) {\n    // pause the currently active focus scope (at the top of the stack)\n    if (scope !== this.active()) {\n      this.active()?.pause();\n    }\n\n    // remove in case it already exists and re-add it at the top of the stack.\n    this.stack = removeItemFromArray(this.stack, scope);\n    this.stack.unshift(scope);\n  },\n  remove(scope: FocusScopeAPI) {\n    this.stack = removeItemFromArray(this.stack, scope);\n    this.active()?.resume();\n  },\n};\n\nexport function createFocusScope<T extends HTMLElement>(\n  props: CreateFocusScopeProps,\n  ref: Accessor<T | undefined>\n) {\n  const [isPaused, setIsPaused] = createSignal(false);\n\n  const focusScope: FocusScopeAPI = {\n    pause() {\n      setIsPaused(true);\n    },\n    resume() {\n      setIsPaused(false);\n    },\n  };\n\n  let lastFocusedElement: HTMLElement | null = null;\n  const onMountAutoFocus = (e: Event) => props.onMountAutoFocus?.(e);\n  const onUnmountAutoFocus = (e: Event) => props.onUnmountAutoFocus?.(e);\n  const ownerDocument = () => getDocument(ref());\n\n  const createSentinel = () => {\n    const element = ownerDocument().createElement(\"span\");\n    element.setAttribute(\"data-focus-trap\", \"\");\n    element.tabIndex = 0;\n    Object.assign(element.style, visuallyHiddenStyles);\n    return element;\n  };\n\n  const tabbables = () => {\n    const container = ref();\n\n    if (!container) {\n      return [];\n    }\n\n    // Get all tabbable in container excluding focus scope sentinels\n    return getAllTabbableIn(container, true).filter(el => !el.hasAttribute(\"data-focus-trap\"));\n  };\n\n  const firstTabbable = () => {\n    const items = tabbables();\n    return items.length > 0 ? items[0] : null;\n  };\n\n  const lastTabbable = () => {\n    const items = tabbables();\n    return items.length > 0 ? items[items.length - 1] : null;\n  };\n\n  const shouldPreventUnmountAutoFocus = () => {\n    const container = ref();\n\n    if (!container) {\n      return false;\n    }\n\n    const activeElement = getActiveElement(container);\n\n    if (!activeElement) {\n      return false;\n    }\n\n    if (contains(container, activeElement)) {\n      return false;\n    }\n\n    // Don't autofocus the previously focused element on unmount\n    // if a focusable element outside the container is already focused.\n    return isFocusable(activeElement);\n  };\n\n  // Handle dispatching mount and unmount autofocus events.\n  createEffect(() => {\n    const container = ref();\n\n    if (!container) {\n      return;\n    }\n\n    focusScopeStack.add(focusScope);\n\n    const previouslyFocusedElement = getActiveElement(container) as HTMLElement | null;\n    const hasFocusedCandidate = contains(container, previouslyFocusedElement);\n\n    if (!hasFocusedCandidate) {\n      const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT_EVENT, EVENT_OPTIONS);\n\n      container.addEventListener(AUTOFOCUS_ON_MOUNT_EVENT, onMountAutoFocus);\n      container.dispatchEvent(mountEvent);\n\n      if (!mountEvent.defaultPrevented) {\n        // Delay the focusing because it may run before a `DismissableLayer` is added to the layer stack,\n        // so it cause nested dismissable layer to open then close instantly.\n        setTimeout(() => {\n          focusWithoutScrolling(firstTabbable());\n\n          if (getActiveElement(container) === previouslyFocusedElement) {\n            focusWithoutScrolling(container);\n          }\n        }, 0);\n      }\n    }\n\n    onCleanup(() => {\n      container.removeEventListener(AUTOFOCUS_ON_MOUNT_EVENT, onMountAutoFocus);\n\n      setTimeout(() => {\n        const unmountEvent = new CustomEvent(AUTOFOCUS_ON_UNMOUNT_EVENT, EVENT_OPTIONS);\n\n        if (shouldPreventUnmountAutoFocus()) {\n          unmountEvent.preventDefault();\n        }\n\n        container.addEventListener(AUTOFOCUS_ON_UNMOUNT_EVENT, onUnmountAutoFocus);\n        container.dispatchEvent(unmountEvent);\n\n        if (!unmountEvent.defaultPrevented) {\n          focusWithoutScrolling(previouslyFocusedElement ?? ownerDocument().body);\n        }\n\n        // We need to remove the listener after we `dispatchEvent`.\n        container.removeEventListener(AUTOFOCUS_ON_UNMOUNT_EVENT, onUnmountAutoFocus);\n\n        focusScopeStack.remove(focusScope);\n      }, 0);\n    });\n  });\n\n  /*\n  // Handle containing focus if a child unmount.\n  createEffect(() => {\n    const container = ref();\n\n    if (!container || !access(props.trapFocus)) {\n      return;\n    }\n\n    const observer = new MutationObserver(([mutation]) => {\n      if (!mutation || mutation.target !== container) {\n        return;\n      }\n\n      if (getActiveElement(container) === ownerDocument().body) {\n        focusWithoutScrolling(container);\n      }\n    });\n\n    observer.observe(container, { childList: true, subtree: true });\n\n    onCleanup(() => {\n      observer.disconnect();\n    });\n  });\n  */\n\n  // Handle containing focus if focus is moved outside.\n  createEffect(() => {\n    const container = ref();\n\n    if (!container || !access(props.trapFocus) || isPaused()) {\n      return;\n    }\n\n    const onFocusIn = (event: FocusEvent) => {\n      const target = event.target as HTMLElement | null;\n\n      // If the element is within a top layer element (e.g. toasts), always allow moving focus there.\n      if (target?.closest(`[${DATA_TOP_LAYER_ATTR}]`)) {\n        return;\n      }\n\n      if (contains(container, target)) {\n        lastFocusedElement = target;\n      } else {\n        focusWithoutScrolling(lastFocusedElement);\n      }\n    };\n\n    const onFocusOut = (event: FocusEvent) => {\n      const relatedTarget = event.relatedTarget as HTMLElement | null;\n      const target = relatedTarget ?? getActiveElement(container);\n\n      // If the element is within a top layer element (e.g. toasts), always allow moving focus there.\n      if (target?.closest(`[${DATA_TOP_LAYER_ATTR}]`)) {\n        return;\n      }\n\n      if (!contains(container, target)) {\n        focusWithoutScrolling(lastFocusedElement);\n      }\n    };\n\n    ownerDocument().addEventListener(\"focusin\", onFocusIn);\n    ownerDocument().addEventListener(\"focusout\", onFocusOut);\n\n    onCleanup(() => {\n      ownerDocument().removeEventListener(\"focusin\", onFocusIn);\n      ownerDocument().removeEventListener(\"focusout\", onFocusOut);\n    });\n  });\n\n  // Handle looping focus (when tabbing whilst at the edges)\n  createEffect(() => {\n    const container = ref();\n\n    if (!container || !access(props.trapFocus) || isPaused()) {\n      return;\n    }\n\n    const startSentinel = createSentinel();\n    container.insertAdjacentElement(\"afterbegin\", startSentinel);\n\n    const endSentinel = createSentinel();\n    container.insertAdjacentElement(\"beforeend\", endSentinel);\n\n    function onFocus(event: FocusEvent) {\n      const first = firstTabbable();\n      const last = lastTabbable();\n\n      if (event.relatedTarget === first) {\n        focusWithoutScrolling(last);\n      } else {\n        focusWithoutScrolling(first);\n      }\n    }\n\n    startSentinel.addEventListener(\"focusin\", onFocus);\n    endSentinel.addEventListener(\"focusin\", onFocus);\n\n    // Ensure sentinels are always the edges of the container.\n    const observer = new MutationObserver(mutations => {\n      for (const mutation of mutations) {\n        if (mutation.previousSibling === endSentinel) {\n          endSentinel.remove();\n          container.insertAdjacentElement(\"beforeend\", endSentinel);\n        }\n\n        if (mutation.nextSibling === startSentinel) {\n          startSentinel.remove();\n          container.insertAdjacentElement(\"afterbegin\", startSentinel);\n        }\n      }\n    });\n\n    observer.observe(container, { childList: true, subtree: false });\n\n    onCleanup(() => {\n      startSentinel.removeEventListener(\"focusin\", onFocus);\n      endSentinel.removeEventListener(\"focusin\", onFocus);\n      startSentinel.remove();\n      endSentinel.remove();\n      observer.disconnect();\n    });\n  });\n}\n","/*!\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the zag team:\n * https://github.com/chakra-ui/zag/blob/c1e6c7689b22bf58741ded7cf224dd9baec2a046/packages/utilities/form-utils/src/form.ts\n */\n\nimport { Accessor, createEffect, on, onCleanup } from \"solid-js\";\n\n/**\n * Listens for `reset` event on the closest `<form>` element and execute the given handler.\n */\nexport function createFormResetListener(\n  element: Accessor<HTMLElement | null | undefined>,\n  handler: () => void\n) {\n  createEffect(\n    on(element, element => {\n      if (element == null) {\n        return;\n      }\n\n      const form = getClosestForm(element);\n\n      if (form == null) {\n        return;\n      }\n\n      form.addEventListener(\"reset\", handler, { passive: true });\n\n      onCleanup(() => {\n        form.removeEventListener(\"reset\", handler);\n      });\n    })\n  );\n}\n\nfunction getClosestForm(element: HTMLElement) {\n  return isFormElement(element) ? element.form : element.closest(\"form\");\n}\n\nfunction isFormElement(\n  element: HTMLElement\n): element is HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement {\n  return element.matches(\"textarea, input, select, button\");\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/15e101b74966bd5eb719c6529ce71ce57eaed430/packages/@react-aria/live-announcer/src/LiveAnnouncer.tsx\n */\n\nimport { visuallyHiddenStyles } from \"@kobalte/utils\";\n\ntype Assertiveness = \"assertive\" | \"polite\";\n\n/* Inspired by https://github.com/AlmeroSteyn/react-aria-live */\nconst LIVEREGION_TIMEOUT_DELAY = 7000;\n\nlet liveAnnouncer: LiveAnnouncer | null = null;\n\nexport const DATA_LIVE_ANNOUNCER_ATTR = \"data-live-announcer\";\n\n/**\n * Announces the message using screen reader technology.\n */\nexport function announce(\n  message: string,\n  assertiveness: Assertiveness = \"assertive\",\n  timeout = LIVEREGION_TIMEOUT_DELAY\n) {\n  if (!liveAnnouncer) {\n    liveAnnouncer = new LiveAnnouncer();\n  }\n\n  liveAnnouncer.announce(message, assertiveness, timeout);\n}\n\n/**\n * Stops all queued announcements.\n */\nexport function clearAnnouncer(assertiveness: Assertiveness) {\n  if (liveAnnouncer) {\n    liveAnnouncer.clear(assertiveness);\n  }\n}\n\n/**\n * Removes the announcer from the DOM.\n */\nexport function destroyAnnouncer() {\n  if (liveAnnouncer) {\n    liveAnnouncer.destroy();\n    liveAnnouncer = null;\n  }\n}\n\n// LiveAnnouncer is implemented using vanilla DOM, not SolidJS.\nclass LiveAnnouncer {\n  node: HTMLElement | null;\n  assertiveLog: HTMLElement;\n  politeLog: HTMLElement;\n\n  constructor() {\n    this.node = document.createElement(\"div\");\n    this.node.dataset.liveAnnouncer = \"true\";\n\n    Object.assign(this.node.style, visuallyHiddenStyles);\n\n    this.assertiveLog = this.createLog(\"assertive\");\n    this.node.appendChild(this.assertiveLog);\n\n    this.politeLog = this.createLog(\"polite\");\n    this.node.appendChild(this.politeLog);\n\n    document.body.prepend(this.node);\n  }\n\n  createLog(ariaLive: string) {\n    const node = document.createElement(\"div\");\n\n    node.setAttribute(\"role\", \"log\");\n    node.setAttribute(\"aria-live\", ariaLive);\n    node.setAttribute(\"aria-relevant\", \"additions\");\n\n    return node;\n  }\n\n  destroy() {\n    if (!this.node) {\n      return;\n    }\n\n    document.body.removeChild(this.node);\n    this.node = null;\n  }\n\n  announce(message: string, assertiveness = \"assertive\", timeout = LIVEREGION_TIMEOUT_DELAY) {\n    if (!this.node) {\n      return;\n    }\n\n    const node = document.createElement(\"div\");\n    node.textContent = message;\n\n    if (assertiveness === \"assertive\") {\n      this.assertiveLog.appendChild(node);\n    } else {\n      this.politeLog.appendChild(node);\n    }\n\n    if (message !== \"\") {\n      setTimeout(() => {\n        node.remove();\n      }, timeout);\n    }\n  }\n\n  clear(assertiveness: Assertiveness) {\n    if (!this.node) {\n      return;\n    }\n\n    if (!assertiveness || assertiveness === \"assertive\") {\n      this.assertiveLog.innerHTML = \"\";\n    }\n\n    if (!assertiveness || assertiveness === \"polite\") {\n      this.politeLog.innerHTML = \"\";\n    }\n  }\n}\n","/*!\n * This file is based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/810579b671791f1593108f62cdc1893de3a220e3/packages/@react-aria/overlays/src/ariaHideOutside.ts\n */\n\nimport { access, MaybeAccessor } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\n\nimport { DATA_TOP_LAYER_ATTR } from \"../../dismissable-layer/layer-stack\";\nimport { DATA_LIVE_ANNOUNCER_ATTR } from \"../../live-announcer\";\n\nexport interface CreateHideOutsideProps {\n  /** The elements that should remain visible. */\n  targets: MaybeAccessor<Array<Element>>;\n\n  /** Nothing will be hidden above this element. */\n  root?: MaybeAccessor<HTMLElement | undefined>;\n\n  /** Whether the hide outside behavior is disabled or not. */\n  isDisabled?: MaybeAccessor<boolean | undefined>;\n}\n\n/**\n * Hides all elements in the DOM outside the given targets from screen readers\n * using aria-hidden, and returns a function to revert these changes.\n * In addition, changes to the DOM are watched and new elements\n * outside the targets are automatically hidden.\n */\nexport function createHideOutside(props: CreateHideOutsideProps) {\n  createEffect(() => {\n    if (access(props.isDisabled)) {\n      return;\n    }\n\n    onCleanup(ariaHideOutside(access(props.targets), access(props.root)));\n  });\n}\n\ninterface ObserverWrapper {\n  observe(): void;\n  disconnect(): void;\n}\n\n// Keeps a ref count of all hidden elements.\n// Added to when hiding an element, and subtracted from when showing it again.\n// When it reaches zero, aria-hidden is removed.\nconst refCountMap = new WeakMap<Element, number>();\nconst observerStack: Array<ObserverWrapper> = [];\n\n/**\n * Hides all elements in the DOM outside the given targets from screen readers using aria-hidden,\n * and returns a function to revert these changes. In addition, changes to the DOM are watched\n * and new elements outside the targets are automatically hidden.\n * @param targets - The elements that should remain visible.\n * @param root - Nothing will be hidden above this element.\n * @returns - A function to restore all hidden elements.\n */\nexport function ariaHideOutside(targets: Element[], root = document.body) {\n  const visibleNodes = new Set<Element>(targets);\n  const hiddenNodes = new Set<Element>();\n\n  const walk = (root: Element) => {\n    // Keep live announcer and top layer elements (e.g. toasts) visible.\n    for (const element of root.querySelectorAll(\n      `[${DATA_LIVE_ANNOUNCER_ATTR}], [${DATA_TOP_LAYER_ATTR}]`\n    )) {\n      visibleNodes.add(element);\n    }\n\n    const acceptNode = (node: Element) => {\n      // Skip this node and its children if it is one of the target nodes, or a live announcer.\n      // Also skip children of already hidden nodes, as aria-hidden is recursive. An exception is\n      // made for elements with role=\"row\" since VoiceOver on iOS has issues hiding elements with role=\"row\".\n      // For that case we want to hide the cells inside as well (https://bugs.webkit.org/show_bug.cgi?id=222623).\n      if (\n        visibleNodes.has(node) ||\n        (node.parentElement &&\n          hiddenNodes.has(node.parentElement) &&\n          node.parentElement.getAttribute(\"role\") !== \"row\")\n      ) {\n        return NodeFilter.FILTER_REJECT;\n      }\n\n      // Skip this node but continue to children if one of the targets is inside the node.\n      for (const target of visibleNodes) {\n        if (node.contains(target)) {\n          return NodeFilter.FILTER_SKIP;\n        }\n      }\n\n      return NodeFilter.FILTER_ACCEPT;\n    };\n\n    const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, { acceptNode });\n\n    // TreeWalker does not include the root.\n    const acceptRoot = acceptNode(root);\n    if (acceptRoot === NodeFilter.FILTER_ACCEPT) {\n      hide(root);\n    }\n\n    if (acceptRoot !== NodeFilter.FILTER_REJECT) {\n      let node = walker.nextNode() as Element;\n      while (node != null) {\n        hide(node);\n        node = walker.nextNode() as Element;\n      }\n    }\n  };\n\n  const hide = (node: Element) => {\n    const refCount = refCountMap.get(node) ?? 0;\n\n    // If already aria-hidden, and the ref count is zero, then this element\n    // was already hidden and there's nothing for us to do.\n    if (node.getAttribute(\"aria-hidden\") === \"true\" && refCount === 0) {\n      return;\n    }\n\n    if (refCount === 0) {\n      node.setAttribute(\"aria-hidden\", \"true\");\n    }\n\n    hiddenNodes.add(node);\n    refCountMap.set(node, refCount + 1);\n  };\n\n  // If there is already a MutationObserver listening from a previous call,\n  // disconnect it so the new on takes over.\n  if (observerStack.length) {\n    observerStack[observerStack.length - 1].disconnect();\n  }\n\n  walk(root);\n\n  const observer = new MutationObserver(changes => {\n    for (const change of changes) {\n      if (change.type !== \"childList\" || change.addedNodes.length === 0) {\n        continue;\n      }\n\n      // If the parent element of the added nodes is not within one of the targets,\n      // and not already inside a hidden node, hide all of the new children.\n      if (![...visibleNodes, ...hiddenNodes].some(node => node.contains(change.target))) {\n        for (const node of change.removedNodes) {\n          if (node instanceof Element) {\n            visibleNodes.delete(node);\n            hiddenNodes.delete(node);\n          }\n        }\n\n        for (const node of change.addedNodes) {\n          if (\n            (node instanceof HTMLElement || node instanceof SVGElement) &&\n            (node.dataset.liveAnnouncer === \"true\" || node.dataset.reactAriaTopLayer === \"true\")\n          ) {\n            visibleNodes.add(node);\n          } else if (node instanceof Element) {\n            walk(node);\n          }\n        }\n      }\n    }\n  });\n\n  observer.observe(root, { childList: true, subtree: true });\n\n  const observerWrapper = {\n    observe() {\n      observer.observe(root, { childList: true, subtree: true });\n    },\n    disconnect() {\n      observer.disconnect();\n    },\n  };\n\n  observerStack.push(observerWrapper);\n\n  return () => {\n    observer.disconnect();\n\n    for (const node of hiddenNodes) {\n      const count = refCountMap.get(node);\n\n      if (count == null) {\n        return;\n      }\n\n      if (count === 1) {\n        node.removeAttribute(\"aria-hidden\");\n        refCountMap.delete(node);\n      } else {\n        refCountMap.set(node, count - 1);\n      }\n    }\n\n    // Remove this observer from the stack, and start the previous one.\n    if (observerWrapper === observerStack[observerStack.length - 1]) {\n      observerStack.pop();\n      if (observerStack.length) {\n        observerStack[observerStack.length - 1].observe();\n      }\n    } else {\n      observerStack.splice(observerStack.indexOf(observerWrapper), 1);\n    }\n  };\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dismissable-layer/src/DismissableLayer.tsx\n *\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/interact-outside/src/index.ts\n */\n\nimport {\n  access,\n  composeEventHandlers,\n  contains,\n  getDocument,\n  isCtrlKey,\n  MaybeAccessor,\n  noop,\n} from \"@kobalte/utils\";\nimport { Accessor, createEffect, onCleanup } from \"solid-js\";\n\nimport { DATA_TOP_LAYER_ATTR } from \"../../dismissable-layer/layer-stack\";\n\ntype EventDetails<T> = {\n  originalEvent: T;\n  isContextMenu: boolean;\n};\n\nexport type PointerDownOutsideEvent = CustomEvent<EventDetails<PointerEvent>>;\nexport type FocusOutsideEvent = CustomEvent<EventDetails<FocusEvent>>;\nexport type InteractOutsideEvent = PointerDownOutsideEvent | FocusOutsideEvent;\n\nexport interface CreateInteractOutsideProps {\n  /** Whether the interact outside events should be listened or not. */\n  isDisabled?: MaybeAccessor<boolean | undefined>;\n\n  /**\n   * When user interacts with the argument element outside the ref,\n   * return `true` if the interaction should not trigger the \"interact outside\" handlers.\n   */\n  shouldExcludeElement?: (element: HTMLElement) => boolean;\n\n  /**\n   * Event handler called when a `pointerdown` event happens outside the ref.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n\n  /**\n   * Event handler called when the focus moves outside the ref.\n   * Can be prevented.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n\n  /**\n   * Event handler called when an interaction happens outside the ref.\n   * Specifically, when a `pointerdown` event happens outside or focus moves outside of it.\n   * Can be prevented.\n   */\n  onInteractOutside?: (event: InteractOutsideEvent) => void;\n}\n\nconst POINTER_DOWN_OUTSIDE_EVENT = \"interactOutside.pointerDownOutside\";\nconst FOCUS_OUTSIDE_EVENT = \"interactOutside.focusOutside\";\n\nexport function createInteractOutside<T extends HTMLElement>(\n  props: CreateInteractOutsideProps,\n  ref: Accessor<T | undefined>\n) {\n  let pointerDownTimeoutId: number | undefined;\n  let clickHandler = noop;\n\n  const ownerDocument = () => getDocument(ref());\n  const onPointerDownOutside = (e: PointerDownOutsideEvent) => props.onPointerDownOutside?.(e);\n  const onFocusOutside = (e: FocusOutsideEvent) => props.onFocusOutside?.(e);\n  const onInteractOutside = (e: InteractOutsideEvent) => props.onInteractOutside?.(e);\n\n  const isEventOutside = (e: Event) => {\n    const target = e.target as HTMLElement | null;\n\n    if (!(target instanceof HTMLElement)) {\n      return false;\n    }\n\n    // If the target is within a top layer element (e.g. toasts), ignore.\n    if (target.closest(`[${DATA_TOP_LAYER_ATTR}]`)) {\n      return false;\n    }\n\n    if (!contains(ownerDocument(), target)) {\n      return false;\n    }\n\n    if (contains(ref(), target)) {\n      return false;\n    }\n\n    return !props.shouldExcludeElement?.(target);\n  };\n\n  const onPointerDown = (e: PointerEvent) => {\n    function handler() {\n      const container = ref();\n      const target = e.target as HTMLElement | null;\n\n      if (!container || !target || !isEventOutside(e)) {\n        return;\n      }\n\n      const handler = composeEventHandlers([\n        onPointerDownOutside,\n        onInteractOutside,\n      ]) as EventListener;\n\n      target.addEventListener(POINTER_DOWN_OUTSIDE_EVENT, handler, { once: true });\n\n      const pointerDownOutsideEvent = new CustomEvent(POINTER_DOWN_OUTSIDE_EVENT, {\n        bubbles: false,\n        cancelable: true,\n        detail: {\n          originalEvent: e,\n          isContextMenu: e.button === 2 || (isCtrlKey(e) && e.button === 0),\n        } as EventDetails<PointerEvent>,\n      });\n\n      target.dispatchEvent(pointerDownOutsideEvent);\n    }\n\n    /**\n     * On touch devices, we need to wait for a click event because browsers implement\n     * a ~350ms delay between the time the user stops touching the display and when the\n     * browser executes events. We need to ensure we don't reactivate pointer-events within\n     * this timeframe otherwise the browser may execute events that should have been prevented.\n     *\n     * Additionally, this also lets us deal automatically with cancellations when a click event\n     * isn't raised because the page was considered scrolled/drag-scrolled, long-pressed, etc.\n     *\n     * This is why we also continuously remove the previous listener, because we cannot be\n     * certain that it was raised, and therefore cleaned-up.\n     */\n    if (e.pointerType === \"touch\") {\n      ownerDocument().removeEventListener(\"click\", handler);\n      clickHandler = handler;\n      ownerDocument().addEventListener(\"click\", handler, { once: true });\n    } else {\n      handler();\n    }\n  };\n\n  const onFocusIn = (e: FocusEvent) => {\n    const container = ref();\n    const target = e.target as HTMLElement | null;\n\n    if (!container || !target || !isEventOutside(e)) {\n      return;\n    }\n\n    const handler = composeEventHandlers([onFocusOutside, onInteractOutside]) as EventListener;\n\n    target.addEventListener(FOCUS_OUTSIDE_EVENT, handler, { once: true });\n\n    const focusOutsideEvent = new CustomEvent(FOCUS_OUTSIDE_EVENT, {\n      bubbles: false,\n      cancelable: true,\n      detail: {\n        originalEvent: e,\n        isContextMenu: false,\n      } as EventDetails<FocusEvent>,\n    });\n\n    target.dispatchEvent(focusOutsideEvent);\n  };\n\n  createEffect(() => {\n    if (access(props.isDisabled)) {\n      return;\n    }\n\n    /**\n     * if this primitive executes in a component that mounts via a `pointerdown` event, the event\n     * would bubble up to the document and trigger a `pointerDownOutside` event. We avoid\n     * this by delaying the event listener registration on the document.\n     * ```\n     * button.addEventListener('pointerdown', () => {\n     *   console.log('I will log');\n     *   document.addEventListener('pointerdown', () => {\n     *     console.log('I will also log');\n     *   })\n     * });\n     */\n    pointerDownTimeoutId = window.setTimeout(() => {\n      ownerDocument().addEventListener(\"pointerdown\", onPointerDown, true);\n    }, 0);\n\n    ownerDocument().addEventListener(\"focusin\", onFocusIn, true);\n\n    onCleanup(() => {\n      window.clearTimeout(pointerDownTimeoutId);\n\n      ownerDocument().removeEventListener(\"click\", clickHandler);\n      ownerDocument().removeEventListener(\"pointerdown\", onPointerDown, true);\n      ownerDocument().removeEventListener(\"focusin\", onFocusIn, true);\n    });\n  });\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/presence/src/Presence.tsx\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/presence/src/useStateMachine.tsx\n */\n\nimport { Accessor, createEffect, createSignal, on, onCleanup } from \"solid-js\";\n\nexport interface CreatePresenceResult {\n  isPresent: Accessor<boolean>;\n  setRef: (el: HTMLElement) => void;\n}\n\nexport function createPresence(present: Accessor<boolean>): CreatePresenceResult {\n  const [node, setNode] = createSignal<HTMLElement>();\n\n  let styles = {} as CSSStyleDeclaration;\n  let prevPresent = present();\n  let prevAnimationName = \"none\";\n\n  const [state, send] = createStateMachine(present() ? \"mounted\" : \"unmounted\", {\n    mounted: {\n      UNMOUNT: \"unmounted\",\n      ANIMATION_OUT: \"unmountSuspended\",\n    },\n    unmountSuspended: {\n      MOUNT: \"mounted\",\n      ANIMATION_END: \"unmounted\",\n    },\n    unmounted: {\n      MOUNT: \"mounted\",\n    },\n  });\n\n  createEffect(\n    on(state, state => {\n      const currentAnimationName = getAnimationName(styles);\n      prevAnimationName = state === \"mounted\" ? currentAnimationName : \"none\";\n    })\n  );\n\n  createEffect(\n    on(present, present => {\n      if (prevPresent === present) {\n        return;\n      }\n\n      const currentAnimationName = getAnimationName(styles);\n\n      if (present) {\n        send(\"MOUNT\");\n        //} else if (currentAnimationName === \"none\" || styles?.display === \"none\") {\n        // If there is no exit animation or the element is hidden, animations won't run, so we unmount instantly\n      } else if (styles?.display === \"none\") {\n        // If the element is hidden, animations won't run, so we unmount instantly\n        send(\"UNMOUNT\");\n      } else {\n        /**\n         * When `present` changes to `false`, we check changes to animation-name to\n         * determine whether an animation has started. We chose this approach (reading\n         * computed styles) because there is no `animationrun` event and `animationstart`\n         * fires after `animation-delay` has expired which would be too late.\n         */\n        const isAnimating = prevAnimationName !== currentAnimationName;\n\n        if (prevPresent && isAnimating) {\n          send(\"ANIMATION_OUT\");\n        } else {\n          send(\"UNMOUNT\");\n        }\n      }\n\n      prevPresent = present;\n    })\n  );\n\n  createEffect(\n    on(node, node => {\n      if (node) {\n        /**\n         * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n         * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n         * make sure we only trigger ANIMATION_END for the currently active animation.\n         */\n        const handleAnimationEnd = (event: AnimationEvent) => {\n          const currentAnimationName = getAnimationName(styles);\n          const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n\n          if (event.target === node && isCurrentAnimation) {\n            send(\"ANIMATION_END\");\n          }\n        };\n\n        const handleAnimationStart = (event: AnimationEvent) => {\n          if (event.target === node) {\n            // if animation occurred, store its name as the previous animation.\n            prevAnimationName = getAnimationName(styles);\n          }\n        };\n\n        node.addEventListener(\"animationstart\", handleAnimationStart);\n        node.addEventListener(\"animationcancel\", handleAnimationEnd);\n        node.addEventListener(\"animationend\", handleAnimationEnd);\n\n        onCleanup(() => {\n          node.removeEventListener(\"animationstart\", handleAnimationStart);\n          node.removeEventListener(\"animationcancel\", handleAnimationEnd);\n          node.removeEventListener(\"animationend\", handleAnimationEnd);\n        });\n      } else {\n        // Transition to the unmounted state if the node is removed prematurely.\n        // We avoid doing so during cleanup as the node may change but still exist.\n        send(\"ANIMATION_END\");\n      }\n    })\n  );\n\n  return {\n    isPresent: () => [\"mounted\", \"unmountSuspended\"].includes(state()),\n    setRef: (el: HTMLElement) => {\n      if (el) {\n        styles = getComputedStyle(el);\n      }\n\n      setNode(el);\n    },\n  };\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getAnimationName(styles?: CSSStyleDeclaration) {\n  return styles?.animationName || \"none\";\n}\n\n// https://fettblog.eu/typescript-union-to-intersection/\ntype UnionToIntersection<T> = (T extends any ? (x: T) => any : never) extends (x: infer R) => any\n  ? R\n  : never;\n\ntype Machine<S> = { [k: string]: { [k: string]: S } };\ntype MachineState<T> = keyof T;\ntype MachineEvent<T> = keyof UnionToIntersection<T[keyof T]>;\n\nfunction createStateMachine<M>(\n  initialState: MachineState<M>,\n  machine: M & Machine<MachineState<M>>\n): [Accessor<MachineState<M>>, (event: MachineEvent<M>) => void] {\n  const reduce = (state: MachineState<M>, event: MachineEvent<M>): MachineState<M> => {\n    const nextState = (machine[state] as any)[event];\n    return nextState ?? state;\n  };\n\n  const [state, setState] = createSignal(initialState);\n\n  const send = (event: MachineEvent<M>) => {\n    setState(prev => reduce(prev, event));\n  };\n\n  return [state, send];\n}\n","/*!\n * Portions of this file are based on code from floating-ui.\n * MIT Licensed, Copyright (c) 2021 Floating UI contributors.\n *\n * Credits to the Floating UI contributors:\n * https://github.com/floating-ui/floating-ui/blob/f7ce9420aa32c150eb45049f12cf3b5506715341/packages/react/src/components/FloatingOverlay.tsx\n *\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/5d8a1f047fcadcf117073c70359663a3946b73bf/packages/ariakit/src/dialog/__utils/use-prevent-body-scroll.ts\n */\n\nimport { access, chain, getDocument, getWindow, isIOS, MaybeAccessor } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\n\nconst SCROLL_LOCK_IDENTIFIER = \"data-kb-scroll-lock\";\n\nfunction assignStyle(element: HTMLElement | null | undefined, style: Partial<CSSStyleDeclaration>) {\n  if (!element) {\n    return () => {};\n  }\n\n  const previousStyle = element.style.cssText;\n  Object.assign(element.style, style);\n\n  return () => {\n    element.style.cssText = previousStyle;\n  };\n}\n\nfunction setCSSProperty(element: HTMLElement | null | undefined, property: string, value: string) {\n  if (!element) {\n    return () => {};\n  }\n\n  const previousValue = element.style.getPropertyValue(property);\n  element.style.setProperty(property, value);\n\n  return () => {\n    if (previousValue) {\n      element.style.setProperty(property, previousValue);\n    } else {\n      element.style.removeProperty(property);\n    }\n  };\n}\n\nfunction getPaddingProperty(documentElement: HTMLElement) {\n  // RTL <body> scrollbar\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\n\nexport interface PreventScrollProps {\n  /** The element that requested a scroll lock. */\n  ownerRef: MaybeAccessor<HTMLElement | undefined>;\n\n  /** Whether the scroll lock is disabled. */\n  isDisabled?: MaybeAccessor<boolean | undefined>;\n}\n\n/**\n * Prevents scrolling on the document body on mount, and\n * restores it on unmount. Also ensures that content does not\n * shift due to the scrollbars disappearing.\n */\nexport function createPreventScroll(props: PreventScrollProps) {\n  createEffect(() => {\n    if (!access(props.ownerRef) || access(props.isDisabled)) {\n      return;\n    }\n\n    const doc = getDocument(access(props.ownerRef));\n    const win = getWindow(access(props.ownerRef));\n\n    const { documentElement, body } = doc;\n\n    const alreadyLocked = body.hasAttribute(SCROLL_LOCK_IDENTIFIER);\n\n    if (alreadyLocked) {\n      return;\n    }\n\n    body.setAttribute(SCROLL_LOCK_IDENTIFIER, \"\");\n\n    const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n\n    const setScrollbarWidthProperty = () => {\n      return setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n    };\n\n    const paddingProperty = getPaddingProperty(documentElement);\n\n    // For most browsers, all we need to do is set `overflow: hidden` on the root element, and\n    // add some padding to prevent the page from shifting when the scrollbar is hidden.\n    const setStyle = () => {\n      return assignStyle(body, {\n        overflow: \"hidden\",\n        [paddingProperty]: `${scrollbarWidth}px`,\n      });\n    };\n\n    // Only iOS doesn't respect `overflow: hidden` on document.body.\n    const setIOSStyle = () => {\n      const { scrollX, scrollY, visualViewport } = win;\n\n      // iOS 12 does not support `visualViewport`.\n      const offsetLeft = visualViewport?.offsetLeft ?? 0;\n      const offsetTop = visualViewport?.offsetTop ?? 0;\n\n      const restoreStyle = assignStyle(body, {\n        position: \"fixed\",\n        overflow: \"hidden\",\n        top: `${-(scrollY - Math.floor(offsetTop))}px`,\n        left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n        right: \"0\",\n        [paddingProperty]: `${scrollbarWidth}px`,\n      });\n\n      return () => {\n        restoreStyle();\n        win.scrollTo(scrollX, scrollY);\n      };\n    };\n\n    const cleanup = chain([setScrollbarWidthProperty(), isIOS() ? setIOSStyle() : setStyle()]);\n\n    onCleanup(() => {\n      cleanup();\n      body.removeAttribute(SCROLL_LOCK_IDENTIFIER);\n    });\n  });\n}\n","import { Setter } from \"solid-js\";\n\n/**\n * Create a function that call the setter with an id and return a function to reset it.\n */\nexport function createRegisterId(setter: Setter<string | undefined>) {\n  return (id: string) => {\n    setter(id);\n    return () => setter(undefined);\n  };\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the ariakit team:\n * https://github.com/ariakit/ariakit/blob/8a13899ff807bbf39f3d89d2d5964042ba4d5287/packages/ariakit-react-utils/src/hooks.ts\n */\n\nimport { isString } from \"@kobalte/utils\";\nimport { Accessor, Component, createEffect, createSignal } from \"solid-js\";\n\n/**\n * Returns the tag name by parsing an element ref.\n * @example\n * function Component(props) {\n *   let ref: HTMLDivElement | undefined;\n *   const tagName = createTagName(() => ref, () => \"button\"); // div\n *   return <div ref={ref} {...props} />;\n * }\n */\nexport function createTagName(\n  ref: Accessor<HTMLElement | undefined>,\n  fallback?: Accessor<string | Component | undefined>\n) {\n  const [tagName, setTagName] = createSignal(stringOrUndefined(fallback?.()));\n\n  createEffect(() => {\n    setTagName(ref()?.tagName.toLowerCase() || stringOrUndefined(fallback?.()));\n  });\n\n  return tagName;\n}\n\nfunction stringOrUndefined(value: any) {\n  return isString(value) ? value : undefined;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/a13802d8be6f83af1450e56f7a88527b10d9cadf/packages/@react-stately/toggle/src/useToggleState.ts\n */\n\nimport { access, MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor } from \"solid-js\";\n\nimport { createControllableBooleanSignal } from \"../create-controllable-signal\";\n\nexport interface CreateToggleStateProps {\n  /** The controlled selected state. */\n  isSelected?: MaybeAccessor<boolean | undefined>;\n\n  /**\n   * The default selected state when initially rendered.\n   * Useful when you do not need to control the selected state.\n   */\n  defaultIsSelected?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the selected state cannot be changed by the user. */\n  isDisabled?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the selected state cannot be changed by the user. */\n  isReadOnly?: MaybeAccessor<boolean | undefined>;\n\n  /** Event handler called when the selected state changes. */\n  onSelectedChange?: (isSelected: boolean) => void;\n}\n\nexport interface ToggleState {\n  /** The selected state. */\n  isSelected: Accessor<boolean>;\n\n  /** Updates the selected state. */\n  setIsSelected: (isSelected: boolean) => void;\n\n  /** Toggle the selected state. */\n  toggle: () => void;\n}\n\n/**\n * Provides state management for toggle components like checkboxes and switches.\n */\nexport function createToggleState(props: CreateToggleStateProps = {}): ToggleState {\n  const [isSelected, _setIsSelected] = createControllableBooleanSignal({\n    value: () => access(props.isSelected),\n    defaultValue: () => !!access(props.defaultIsSelected),\n    onChange: value => props.onSelectedChange?.(value),\n  });\n\n  const setIsSelected = (value: boolean) => {\n    if (!access(props.isReadOnly) && !access(props.isDisabled)) {\n      _setIsSelected(value);\n    }\n  };\n\n  const toggle = () => {\n    if (!access(props.isReadOnly) && !access(props.isDisabled)) {\n      _setIsSelected(!isSelected());\n    }\n  };\n\n  return {\n    isSelected,\n    setIsSelected,\n    toggle,\n  };\n}\n","/*!\n * Portions of this file are based on code from mantinedev.\n * MIT Licensed, Copyright (c) 2021 Vitaly Rtishchev.\n *\n * Credits to the Mantinedev team:\n * https://github.com/mantinedev/mantine/blob/8546c580fdcaa9653edc6f4813103349a96cfb09/src/mantine-core/src/Transition/get-transition-styles/get-transition-styles.ts\n */\n\nimport { JSX } from \"solid-js\";\n\nimport { TransitionStyles } from \"./types\";\n\nconst TRANSITION_PHASES_MAP = {\n  beforeEnter: \"out\",\n  enter: \"in\",\n  afterEnter: \"in\",\n  beforeExit: \"in\", //\"out\",\n  exit: \"out\",\n  afterExit: \"out\",\n} as const;\n\nexport type TransitionPhase = keyof typeof TRANSITION_PHASES_MAP;\n\ninterface GetTransitionStylesParams {\n  transition: TransitionStyles;\n  phase: TransitionPhase;\n  duration: number;\n  easing: JSX.CSSProperties[\"transition-timing-function\"];\n}\n\nexport function getTransitionStyles(params: GetTransitionStylesParams): JSX.CSSProperties {\n  const shared: JSX.CSSProperties = {\n    \"transition-duration\": `${params.duration}ms`,\n    \"transition-timing-function\": params.easing,\n  };\n\n  return {\n    \"transition-property\": getTransitionProperty(params.transition),\n    ...shared,\n    ...params.transition.common,\n    ...params.transition[TRANSITION_PHASES_MAP[params.phase]],\n  };\n}\n\nfunction getTransitionProperty(transitionStyles: TransitionStyles): string {\n  return [\n    ...new Set([...Object.keys(transitionStyles.in), ...Object.keys(transitionStyles.out)]),\n  ].join(\", \");\n}\n","/*!\n * Portions of this file are based on code from mantinedev.\n * MIT Licensed, Copyright (c) 2021 Vitaly Rtishchev.\n *\n * Credits to the Mantinedev team:\n * https://github.com/mantinedev/mantine/blob/8546c580fdcaa9653edc6f4813103349a96cfb09/src/mantine-core/src/Transition/use-transition.ts\n */\n\nimport { access, createMediaQuery, MaybeAccessor } from \"@kobalte/utils\";\nimport {\n  Accessor,\n  createEffect,\n  createMemo,\n  createSignal,\n  JSX,\n  mergeProps,\n  on,\n  onCleanup,\n} from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n\nimport { getTransitionStyles, TransitionPhase } from \"./get-transition-styles\";\nimport { TransitionStyles } from \"./types\";\n\nexport interface TransitionOptions {\n  /** The transition styles. */\n  transition: TransitionStyles;\n\n  /** Transitions duration (in ms). */\n  duration?: number;\n\n  /** Exit transition duration (in ms). */\n  exitDuration?: number;\n\n  /** Delay before starting transitions (in ms). */\n  delay?: number;\n\n  /** Delay before starting the exit transition (in ms). */\n  exitDelay?: number;\n\n  /** Transitions timing function. */\n  easing?: JSX.CSSProperties[\"transition-timing-function\"];\n\n  /** Exit transition timing function. */\n  exitEasing?: JSX.CSSProperties[\"transition-timing-function\"];\n\n  /** A function that will be called when enter transition starts. */\n  onBeforeEnter?: () => void;\n\n  /** A function that will be called when enter transition ends. */\n  onAfterEnter?: () => void;\n\n  /** A function that will be called when exit transition starts. */\n  onBeforeExit?: () => void;\n\n  /** A function that will be called when exit transition ends. */\n  onAfterExit?: () => void;\n}\n\nexport interface TransitionResult {\n  /** Whether the element should be kept in the DOM. */\n  keepMounted: Accessor<boolean>;\n\n  /** The transition style to apply on the element. */\n  style: Accessor<JSX.CSSProperties>;\n}\n\nconst DEFAULT_DURATION = 250;\nconst DEFAULT_DELAY = 10;\nconst DEFAULT_EASING: JSX.CSSProperties[\"transition-timing-function\"] = \"ease\";\n\n/**\n * Primitive for working with enter/exit transitions.\n *\n * @param shouldMount Whether the component should be mounted.\n * @param options The transition options.\n */\nexport function createTransition(\n  shouldMount: MaybeAccessor<boolean>,\n  options: MaybeAccessor<TransitionOptions>\n): TransitionResult {\n  options = mergeProps(\n    {\n      duration: DEFAULT_DURATION,\n      delay: DEFAULT_DELAY,\n      easing: DEFAULT_EASING,\n      get exitDuration() {\n        return access(options).duration || DEFAULT_DURATION;\n      },\n      get exitDelay() {\n        return access(options).delay || DEFAULT_DELAY;\n      },\n      get exitEasing() {\n        return access(options).easing || DEFAULT_EASING;\n      },\n    } as TransitionOptions,\n    options\n  );\n\n  const reduceMotion = createMediaQuery(\"(prefers-reduced-motion: reduce)\");\n\n  const [duration, setDuration] = createSignal(reduceMotion() ? 0 : access(options).duration!);\n\n  const [phase, setPhase] = createSignal<TransitionPhase>(\n    access(shouldMount) ? \"afterEnter\" : \"afterExit\"\n  );\n\n  const [easing, setEasing] = createSignal(access(options).easing!);\n\n  let timeoutId = -1;\n\n  const handleStateChange = (shouldMount: boolean) => {\n    const preHandler = shouldMount ? access(options).onBeforeEnter : access(options).onBeforeExit;\n    const postHandler = shouldMount ? access(options).onAfterEnter : access(options).onAfterExit;\n\n    setPhase(shouldMount ? \"beforeEnter\" : \"beforeExit\");\n\n    window.clearTimeout(timeoutId);\n\n    const newDuration = setDuration(\n      reduceMotion() ? 0 : shouldMount ? access(options).duration! : access(options).exitDuration!\n    );\n\n    setEasing(shouldMount ? access(options).easing! : access(options).exitEasing!);\n\n    if (newDuration === 0) {\n      preHandler?.();\n      postHandler?.();\n      setPhase(shouldMount ? \"afterEnter\" : \"afterExit\");\n      return;\n    }\n\n    const delay = reduceMotion()\n      ? 0\n      : shouldMount\n      ? access(options).delay!\n      : access(options).exitDelay!;\n\n    const preStateTimeoutId = window.setTimeout(() => {\n      preHandler?.();\n      setPhase(shouldMount ? \"enter\" : \"exit\");\n    }, delay);\n\n    timeoutId = window.setTimeout(() => {\n      window.clearTimeout(preStateTimeoutId);\n      postHandler?.();\n      setPhase(shouldMount ? \"afterEnter\" : \"afterExit\");\n    }, delay + newDuration);\n  };\n\n  const style = createMemo(() =>\n    getTransitionStyles({\n      transition: access(options).transition!,\n      duration: duration(),\n      phase: phase(),\n      easing: easing(),\n    })\n  );\n\n  const keepMounted = createMemo(() => phase() !== \"afterExit\");\n\n  createEffect(\n    on(\n      () => access(shouldMount),\n      shouldMount => handleStateChange(shouldMount),\n      { defer: true }\n    )\n  );\n\n  onCleanup(() => {\n    if (isServer) {\n      return;\n    }\n\n    window.clearTimeout(timeoutId);\n  });\n\n  return { keepMounted, style };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-aria/label/src/useField.ts\n */\n\nimport {\n  access,\n  createGenerateId,\n  MaybeAccessor,\n  mergeDefaultProps,\n  ValidationState,\n} from \"@kobalte/utils\";\nimport { Accessor, createMemo, createSignal, createUniqueId } from \"solid-js\";\n\nimport { createRegisterId } from \"../primitives\";\nimport { FormControlContextValue, FormControlDataSet } from \"./form-control-context\";\n\nexport interface CreateFormControlProps {\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: MaybeAccessor<string | undefined>;\n\n  /**\n   * The name of the form control.\n   * Submitted with its owning form as part of a name/value pair.\n   */\n  name?: MaybeAccessor<string | undefined>;\n\n  /** Whether the form control should display its \"valid\" or \"invalid\" visual styling. */\n  validationState?: MaybeAccessor<ValidationState | undefined>;\n\n  /** Whether the user must fill the form control before the owning form can be submitted. */\n  required?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the form control is disabled. */\n  disabled?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the form control is read only. */\n  readOnly?: MaybeAccessor<boolean | undefined>;\n}\n\nexport const FORM_CONTROL_PROP_NAMES = [\n  \"id\",\n  \"name\",\n  \"validationState\",\n  \"required\",\n  \"disabled\",\n  \"readOnly\",\n] as const;\n\nexport function createFormControl(props: CreateFormControlProps) {\n  const defaultId = `form-control-${createUniqueId()}`;\n\n  props = mergeDefaultProps({ id: defaultId }, props);\n\n  const [labelId, setLabelId] = createSignal<string>();\n  const [fieldId, setFieldId] = createSignal<string>();\n  const [descriptionId, setDescriptionId] = createSignal<string>();\n  const [errorMessageId, setErrorMessageId] = createSignal<string>();\n\n  const getAriaLabelledBy = (\n    fieldId: string | undefined,\n    fieldAriaLabel: string | undefined,\n    fieldAriaLabelledBy: string | undefined\n  ) => {\n    const hasAriaLabelledBy = fieldAriaLabelledBy != null || labelId() != null;\n\n    return (\n      [\n        fieldAriaLabelledBy,\n        labelId(),\n        // If there is both an aria-label and aria-labelledby, add the field itself has an aria-labelledby\n        hasAriaLabelledBy && fieldAriaLabel != null ? fieldId : undefined,\n      ]\n        .filter(Boolean)\n        .join(\" \") || undefined\n    );\n  };\n\n  const getAriaDescribedBy = (fieldAriaDescribedBy: string | undefined) => {\n    return (\n      [\n        descriptionId(),\n        // Use aria-describedby for error message because aria-errormessage is unsupported using VoiceOver or NVDA.\n        // See https://github.com/adobe/react-spectrum/issues/1346#issuecomment-740136268\n        errorMessageId(),\n        fieldAriaDescribedBy,\n      ]\n        .filter(Boolean)\n        .join(\" \") || undefined\n    );\n  };\n\n  const dataset: Accessor<FormControlDataSet> = createMemo(() => ({\n    \"data-valid\": access(props.validationState) === \"valid\" ? \"\" : undefined,\n    \"data-invalid\": access(props.validationState) === \"invalid\" ? \"\" : undefined,\n    \"data-required\": access(props.required) ? \"\" : undefined,\n    \"data-disabled\": access(props.disabled) ? \"\" : undefined,\n    \"data-readonly\": access(props.readOnly) ? \"\" : undefined,\n  }));\n\n  const formControlContext: FormControlContextValue = {\n    name: () => access(props.name) ?? access(props.id)!,\n    dataset,\n    validationState: () => access(props.validationState),\n    isRequired: () => access(props.required),\n    isDisabled: () => access(props.disabled),\n    isReadOnly: () => access(props.readOnly),\n    labelId,\n    fieldId,\n    descriptionId,\n    errorMessageId,\n    getAriaLabelledBy,\n    getAriaDescribedBy,\n    generateId: createGenerateId(() => access(props.id)!),\n    registerLabel: createRegisterId(setLabelId),\n    registerField: createRegisterId(setFieldId),\n    registerDescription: createRegisterId(setDescriptionId),\n    registerErrorMessage: createRegisterId(setErrorMessageId),\n  };\n\n  return { formControlContext };\n}\n","import { ValidationState } from \"@kobalte/utils\";\nimport { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface FormControlDataSet {\n  \"data-valid\": string | undefined;\n  \"data-invalid\": string | undefined;\n  \"data-required\": string | undefined;\n  \"data-disabled\": string | undefined;\n  \"data-readonly\": string | undefined;\n}\n\nexport interface FormControlContextValue {\n  name: Accessor<string>;\n  dataset: Accessor<FormControlDataSet>;\n  validationState: Accessor<ValidationState | undefined>;\n  isRequired: Accessor<boolean | undefined>;\n  isDisabled: Accessor<boolean | undefined>;\n  isReadOnly: Accessor<boolean | undefined>;\n  labelId: Accessor<string | undefined>;\n  fieldId: Accessor<string | undefined>;\n  descriptionId: Accessor<string | undefined>;\n  errorMessageId: Accessor<string | undefined>;\n  getAriaLabelledBy: (\n    fieldId: string | undefined,\n    fieldAriaLabel: string | undefined,\n    fieldAriaLabelledBy: string | undefined\n  ) => string | undefined;\n  getAriaDescribedBy: (fieldAriaDescribedBy: string | undefined) => string | undefined;\n  generateId: (part: string) => string;\n  registerLabel: (id: string) => () => void;\n  registerField: (id: string) => () => void;\n  registerDescription: (id: string) => () => void;\n  registerErrorMessage: (id: string) => () => void;\n}\n\nexport const FormControlContext = createContext<FormControlContextValue>();\n\nexport function useFormControlContext() {\n  const context = useContext(FormControlContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component\"\n    );\n  }\n\n  return context;\n}\n","import { access, MaybeAccessor, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\n\nimport { useFormControlContext } from \"./form-control-context\";\n\nexport interface CreateFormControlFieldProps {\n  /**\n   * The HTML id attribute of the field.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: MaybeAccessor<string | undefined>;\n\n  /** The HTML aria-label attribute of the field. */\n  \"aria-label\"?: MaybeAccessor<string | undefined>;\n\n  /** The HTML aria-labelledby attribute of the field. */\n  \"aria-labelledby\"?: MaybeAccessor<string | undefined>;\n\n  /** The HTML  attribute of the field. */\n  \"aria-describedby\"?: MaybeAccessor<string | undefined>;\n}\n\nexport const FORM_CONTROL_FIELD_PROP_NAMES = [\n  \"id\",\n  \"aria-label\",\n  \"aria-labelledby\",\n  \"aria-describedby\",\n] as const;\n\nexport function createFormControlField(props: CreateFormControlFieldProps) {\n  const context = useFormControlContext();\n\n  props = mergeDefaultProps({ id: context.generateId(\"field\") }, props);\n\n  createEffect(() => onCleanup(context.registerField(access(props.id)!)));\n\n  return {\n    fieldProps: {\n      id: () => access(props.id),\n      ariaLabel: () => access(props[\"aria-label\"]),\n      ariaLabelledBy: () =>\n        context.getAriaLabelledBy(\n          access(props.id),\n          access(props[\"aria-label\"]),\n          access(props[\"aria-labelledby\"])\n        ),\n      ariaDescribedBy: () => context.getAriaDescribedBy(access(props[\"aria-describedby\"])),\n    },\n  };\n}\n","/* @refresh reload */\n/* eslint-disable solid/reactivity */\n/* eslint-disable solid/components-return-once */\n\n/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/b14ac1fff0cdaf45d1ea3e65c28c320ac0f743f2/packages/react/slot/src/Slot.tsx\n */\n\nimport { combineProps as baseCombineProps, isArray } from \"@kobalte/utils\";\nimport {\n  Accessor,\n  children,\n  ComponentProps,\n  For,\n  JSX,\n  Show,\n  splitProps,\n  ValidComponent,\n} from \"solid-js\";\nimport { Dynamic, DynamicProps } from \"solid-js/web\";\n\n/* -------------------------------------------------------------------------------------------------\n * Polymorphic\n * -----------------------------------------------------------------------------------------------*/\n\nexport interface AsChildProp {\n  /** Whether the component should render as its direct `As` child component. */\n  asChild?: boolean;\n\n  /** The component to render when `children` doesn't contain any `<As>` component as direct child. */\n  as?: ValidComponent;\n}\n\nexport type PolymorphicProps<T extends ValidComponent, P = ComponentProps<T>> = {\n  [K in keyof P]: P[K];\n} & AsChildProp;\n\n/**\n * A utility component that render either a direct `<As>` child or its `as` prop.\n */\nexport function Polymorphic<T extends ValidComponent>(props: PolymorphicProps<T>) {\n  const [local, others] = splitProps(props as PolymorphicProps<ValidComponent>, [\n    \"asChild\",\n    \"as\",\n    \"children\",\n  ]);\n\n  // Prevent the extra computation below when \"as child\" polymorphism is not needed.\n  if (!local.asChild) {\n    return (\n      <Dynamic component={local.as} {...others}>\n        {local.children}\n      </Dynamic>\n    );\n  }\n\n  const resolvedChildren = children(() => local.children) as Accessor<any>;\n\n  // Single child is `As`.\n  if (isAs(resolvedChildren())) {\n    const combinedProps = combineProps(others, resolvedChildren()?.props ?? {});\n    return <Dynamic {...combinedProps} />;\n  }\n\n  // Multiple children, find an `As` if any.\n  if (isArray(resolvedChildren())) {\n    const newElement = resolvedChildren().find(isAs);\n\n    if (newElement) {\n      // because the new element will be the one rendered, we are only interested\n      // in grabbing its children (`newElement.props.children`)\n      const newChildren = () => (\n        <For each={resolvedChildren()}>\n          {(child: any) => (\n            <Show when={child === newElement} fallback={child}>\n              {newElement.props.children}\n            </Show>\n          )}\n        </For>\n      );\n\n      const combinedProps = combineProps(others, newElement?.props ?? {});\n\n      return <Dynamic {...combinedProps}>{newChildren}</Dynamic>;\n    }\n  }\n\n  throw new Error(\n    \"[kobalte]: Component is expected to render `asChild` but no children `As` component was found.\"\n  );\n}\n\n/* -------------------------------------------------------------------------------------------------\n * As\n * -----------------------------------------------------------------------------------------------*/\n\nconst AS_COMPONENT_SYMBOL = Symbol(\"$$KobalteAsComponent\");\n\n/**\n * A utility component used to delegate rendering of its `Polymorphic` parent component.\n */\nexport function As<T extends ValidComponent>(props: DynamicProps<T>) {\n  return {\n    [AS_COMPONENT_SYMBOL]: true,\n    props,\n  } as unknown as JSX.Element;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\nfunction isAs(component: any): boolean {\n  return component?.[AS_COMPONENT_SYMBOL] === true;\n}\n\nfunction combineProps(baseProps: any, overrideProps: any) {\n  return baseCombineProps([baseProps, overrideProps], { reverseEventHandlers: true }) as any;\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useFormControlContext } from \"./form-control-context\";\n\nexport interface FormControlDescriptionProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The description that gives the user more information on the form control.\n */\nexport function FormControlDescription(props: FormControlDescriptionProps) {\n  const context = useFormControlContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"description\"),\n    },\n    props\n  );\n\n  createEffect(() => onCleanup(context.registerDescription(props.id!)));\n\n  return <Polymorphic as=\"div\" {...context.dataset()} {...props} />;\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, Show, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useFormControlContext } from \"./form-control-context\";\n\nexport interface FormControlErrorMessageOptions extends AsChildProp {\n  /**\n   * Used to force mounting when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface FormControlErrorMessageProps\n  extends OverrideComponentProps<\"div\", FormControlErrorMessageOptions> {}\n\n/**\n * The error message that gives the user information about how to fix a validation error on the form control.\n */\nexport function FormControlErrorMessage(props: FormControlErrorMessageProps) {\n  const context = useFormControlContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"error-message\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"forceMount\"]);\n\n  const isInvalid = () => context.validationState() === \"invalid\";\n\n  createEffect(() => {\n    if (!isInvalid()) {\n      return;\n    }\n\n    onCleanup(context.registerErrorMessage(others.id!));\n  });\n\n  return (\n    <Show when={local.forceMount || isInvalid()}>\n      <Polymorphic as=\"div\" {...context.dataset()} {...others} />\n    </Show>\n  );\n}\n","import { mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createTagName } from \"../primitives\";\nimport { useFormControlContext } from \"./form-control-context\";\n\nexport interface FormControlLabelProps extends OverrideComponentProps<\"label\", AsChildProp> {}\n\n/**\n * The label that gives the user information on the form control.\n */\nexport function FormControlLabel(props: FormControlLabelProps) {\n  let ref: HTMLElement | undefined;\n\n  const context = useFormControlContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"label\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\"]);\n\n  const tagName = createTagName(\n    () => ref,\n    () => \"label\"\n  );\n\n  createEffect(() => onCleanup(context.registerLabel(others.id!)));\n\n  return (\n    <Polymorphic\n      as=\"label\"\n      ref={mergeRefs(el => (ref = el), local.ref)}\n      for={tagName() === \"label\" ? context.fieldId() : undefined}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","export const COMMON_INTL_MESSAGES = {\n  \"ar-AE\": { dismiss: \"\" },\n  \"bg-BG\": { dismiss: \"\" },\n  \"cs-CZ\": { dismiss: \"Odstranit\" },\n  \"da-DK\": { dismiss: \"Luk\" },\n  \"de-DE\": { dismiss: \"Schlieen\" },\n  \"el-GR\": { dismiss: \"\" },\n  \"en-US\": { dismiss: \"Dismiss\" },\n  \"es-ES\": { dismiss: \"Descartar\" },\n  \"et-EE\": { dismiss: \"Lpeta\" },\n  \"fi-FI\": { dismiss: \"Hylk\" },\n  \"fr-FR\": { dismiss: \"Rejeter\" },\n  \"he-IL\": { dismiss: \"\" },\n  \"hr-HR\": { dismiss: \"Odbaci\" },\n  \"hu-HU\": { dismiss: \"Elutasts\" },\n  \"it-IT\": { dismiss: \"Ignora\" },\n  \"ja-JP\": { dismiss: \"\" },\n  \"ko-KR\": { dismiss: \"\" },\n  \"lt-LT\": { dismiss: \"Atmesti\" },\n  \"lv-LV\": { dismiss: \"Nerdt\" },\n  \"nb-NO\": { dismiss: \"Lukk\" },\n  \"nl-NL\": { dismiss: \"Negeren\" },\n  \"pl-PL\": { dismiss: \"Zignoruj\" },\n  \"pt-BR\": { dismiss: \"Descartar\" },\n  \"pt-PT\": { dismiss: \"Dispensar\" },\n  \"ro-RO\": { dismiss: \"Revocare\" },\n  \"ru-RU\": { dismiss: \"\" },\n  \"sk-SK\": { dismiss: \"Zrui\" },\n  \"sl-SI\": { dismiss: \"Opusti\" },\n  \"sr-SP\": { dismiss: \"Odbaci\" },\n  \"sv-SE\": { dismiss: \"Avvisa\" },\n  \"tr-TR\": { dismiss: \"Kapat\" },\n  \"uk-UA\": { dismiss: \"\" },\n  \"zh-CN\": { dismiss: \"\" },\n  \"zh-TW\": { dismiss: \"\" },\n};\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/utils.ts\n */\n\nexport type Direction = \"rtl\" | \"ltr\";\n\n// https://en.wikipedia.org/wiki/Right-to-left\nconst RTL_SCRIPTS = new Set([\n  \"Avst\",\n  \"Arab\",\n  \"Armi\",\n  \"Syrc\",\n  \"Samr\",\n  \"Mand\",\n  \"Thaa\",\n  \"Mend\",\n  \"Nkoo\",\n  \"Adlm\",\n  \"Rohg\",\n  \"Hebr\",\n]);\n\nexport const RTL_LANGS = new Set([\n  \"ae\",\n  \"ar\",\n  \"arc\",\n  \"bcc\",\n  \"bqi\",\n  \"ckb\",\n  \"dv\",\n  \"fa\",\n  \"glk\",\n  \"he\",\n  \"ku\",\n  \"mzn\",\n  \"nqo\",\n  \"pnb\",\n  \"ps\",\n  \"sd\",\n  \"ug\",\n  \"ur\",\n  \"yi\",\n]);\n\n/**\n * Determines if a locale is read right to left using [Intl.Locale]\n * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale}.\n */\nexport function isRTL(locale: string) {\n  // If the Intl.Locale API is available, use it to get the script for the locale.\n  // This is more accurate than guessing by language, since languages can be written in multiple scripts.\n  if (Intl.Locale) {\n    const script = new Intl.Locale(locale).maximize().script ?? \"\";\n\n    return RTL_SCRIPTS.has(script);\n  }\n\n  // If not, just guess by the language (first part of the locale)\n  const lang = locale.split(\"-\")[0];\n  return RTL_LANGS.has(lang);\n}\n\nexport function getReadingDirection(locale: string): Direction {\n  return isRTL(locale) ? \"rtl\" : \"ltr\";\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/useDefaultLocale.ts\n */\n\nimport { createMemo, createSignal, onCleanup, onMount } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n\nimport { Direction, getReadingDirection } from \"./utils\";\n\ninterface Locale {\n  /** The [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt) language code for the locale. */\n  locale: string;\n\n  /** The writing direction for the locale. */\n  direction: Direction;\n}\n\n/**\n * Gets the locale setting of the browser.\n */\nexport function getDefaultLocale(): Locale {\n  let locale =\n    // @ts-ignore\n    (typeof navigator !== \"undefined\" && (navigator.language || navigator.userLanguage)) || \"en-US\";\n\n  try {\n    Intl.DateTimeFormat.supportedLocalesOf([locale]);\n  } catch (_err) {\n    locale = \"en-US\";\n  }\n\n  return {\n    locale,\n    direction: getReadingDirection(locale),\n  };\n}\n\nlet currentLocale = getDefaultLocale();\nconst listeners = new Set<(locale: Locale) => void>();\n\nfunction updateLocale() {\n  currentLocale = getDefaultLocale();\n\n  for (const listener of listeners) {\n    listener(currentLocale);\n  }\n}\n\n/**\n * Returns an accessor for the current browser/system language, and updates when it changes.\n */\nexport function createDefaultLocale() {\n  // We cannot determine the browser's language on the server, so default to en-US.\n  // This will be updated after hydration on the client to the correct value.\n  const defaultSSRLocale: Locale = {\n    locale: \"en-US\",\n    direction: \"ltr\",\n  };\n\n  const [defaultClientLocale, setDefaultClientLocale] = createSignal(currentLocale);\n\n  const defaultLocale = createMemo(() => (isServer ? defaultSSRLocale : defaultClientLocale()));\n\n  onMount(() => {\n    if (listeners.size === 0) {\n      window.addEventListener(\"languagechange\", updateLocale);\n    }\n\n    listeners.add(setDefaultClientLocale);\n\n    onCleanup(() => {\n      listeners.delete(setDefaultClientLocale);\n\n      if (listeners.size === 0) {\n        window.removeEventListener(\"languagechange\", updateLocale);\n      }\n    });\n  });\n\n  return {\n    locale: () => defaultLocale().locale,\n    direction: () => defaultLocale().direction,\n  };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/context.tsx\n */\n\nimport { Accessor, createContext, JSX, useContext } from \"solid-js\";\n\nimport { createDefaultLocale } from \"./create-default-locale\";\nimport { Direction, getReadingDirection } from \"./utils\";\n\ninterface I18nProviderProps {\n  /** Contents that should have the locale applied. */\n  children?: JSX.Element;\n\n  /** The locale to apply to the children. */\n  locale?: string;\n}\n\ninterface I18nContextValue {\n  /** The [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt) language code for the locale. */\n  locale: Accessor<string>;\n\n  /** The writing direction for the locale. */\n  direction: Accessor<Direction>;\n}\n\nconst I18nContext = createContext<I18nContextValue>();\n\n/**\n * Provides the locale for the application to all child components.\n */\nexport function I18nProvider(props: I18nProviderProps) {\n  const defaultLocale = createDefaultLocale();\n\n  const context: I18nContextValue = {\n    locale: () => props.locale ?? defaultLocale.locale(),\n    direction: () => (props.locale ? getReadingDirection(props.locale) : defaultLocale.direction()),\n  };\n\n  return <I18nContext.Provider value={context}>{props.children}</I18nContext.Provider>;\n}\n\n/**\n * Returns an accessor for the current locale and layout direction.\n */\nexport function useLocale() {\n  const defaultLocale = createDefaultLocale();\n\n  const context = useContext(I18nContext);\n\n  return context || defaultLocale;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/useCollator.ts\n */\n\nimport { Accessor, createMemo } from \"solid-js\";\n\nimport { useLocale } from \"./i18n-provider\";\n\nconst cache = new Map<string, Intl.Collator>();\n\n/**\n * Provides localized string collation for the current locale. Automatically updates when the locale changes,\n * and handles caching of the collator for performance.\n * @param options - Collator options.\n */\nexport function createCollator(options?: Intl.CollatorOptions): Accessor<Intl.Collator> {\n  const { locale } = useLocale();\n\n  const cacheKey = createMemo(() => {\n    return (\n      locale() +\n      (options\n        ? Object.entries(options)\n            .sort((a, b) => (a[0] < b[0] ? -1 : 1))\n            .join()\n        : \"\")\n    );\n  });\n\n  return createMemo(() => {\n    const key = cacheKey();\n    let collator: Intl.Collator | undefined;\n\n    if (cache.has(key)) {\n      collator = cache.get(key);\n    }\n\n    if (!collator) {\n      collator = new Intl.Collator(locale(), options);\n      cache.set(key, collator);\n    }\n\n    return collator;\n  });\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/15e101b74966bd5eb719c6529ce71ce57eaed430/packages/@react-aria/i18n/src/useDateFormatter.ts\n */\n\nimport { DateFormatter } from \"@internationalized/date\";\nimport { access, MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor, createMemo } from \"solid-js\";\n\nimport { useLocale } from \"./i18n-provider\";\n\nexport interface DateFormatterOptions extends Intl.DateTimeFormatOptions {\n  calendar?: string;\n}\n\n/**\n * Provides localized date formatting for the current locale. Automatically updates when the locale changes,\n * and handles caching of the date formatter for performance.\n * @param options - Formatting options.\n */\nexport function createDateFormatter(\n  options: MaybeAccessor<DateFormatterOptions>\n): Accessor<DateFormatter> {\n  const { locale } = useLocale();\n\n  return createMemo(() => new DateFormatter(locale(), access(options)));\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/22cb32d329e66c60f55d4fc4025d1d44bb015d71/packages/@react-aria/i18n/src/useFilter.ts\n */\n\nimport { createCollator } from \"./create-collator\";\n\nexport interface Filter {\n  /** Returns whether a string starts with a given substring. */\n  startsWith(string: string, substring: string): boolean;\n\n  /** Returns whether a string ends with a given substring. */\n  endsWith(string: string, substring: string): boolean;\n\n  /** Returns whether a string contains a given substring. */\n  contains(string: string, substring: string): boolean;\n}\n\n/**\n * Provides localized string search functionality that is useful for filtering or matching items\n * in a list. Options can be provided to adjust the sensitivity to case, diacritics, and other parameters.\n */\nexport function createFilter(options?: Intl.CollatorOptions): Filter {\n  const collator = createCollator({\n    usage: \"search\",\n    ...options,\n  });\n\n  // TODO: these methods don't currently support the ignorePunctuation option.\n\n  const startsWith = (str: string, substr: string) => {\n    if (substr.length === 0) {\n      return true;\n    }\n\n    // Normalize both strings so we can slice safely\n    // TODO: take into account the ignorePunctuation option as well...\n    str = str.normalize(\"NFC\");\n    substr = substr.normalize(\"NFC\");\n    return collator().compare(str.slice(0, substr.length), substr) === 0;\n  };\n\n  const endsWith = (str: string, substr: string) => {\n    if (substr.length === 0) {\n      return true;\n    }\n\n    str = str.normalize(\"NFC\");\n    substr = substr.normalize(\"NFC\");\n    return collator().compare(str.slice(-substr.length), substr) === 0;\n  };\n\n  const contains = (str: string, substr: string) => {\n    if (substr.length === 0) {\n      return true;\n    }\n\n    str = str.normalize(\"NFC\");\n    substr = substr.normalize(\"NFC\");\n\n    let scan = 0;\n    const sliceLen = substr.length;\n\n    for (; scan + sliceLen <= str.length; scan++) {\n      const slice = str.slice(scan, scan + sliceLen);\n\n      if (collator().compare(substr, slice) === 0) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  return {\n    startsWith,\n    endsWith,\n    contains,\n  };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/23c3a91e7b87952f07da9da115188bd2abd99d77/packages/@react-aria/i18n/src/useMessageFormatter.ts\n */\n\nimport { LocalizedStrings, MessageDictionary, MessageFormatter } from \"@internationalized/message\";\nimport { access, MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor, createMemo } from \"solid-js\";\n\nimport { useLocale } from \"./i18n-provider\";\n\nexport interface LocalizedMessageFormatter {\n  format: (key: string, variables?: { [key: string]: any }) => string;\n}\n\nconst cache = new WeakMap();\n\nfunction getCachedDictionary(strings: LocalizedStrings): MessageDictionary {\n  let dictionary = cache.get(strings);\n\n  if (!dictionary) {\n    dictionary = new MessageDictionary(strings);\n    cache.set(strings, dictionary);\n  }\n\n  return dictionary;\n}\n\n/**\n * Handles formatting ICU Message strings to create localized strings for the current locale.\n * Automatically updates when the locale changes, and handles caching of messages for performance.\n * @param strings - A mapping of languages to strings by key.\n */\nexport function createMessageFormatter(\n  strings: MaybeAccessor<LocalizedStrings>\n): Accessor<LocalizedMessageFormatter> {\n  const { locale } = useLocale();\n\n  const messageFormatter = createMemo(() => {\n    return new MessageFormatter(locale(), getCachedDictionary(access(strings)));\n  });\n\n  // Re-export as a new object with narrowed type for the `format()` method.\n  return createMemo(() => ({\n    format: (key, variables) => messageFormatter().format(key, variables) as string,\n  }));\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/useNumberFormatter.ts\n */\n\nimport { NumberFormatOptions, NumberFormatter } from \"@internationalized/number\";\nimport { access, MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor, createMemo } from \"solid-js\";\n\nimport { useLocale } from \"./i18n-provider\";\n\n/**\n * Provides localized number formatting for the current locale. Automatically updates when the locale changes,\n * and handles caching of the number formatter for performance.\n * @param options - Formatting options.\n */\nexport function createNumberFormatter(\n  options: MaybeAccessor<NumberFormatOptions>\n): Accessor<Intl.NumberFormat> {\n  const { locale } = useLocale();\n\n  return createMemo(() => new NumberFormatter(locale(), access(options)));\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/Selection.ts\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/types.ts\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-types/shared/src/selection.d.ts\n */\n\nimport { MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor } from \"solid-js\";\n\nexport type SelectionMode = \"none\" | \"single\" | \"multiple\";\nexport type SelectionBehavior = \"toggle\" | \"replace\";\nexport type FocusStrategy = \"first\" | \"last\";\n\nexport interface SingleSelection {\n  /** Whether the collection allows empty selection. */\n  disallowEmptySelection?: MaybeAccessor<boolean | undefined>;\n\n  /** The currently selected key in the collection (controlled). */\n  selectedKey?: MaybeAccessor<string | undefined>;\n\n  /** The initial selected key in the collection (uncontrolled). */\n  defaultSelectedKey?: MaybeAccessor<string | undefined>;\n\n  /** Handler that is called when the selection changes. */\n  onSelectionChange?: (key: string) => any;\n}\n\nexport interface MultipleSelection {\n  /** The type of selection that is allowed in the collection. */\n  selectionMode?: MaybeAccessor<SelectionMode | undefined>;\n\n  /** Whether the collection allows empty selection. */\n  disallowEmptySelection?: MaybeAccessor<boolean | undefined>;\n\n  /** The currently selected keys in the collection (controlled). */\n  selectedKeys?: MaybeAccessor<Iterable<string> | undefined>;\n\n  /** The initial selected keys in the collection (uncontrolled). */\n  defaultSelectedKeys?: MaybeAccessor<Iterable<string> | undefined>;\n\n  /** Handler that is called when the selection changes. */\n  onSelectionChange?: (keys: Set<string>) => any;\n}\n\n/**\n * A Selection is a special Set containing Keys, which also has an anchor\n * and current selected key for use when range selecting.\n */\nexport class Selection extends Set<string> {\n  anchorKey?: string;\n  currentKey?: string;\n\n  constructor(keys?: Iterable<string> | Selection, anchorKey?: string, currentKey?: string) {\n    super(keys);\n    if (keys instanceof Selection) {\n      this.anchorKey = anchorKey || keys.anchorKey;\n      this.currentKey = currentKey || keys.currentKey;\n    } else {\n      this.anchorKey = anchorKey;\n      this.currentKey = currentKey;\n    }\n  }\n}\n\nexport interface FocusState {\n  /** Whether the collection is currently focused. */\n  isFocused: Accessor<boolean>;\n\n  /** The current focused key in the collection. */\n  focusedKey: Accessor<string | undefined>;\n\n  /** Sets whether the collection is focused. */\n  setFocused(isFocused: boolean): void;\n\n  /** Sets the focused key */\n  setFocusedKey(key?: string): void;\n}\n\nexport interface SingleSelectionState extends FocusState {\n  /** Whether the collection allows empty selection. */\n  disallowEmptySelection: Accessor<boolean | undefined>;\n\n  /** The currently selected key in the collection. */\n  selectedKey: Accessor<string>;\n\n  /** Sets the selected key in the collection. */\n  setSelectedKey: (key: string) => void;\n}\n\nexport interface MultipleSelectionState extends FocusState {\n  /** The type of selection that is allowed in the collection. */\n  selectionMode: Accessor<SelectionMode>;\n\n  /** The selection behavior for the collection. */\n  selectionBehavior: Accessor<SelectionBehavior>;\n\n  /** Sets the selection behavior for the collection. */\n  setSelectionBehavior(selectionBehavior: SelectionBehavior): void;\n\n  /** Whether the collection allows empty selection. */\n  disallowEmptySelection: Accessor<boolean>;\n\n  /** The currently selected keys in the collection. */\n  selectedKeys: Accessor<Set<string>>;\n\n  /** Sets the selected keys in the collection. */\n  setSelectedKeys(keys: Set<string>): void;\n}\n\nexport interface MultipleSelectionManager extends FocusState {\n  /** The type of selection that is allowed in the collection. */\n  selectionMode: Accessor<SelectionMode>;\n\n  /** The selection behavior for the collection. */\n  selectionBehavior: Accessor<SelectionBehavior>;\n\n  /** Whether the collection allows empty selection. */\n  disallowEmptySelection: Accessor<boolean | undefined>;\n\n  /** The currently selected keys in the collection. */\n  selectedKeys: Accessor<Set<string>>;\n\n  /** Whether the selection is empty. */\n  isEmpty: Accessor<boolean>;\n\n  /** Whether all items in the collection are selected. */\n  isSelectAll: Accessor<boolean>;\n\n  /** The first selected key in the collection. */\n  firstSelectedKey: Accessor<string | undefined>;\n\n  /** The last selected key in the collection. */\n  lastSelectedKey: Accessor<string | undefined>;\n\n  /** Returns whether a key is selected. */\n  isSelected: (key: string) => boolean;\n\n  /** Returns whether the current selection is equal to the given selection. */\n  isSelectionEqual(selection: Set<string>): boolean;\n\n  /** Extends the selection to the given key. */\n  extendSelection(toKey: string): void;\n\n  /** Toggles whether the given key is selected. */\n  toggleSelection: (key: string) => void;\n\n  /** Replaces the selection with only the given key. */\n  replaceSelection: (key: string) => void;\n\n  /** Replaces the selection with the given keys. */\n  setSelectedKeys(keys: Iterable<string>): void;\n\n  /** Selects all items in the collection. */\n  selectAll(): void;\n\n  /** Removes all keys from the selection. */\n  clearSelection(): void;\n\n  /** Toggles between select all and an empty selection. */\n  toggleSelectAll(): void;\n\n  /**\n   * Toggles, replaces, or extends selection to the given key depending\n   * on the pointer event and collection's selection mode.\n   */\n  select(key: string, e?: PointerEvent): void;\n\n  /** Returns whether the given key can be selected. */\n  canSelectItem: (key: string) => boolean;\n\n  /**\n   * Returns whether the given key is non-interactive,\n   * i.e. both selection and actions are disabled.\n   */\n  isDisabled: (key: string) => boolean;\n\n  /** Sets the selection behavior for the collection. */\n  setSelectionBehavior: (selectionBehavior: SelectionBehavior) => void;\n}\n\nexport interface KeyboardDelegate {\n  /** Returns the key visually below the given one, or `undefined` for none. */\n  getKeyBelow?: (key: string) => string | undefined;\n\n  /** Returns the key visually above the given one, or `undefined` for none. */\n  getKeyAbove?: (key: string) => string | undefined;\n\n  /** Returns the key visually to the left of the given one, or `undefined` for none. */\n  getKeyLeftOf?: (key: string) => string | undefined;\n\n  /** Returns the key visually to the right of the given one, or `undefined` for none. */\n  getKeyRightOf?: (key: string) => string | undefined;\n\n  /** Returns the key visually one page below the given one, or `undefined` for none. */\n  getKeyPageBelow?: (key: string) => string | undefined;\n\n  /** Returns the key visually one page above the given one, or `undefined` for none. */\n  getKeyPageAbove?: (key: string) => string | undefined;\n\n  /** Returns the first key, or `undefined` for none. */\n  getFirstKey?: (key?: string, global?: boolean) => string | undefined;\n\n  /** Returns the last key, or `undefined` for none. */\n  getLastKey?: (key?: string, global?: boolean) => string | undefined;\n\n  /** Returns the next key after `fromKey` that matches the given search string, or `undefined` for none. */\n  getKeyForSearch?: (search: string, fromKey?: string) => string | undefined;\n}\n","import { Accessor } from \"solid-js\";\n\nimport { createControllableSignal, CreateControllableSignalProps } from \"../primitives\";\nimport { Selection } from \"./types\";\n\n/**\n * Creates a simple reactive `Selection` state with a getter, setter and a fallback value of an empty selection,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableSelectionSignal(props: CreateControllableSignalProps<Selection>) {\n  const [_value, setValue] = createControllableSignal(props);\n\n  const value: Accessor<Selection> = () => _value() ?? new Selection();\n\n  return [value, setValue] as const;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/utils.ts\n */\n\nimport { isAppleDevice, isMac } from \"@kobalte/utils\";\n\nimport { Selection } from \"./types\";\n\ninterface Event {\n  altKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n}\n\nexport function isNonContiguousSelectionModifier(e: Event) {\n  // Ctrl + Arrow Up/Arrow Down has a system-wide meaning on macOS, so use Alt instead.\n  // On Windows and Ubuntu, Alt + Space has a system-wide meaning.\n  return isAppleDevice() ? e.altKey : e.ctrlKey;\n}\n\nexport function isCtrlKeyPressed(e: Event) {\n  if (isMac()) {\n    return e.metaKey;\n  }\n\n  return e.ctrlKey;\n}\n\nexport function convertSelection(selection: Iterable<string>): Selection {\n  return new Selection(selection);\n}\n\nexport function isSameSelection(setA: Set<string>, setB: Set<string>): boolean {\n  if (setA.size !== setB.size) {\n    return false;\n  }\n\n  for (const item of setA) {\n    if (!setB.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/useMultipleSelectionState.ts\n */\n\nimport { access, MaybeAccessor, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, createMemo, createSignal } from \"solid-js\";\n\nimport { createControllableSelectionSignal } from \"./create-controllable-selection-signal\";\nimport { MultipleSelection, MultipleSelectionState, Selection, SelectionBehavior } from \"./types\";\nimport { convertSelection, isSameSelection } from \"./utils\";\n\nexport interface CreateMultipleSelectionStateProps extends MultipleSelection {\n  /** How multiple selection should behave in the collection. */\n  selectionBehavior?: MaybeAccessor<SelectionBehavior | undefined>;\n\n  /** Whether onSelectionChange should fire even if the new set of keys is the same as the last. */\n  allowDuplicateSelectionEvents?: MaybeAccessor<boolean | undefined>;\n}\n\n/**\n * Manages state for multiple selection and focus in a collection.\n */\nexport function createMultipleSelectionState(\n  props: CreateMultipleSelectionStateProps\n): MultipleSelectionState {\n  props = mergeDefaultProps(\n    {\n      selectionMode: \"none\",\n      selectionBehavior: \"toggle\",\n    },\n    props\n  );\n\n  const [isFocused, setFocused] = createSignal(false);\n  const [focusedKey, setFocusedKey] = createSignal<string>();\n\n  const selectedKeysProp = createMemo(() => {\n    const selection = access(props.selectedKeys);\n\n    if (!selection) {\n      return;\n    }\n\n    return convertSelection(selection);\n  });\n\n  const defaultSelectedKeys = createMemo(() => {\n    const defaultSelection = access(props.defaultSelectedKeys);\n\n    if (!defaultSelection) {\n      return new Selection();\n    }\n\n    return convertSelection(defaultSelection);\n  });\n\n  const [selectedKeys, _setSelectedKeys] = createControllableSelectionSignal({\n    value: selectedKeysProp,\n    defaultValue: defaultSelectedKeys,\n    onChange: value => props.onSelectionChange?.(value),\n  });\n\n  const [selectionBehavior, setSelectionBehavior] = createSignal<SelectionBehavior>(\n    access(props.selectionBehavior)!\n  );\n\n  const selectionMode = () => access(props.selectionMode)!;\n  const disallowEmptySelection = () => access(props.disallowEmptySelection) ?? false;\n\n  const setSelectedKeys = (keys: Set<string>) => {\n    if (access(props.allowDuplicateSelectionEvents) || !isSameSelection(keys, selectedKeys())) {\n      _setSelectedKeys(keys);\n    }\n  };\n\n  // If the selectionBehavior prop is set to replace, but the current state is toggle (e.g. due to long press\n  // to enter selection mode on touch), and the selection becomes empty, reset the selection behavior.\n  createEffect(() => {\n    const selection = selectedKeys();\n\n    if (\n      access(props.selectionBehavior) === \"replace\" &&\n      selectionBehavior() === \"toggle\" &&\n      typeof selection === \"object\" &&\n      selection.size === 0\n    ) {\n      setSelectionBehavior(\"replace\");\n    }\n  });\n\n  // If the selectionBehavior prop changes, update the state as well.\n  createEffect(() => {\n    setSelectionBehavior(access(props.selectionBehavior) ?? \"toggle\");\n  });\n\n  return {\n    selectionMode,\n    disallowEmptySelection,\n    selectionBehavior,\n    setSelectionBehavior,\n    isFocused,\n    setFocused,\n    focusedKey,\n    setFocusedKey,\n    selectedKeys,\n    setSelectedKeys,\n  };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useTypeSelect.ts\n */\n\nimport { access, MaybeAccessor } from \"@kobalte/utils\";\nimport { createSignal } from \"solid-js\";\n\nimport { KeyboardDelegate, MultipleSelectionManager } from \"./types\";\n\ninterface CreateTypeSelectProps {\n  /** Whether the type to select should be disabled. */\n  isDisabled?: MaybeAccessor<boolean | undefined>;\n\n  /** A delegate that returns collection item keys with respect to visual layout. */\n  keyboardDelegate: MaybeAccessor<KeyboardDelegate>;\n\n  /** An interface for reading and updating multiple selection state. */\n  selectionManager: MaybeAccessor<MultipleSelectionManager>;\n\n  /** Called when an item is focused by typing. */\n  onTypeSelect?: (key: string) => void;\n}\n\n/**\n * Handles typeahead interactions with collections.\n */\nexport function createTypeSelect(props: CreateTypeSelectProps) {\n  const [search, setSearch] = createSignal(\"\");\n  const [timeoutId, setTimeoutId] = createSignal(-1);\n\n  const onKeyDown = (e: KeyboardEvent) => {\n    if (access(props.isDisabled)) {\n      return;\n    }\n\n    const delegate = access(props.keyboardDelegate);\n    const manager = access(props.selectionManager);\n\n    if (!delegate.getKeyForSearch) {\n      return;\n    }\n\n    const character = getStringForKey(e.key);\n    if (!character || e.ctrlKey || e.metaKey) {\n      return;\n    }\n\n    // Do not propagate the Space bar event if it's meant to be part of the search.\n    // When we time out, the search term becomes empty, hence the check on length.\n    // Trimming is to account for the case of pressing the Space bar more than once,\n    // which should cycle through the selection/deselection of the focused item.\n    if (character === \" \" && search().trim().length > 0) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    let newSearch = setSearch(prev => (prev += character));\n\n    // Use the delegate to find a key to focus.\n    // Prioritize items after the currently focused item, falling back to searching the whole list.\n    let key =\n      delegate.getKeyForSearch(newSearch, manager.focusedKey()) ??\n      delegate.getKeyForSearch(newSearch);\n\n    // If not key found, and the search is multiple iterations of the same letter (e.g \"aaa\"),\n    // then cycle through first-letter matches\n    if (key == null && isAllSameLetter(newSearch)) {\n      newSearch = newSearch[0];\n\n      key =\n        delegate.getKeyForSearch(newSearch, manager.focusedKey()) ??\n        delegate.getKeyForSearch(newSearch);\n    }\n\n    if (key != null) {\n      manager.setFocusedKey(key);\n      props.onTypeSelect?.(key);\n    }\n\n    clearTimeout(timeoutId());\n\n    setTimeoutId(window.setTimeout(() => setSearch(\"\"), 500));\n  };\n\n  return {\n    typeSelectHandlers: {\n      onKeyDown,\n    },\n  };\n}\n\nfunction getStringForKey(key: string): string {\n  // If the key is of length 1, it is an ASCII value.\n  // Otherwise, if there are no ASCII characters in the key name,\n  // it is a Unicode character.\n  // See https://www.w3.org/TR/uievents-key/\n  if (key.length === 1 || !/^[A-Z]/i.test(key)) {\n    return key;\n  }\n\n  return \"\";\n}\n\nfunction isAllSameLetter(search: string): boolean {\n  return search.split(\"\").every(letter => letter === search[0]);\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableCollection.ts\n */\n\nimport {\n  access,\n  callHandler,\n  createEventListener,\n  focusWithoutScrolling,\n  getFocusableTreeWalker,\n  MaybeAccessor,\n  scrollIntoView,\n} from \"@kobalte/utils\";\nimport { Accessor, createEffect, createMemo, JSX, mergeProps, on, onMount } from \"solid-js\";\n\nimport { useLocale } from \"../i18n\";\nimport { createTypeSelect } from \"./create-type-select\";\nimport { FocusStrategy, KeyboardDelegate, MultipleSelectionManager } from \"./types\";\nimport { isCtrlKeyPressed, isNonContiguousSelectionModifier } from \"./utils\";\n\ninterface CreateSelectableCollectionProps {\n  /** An interface for reading and updating multiple selection state. */\n  selectionManager: MaybeAccessor<MultipleSelectionManager>;\n\n  /** A delegate object that implements behavior for keyboard focus movement. */\n  keyboardDelegate: MaybeAccessor<KeyboardDelegate>;\n\n  /** Whether the collection or one of its items should be automatically focused upon render. */\n  autoFocus?: MaybeAccessor<boolean | FocusStrategy | undefined>;\n\n  /** Whether the autofocus should run on next tick. */\n  deferAutoFocus?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether focus should wrap around when the end/start is reached. */\n  shouldFocusWrap?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the collection allows empty selection. */\n  disallowEmptySelection?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the collection allows the user to select all items via keyboard shortcut. */\n  disallowSelectAll?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether selection should occur automatically on focus. */\n  selectOnFocus?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether typeahead is disabled. */\n  disallowTypeAhead?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the collection items should use virtual focus instead of being focused directly. */\n  shouldUseVirtualFocus?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether navigation through tab key is enabled. */\n  allowsTabNavigation?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the collection items are contained in a virtual scroller. */\n  isVirtualized?: MaybeAccessor<boolean | undefined>;\n\n  /** When virtualized, the Virtualizer function used to scroll to the item of the key provided. */\n  scrollToKey?: (key: string) => void;\n}\n\n/**\n * Handles interactions with selectable collections.\n * @param props Props for the collection.\n * @param ref The ref attached to the element representing the collection.\n * @param scrollRef The ref attached to the scrollable body. Used to provide automatic scrolling on item focus for non-virtualized collections. If not provided, defaults to the collection ref.\n */\nexport function createSelectableCollection<T extends HTMLElement, U extends HTMLElement = T>(\n  props: CreateSelectableCollectionProps,\n  ref: Accessor<T | undefined>,\n  scrollRef?: Accessor<U | undefined>\n) {\n  const defaultProps: Partial<CreateSelectableCollectionProps> = {\n    selectOnFocus: () => access(props.selectionManager).selectionBehavior() === \"replace\",\n  };\n\n  props = mergeProps(defaultProps, props);\n\n  const finalScrollRef = () => scrollRef?.() ?? ref();\n\n  const { direction } = useLocale();\n\n  // Store the scroll position, so we can restore it later.\n  let scrollPos = { top: 0, left: 0 };\n  createEventListener(\n    () => (!access(props.isVirtualized) ? finalScrollRef() : undefined),\n    \"scroll\",\n    () => {\n      const scrollEl = finalScrollRef();\n\n      if (!scrollEl) {\n        return;\n      }\n\n      scrollPos = {\n        top: scrollEl.scrollTop,\n        left: scrollEl.scrollLeft,\n      };\n    }\n  );\n\n  const { typeSelectHandlers } = createTypeSelect({\n    isDisabled: () => access(props.disallowTypeAhead),\n    keyboardDelegate: () => access(props.keyboardDelegate),\n    selectionManager: () => access(props.selectionManager),\n  });\n\n  const onKeyDown: JSX.EventHandlerUnion<HTMLElement, KeyboardEvent> = e => {\n    callHandler(e, typeSelectHandlers.onKeyDown);\n\n    // Prevent option + tab from doing anything since it doesn't move focus to the cells, only buttons/checkboxes\n    if (e.altKey && e.key === \"Tab\") {\n      e.preventDefault();\n    }\n\n    const refEl = ref();\n\n    // Keyboard events bubble through portals. Don't handle keyboard events\n    // for elements outside the collection (e.g. menus).\n    if (!refEl?.contains(e.target as HTMLElement)) {\n      return;\n    }\n\n    const manager = access(props.selectionManager);\n    const selectOnFocus = access(props.selectOnFocus);\n\n    const navigateToKey = (key: string | undefined) => {\n      if (key != null) {\n        manager.setFocusedKey(key);\n\n        if (e.shiftKey && manager.selectionMode() === \"multiple\") {\n          manager.extendSelection(key);\n        } else if (selectOnFocus && !isNonContiguousSelectionModifier(e)) {\n          manager.replaceSelection(key);\n        }\n      }\n    };\n\n    const delegate = access(props.keyboardDelegate);\n    const shouldFocusWrap = access(props.shouldFocusWrap);\n\n    const focusedKey = manager.focusedKey();\n\n    switch (e.key) {\n      case \"ArrowDown\": {\n        if (delegate.getKeyBelow) {\n          e.preventDefault();\n\n          let nextKey: string | undefined;\n\n          if (focusedKey != null) {\n            nextKey = delegate.getKeyBelow(focusedKey);\n          } else {\n            nextKey = delegate.getFirstKey?.();\n          }\n\n          if (nextKey == null && shouldFocusWrap) {\n            nextKey = delegate.getFirstKey?.(focusedKey);\n          }\n\n          navigateToKey(nextKey);\n        }\n        break;\n      }\n      case \"ArrowUp\": {\n        if (delegate.getKeyAbove) {\n          e.preventDefault();\n\n          let nextKey: string | undefined;\n\n          if (focusedKey != null) {\n            nextKey = delegate.getKeyAbove(focusedKey);\n          } else {\n            nextKey = delegate.getLastKey?.();\n          }\n\n          if (nextKey == null && shouldFocusWrap) {\n            nextKey = delegate.getLastKey?.(focusedKey);\n          }\n\n          navigateToKey(nextKey);\n        }\n        break;\n      }\n      case \"ArrowLeft\": {\n        if (delegate.getKeyLeftOf) {\n          e.preventDefault();\n\n          const isRTL = direction() === \"rtl\";\n\n          let nextKey: string | undefined;\n\n          if (focusedKey != null) {\n            nextKey = delegate.getKeyLeftOf(focusedKey);\n          } else {\n            nextKey = isRTL ? delegate.getFirstKey?.() : delegate.getLastKey?.();\n          }\n\n          navigateToKey(nextKey);\n        }\n        break;\n      }\n      case \"ArrowRight\": {\n        if (delegate.getKeyRightOf) {\n          e.preventDefault();\n\n          const isRTL = direction() === \"rtl\";\n\n          let nextKey: string | undefined;\n\n          if (focusedKey != null) {\n            nextKey = delegate.getKeyRightOf(focusedKey);\n          } else {\n            nextKey = isRTL ? delegate.getLastKey?.() : delegate.getFirstKey?.();\n          }\n\n          navigateToKey(nextKey);\n        }\n        break;\n      }\n      case \"Home\":\n        if (delegate.getFirstKey) {\n          e.preventDefault();\n\n          const firstKey = delegate.getFirstKey(focusedKey, isCtrlKeyPressed(e));\n\n          if (firstKey != null) {\n            manager.setFocusedKey(firstKey);\n\n            if (isCtrlKeyPressed(e) && e.shiftKey && manager.selectionMode() === \"multiple\") {\n              manager.extendSelection(firstKey);\n            } else if (selectOnFocus) {\n              manager.replaceSelection(firstKey);\n            }\n          }\n        }\n        break;\n      case \"End\":\n        if (delegate.getLastKey) {\n          e.preventDefault();\n\n          const lastKey = delegate.getLastKey(focusedKey, isCtrlKeyPressed(e));\n\n          if (lastKey != null) {\n            manager.setFocusedKey(lastKey);\n\n            if (isCtrlKeyPressed(e) && e.shiftKey && manager.selectionMode() === \"multiple\") {\n              manager.extendSelection(lastKey);\n            } else if (selectOnFocus) {\n              manager.replaceSelection(lastKey);\n            }\n          }\n        }\n        break;\n      case \"PageDown\":\n        if (delegate.getKeyPageBelow && focusedKey != null) {\n          e.preventDefault();\n          const nextKey = delegate.getKeyPageBelow(focusedKey);\n          navigateToKey(nextKey);\n        }\n        break;\n      case \"PageUp\":\n        if (delegate.getKeyPageAbove && focusedKey != null) {\n          e.preventDefault();\n          const nextKey = delegate.getKeyPageAbove(focusedKey);\n          navigateToKey(nextKey);\n        }\n        break;\n      case \"a\":\n        if (\n          isCtrlKeyPressed(e) &&\n          manager.selectionMode() === \"multiple\" &&\n          access(props.disallowSelectAll) !== true\n        ) {\n          e.preventDefault();\n          manager.selectAll();\n        }\n        break;\n      case \"Escape\":\n        if (!e.defaultPrevented) {\n          e.preventDefault();\n          if (!access(props.disallowEmptySelection)) {\n            manager.clearSelection();\n          }\n        }\n        break;\n      case \"Tab\": {\n        if (!access(props.allowsTabNavigation)) {\n          // There may be elements that are \"tabbable\" inside a collection (e.g. in a grid cell).\n          // However, collections should be treated as a single tab stop, with arrow key navigation internally.\n          // We don't control the rendering of these, so we can't override the tabIndex to prevent tabbing.\n          // Instead, we handle the Tab key, and move focus manually to the first/last tabbable element\n          // in the collection, so that the browser default behavior will apply starting from that element\n          // rather than the currently focused one.\n          if (e.shiftKey) {\n            refEl.focus();\n          } else {\n            const walker = getFocusableTreeWalker(refEl, { tabbable: true });\n            let next: HTMLElement | undefined;\n            let last: HTMLElement | undefined;\n            do {\n              last = walker.lastChild() as HTMLElement;\n              if (last) {\n                next = last;\n              }\n            } while (last);\n\n            if (next && !next.contains(document.activeElement)) {\n              focusWithoutScrolling(next);\n            }\n          }\n          break;\n        }\n      }\n    }\n  };\n\n  const onFocusIn: JSX.EventHandlerUnion<HTMLElement, FocusEvent> = e => {\n    const manager = access(props.selectionManager);\n    const delegate = access(props.keyboardDelegate);\n    const selectOnFocus = access(props.selectOnFocus);\n\n    if (manager.isFocused()) {\n      // If a focus event bubbled through a portal, reset focus state.\n      if (!e.currentTarget.contains(e.target)) {\n        manager.setFocused(false);\n      }\n\n      return;\n    }\n\n    // Focus events can bubble through portals. Ignore these events.\n    if (!e.currentTarget.contains(e.target)) {\n      return;\n    }\n\n    manager.setFocused(true);\n\n    if (manager.focusedKey() == null) {\n      const navigateToFirstKey = (key: string | undefined) => {\n        if (key == null) {\n          return;\n        }\n\n        manager.setFocusedKey(key);\n\n        if (selectOnFocus) {\n          manager.replaceSelection(key);\n        }\n      };\n\n      // If the user hasn't yet interacted with the collection, there will be no focusedKey set.\n      // Attempt to detect whether the user is tabbing forward or backward into the collection\n      // and either focus the first or last item accordingly.\n      const relatedTarget = e.relatedTarget as Element;\n      if (\n        relatedTarget &&\n        e.currentTarget.compareDocumentPosition(relatedTarget) & Node.DOCUMENT_POSITION_FOLLOWING\n      ) {\n        navigateToFirstKey(manager.lastSelectedKey() ?? delegate.getLastKey?.());\n      } else {\n        navigateToFirstKey(manager.firstSelectedKey() ?? delegate.getFirstKey?.());\n      }\n    } else if (!access(props.isVirtualized)) {\n      const scrollEl = finalScrollRef();\n\n      if (scrollEl) {\n        // Restore the scroll position to what it was before.\n        scrollEl.scrollTop = scrollPos.top;\n        scrollEl.scrollLeft = scrollPos.left;\n\n        // Refocus and scroll the focused item into view if it exists within the scrollable region.\n        const element = scrollEl.querySelector(`[data-key=\"${manager.focusedKey()}\"]`);\n\n        if (element) {\n          // This prevents a flash of focus on the first/last element in the collection\n          focusWithoutScrolling(element as HTMLElement);\n          scrollIntoView(scrollEl, element as HTMLElement);\n        }\n      }\n    }\n  };\n\n  const onFocusOut: JSX.EventHandlerUnion<HTMLElement, FocusEvent> = e => {\n    const manager = access(props.selectionManager);\n\n    // Don't set blurred and then focused again if moving focus within the collection.\n    if (!e.currentTarget.contains(e.relatedTarget as HTMLElement)) {\n      manager.setFocused(false);\n    }\n  };\n\n  const onMouseDown: JSX.EventHandlerUnion<HTMLElement, MouseEvent> = e => {\n    // Ignore events that bubbled through portals.\n    if (finalScrollRef() === e.target) {\n      // Prevent focus going to the collection when clicking on the scrollbar.\n      e.preventDefault();\n    }\n  };\n\n  const tryAutoFocus = () => {\n    const autoFocus = access(props.autoFocus);\n\n    if (!autoFocus) {\n      return;\n    }\n\n    const manager = access(props.selectionManager);\n    const delegate = access(props.keyboardDelegate);\n\n    let focusedKey: string | undefined;\n\n    // Check focus strategy to determine which item to focus\n    if (autoFocus === \"first\") {\n      focusedKey = delegate.getFirstKey?.();\n    }\n    if (autoFocus === \"last\") {\n      focusedKey = delegate.getLastKey?.();\n    }\n\n    // If there are any selected keys, make the first one the new focus target\n    const selectedKeys = manager.selectedKeys();\n    if (selectedKeys.size) {\n      focusedKey = selectedKeys.values().next().value;\n    }\n\n    manager.setFocused(true);\n    manager.setFocusedKey(focusedKey);\n\n    const refEl = ref();\n\n    // If no default focus key is selected, focus the collection itself.\n    if (refEl && focusedKey == null && !access(props.shouldUseVirtualFocus)) {\n      focusWithoutScrolling(refEl);\n    }\n  };\n\n  onMount(() => {\n    if (props.deferAutoFocus) {\n      setTimeout(tryAutoFocus, 0); // TODO: does this work EVERY time ?\n    } else {\n      tryAutoFocus();\n    }\n  });\n\n  // If not virtualized, scroll the focused element into view when the focusedKey changes.\n  // When virtualized, the Virtualizer should handle this.\n  createEffect(\n    on(\n      [\n        finalScrollRef,\n        () => access(props.isVirtualized),\n        () => access(props.selectionManager).focusedKey(),\n      ],\n      newValue => {\n        const [scrollEl, isVirtualized, focusedKey] = newValue;\n\n        if (isVirtualized) {\n          focusedKey && props.scrollToKey?.(focusedKey);\n        } else {\n          if (focusedKey && scrollEl) {\n            const element = scrollEl.querySelector(`[data-key=\"${focusedKey}\"]`);\n\n            if (element) {\n              scrollIntoView(scrollEl, element as HTMLElement);\n            }\n          }\n        }\n      }\n    )\n  );\n\n  // If nothing is focused within the collection, make the collection itself tabbable.\n  // This will be marshalled to either the first or last item depending on where focus came from.\n  // If using virtual focus, don't set a tabIndex at all so that VoiceOver on iOS 14 doesn't try\n  // to move real DOM focus to the element anyway.\n  const tabIndex = createMemo(() => {\n    if (access(props.shouldUseVirtualFocus)) {\n      return undefined;\n    }\n\n    return access(props.selectionManager).focusedKey() == null ? 0 : -1;\n  });\n\n  return {\n    tabIndex,\n    onKeyDown,\n    onMouseDown,\n    onFocusIn,\n    onFocusOut,\n  };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableItem.ts\n */\n\nimport { access, focusWithoutScrolling, MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor, createEffect, createMemo, JSX, on } from \"solid-js\";\n\nimport { MultipleSelectionManager } from \"./types\";\nimport { isCtrlKeyPressed, isNonContiguousSelectionModifier } from \"./utils\";\n\nexport interface CreateSelectableItemProps {\n  /** An interface for reading and updating multiple selection state. */\n  selectionManager: MaybeAccessor<MultipleSelectionManager>;\n\n  /** A unique key for the item. */\n  key: MaybeAccessor<string>;\n\n  /**\n   * By default, selection occurs on pointer down. This can be strange if selecting an\n   * item causes the UI to disappear immediately (e.g. menus).\n   */\n  shouldSelectOnPressUp?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the option should use virtual focus instead of being focused directly. */\n  shouldUseVirtualFocus?: MaybeAccessor<boolean | undefined>;\n\n  /**\n   * Whether selection requires the pointer/mouse down and up events to occur on the same target or triggers selection on\n   * the target of the pointer/mouse up event.\n   */\n  allowsDifferentPressOrigin?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the option is contained in a virtual scroller. */\n  virtualized?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the item is disabled. */\n  disabled?: MaybeAccessor<boolean | undefined>;\n\n  /** Function to focus the item. */\n  focus?: () => void;\n}\n\n/**\n * Handles interactions with an item in a selectable collection.\n * @param props Props for the item.\n * @param ref Ref to the item.\n */\nexport function createSelectableItem<T extends HTMLElement>(\n  props: CreateSelectableItemProps,\n  ref: Accessor<T | undefined>\n) {\n  const manager = () => access(props.selectionManager);\n  const key = () => access(props.key);\n  const shouldUseVirtualFocus = () => access(props.shouldUseVirtualFocus);\n\n  const onSelect = (e: MouseEvent | PointerEvent | KeyboardEvent) => {\n    if (manager().selectionMode() === \"none\") {\n      return;\n    }\n\n    if (manager().selectionMode() === \"single\") {\n      if (manager().isSelected(key()) && !manager().disallowEmptySelection()) {\n        manager().toggleSelection(key());\n      } else {\n        manager().replaceSelection(key());\n      }\n    } else if (e && e.shiftKey) {\n      manager().extendSelection(key());\n    } else if (\n      manager().selectionBehavior() === \"toggle\" ||\n      isCtrlKeyPressed(e) ||\n      (\"pointerType\" in e && e.pointerType === \"touch\")\n    ) {\n      // if touch then we just want to toggle, otherwise it's impossible to multi select because they don't have modifier keys\n      manager().toggleSelection(key());\n    } else {\n      manager().replaceSelection(key());\n    }\n  };\n\n  const isSelected = () => manager().isSelected(key());\n\n  // With checkbox selection, onAction (i.e. navigation) becomes primary, and occurs on a single click of the row.\n  // Clicking the checkbox enters selection mode, after which clicking anywhere on any row toggles selection for that row.\n  // With highlight selection, onAction is secondary, and occurs on double click. Single click selects the row.\n  // With touch, onAction occurs on single tap, and long press enters selection mode.\n  const isDisabled = () => access(props.disabled) || manager().isDisabled(key());\n\n  const allowsSelection = () => !isDisabled() && manager().canSelectItem(key());\n\n  let pointerDownType: PointerEvent[\"pointerType\"] | null = null;\n\n  const onPointerDown: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    if (!allowsSelection()) {\n      return;\n    }\n\n    pointerDownType = e.pointerType;\n\n    // Selection occurs on mouse down (main button).\n    if (e.pointerType === \"mouse\" && e.button === 0 && !access(props.shouldSelectOnPressUp)) {\n      onSelect(e);\n    }\n  };\n\n  // By default, selection occurs on pointer down. This can be strange if selecting an\n  // item causes the UI to disappear immediately (e.g. menus).\n  // If shouldSelectOnPressUp is true, we use onPointerUp instead of onPointerDown.\n  const onPointerUp: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    if (!allowsSelection()) {\n      return;\n    }\n\n    // If allowsDifferentPressOrigin, make selection happen on mouse up (main button).\n    // Otherwise, have selection happen on click.\n    if (\n      e.pointerType === \"mouse\" &&\n      e.button === 0 &&\n      access(props.shouldSelectOnPressUp) &&\n      access(props.allowsDifferentPressOrigin)\n    ) {\n      onSelect(e);\n    }\n  };\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    if (!allowsSelection()) {\n      return;\n    }\n\n    // If not allowsDifferentPressOrigin or pointerType is touch/pen, make selection happen on click.\n    if (\n      (access(props.shouldSelectOnPressUp) && !access(props.allowsDifferentPressOrigin)) ||\n      pointerDownType !== \"mouse\"\n    ) {\n      onSelect(e);\n    }\n  };\n\n  // For keyboard events, selection occurs on key down (Enter or Space bar).\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    if (!allowsSelection() || ![\"Enter\", \" \"].includes(e.key)) {\n      return;\n    }\n\n    if (isNonContiguousSelectionModifier(e)) {\n      manager().toggleSelection(key());\n    } else {\n      onSelect(e);\n    }\n  };\n\n  const onMouseDown = (e: MouseEvent) => {\n    if (isDisabled()) {\n      // Prevent focus going to the body when clicking on a disabled item.\n      e.preventDefault();\n    }\n  };\n\n  const onFocus = (e: FocusEvent) => {\n    const refEl = ref();\n\n    if (shouldUseVirtualFocus() || isDisabled() || !refEl) {\n      return;\n    }\n\n    if (e.target === refEl) {\n      manager().setFocusedKey(key());\n    }\n  };\n\n  // Set tabIndex to 0 if the element is focused,\n  // or -1 otherwise so that only the last focused item is tabbable.\n  // If using virtual focus, don't set a tabIndex at all so that VoiceOver\n  // on iOS 14 doesn't try to move real DOM focus to the item anyway.\n  const tabIndex = createMemo(() => {\n    if (shouldUseVirtualFocus() || isDisabled()) {\n      return undefined;\n    }\n\n    return key() === manager().focusedKey() ? 0 : -1;\n  });\n\n  // data-attribute used in selection manager and keyboard delegate\n  const dataKey = createMemo(() => {\n    return access(props.virtualized) ? undefined : key();\n  });\n\n  // Focus the associated DOM node when this item becomes the focusedKey.\n  createEffect(\n    on(\n      [ref, key, shouldUseVirtualFocus, () => manager().focusedKey(), () => manager().isFocused()],\n      ([refEl, key, shouldUseVirtualFocus, focusedKey, isFocused]) => {\n        if (\n          refEl &&\n          key === focusedKey &&\n          isFocused &&\n          !shouldUseVirtualFocus &&\n          document.activeElement !== refEl\n        ) {\n          if (props.focus) {\n            props.focus();\n          } else {\n            focusWithoutScrolling(refEl);\n          }\n        }\n      }\n    )\n  );\n\n  return {\n    isSelected,\n    isDisabled,\n    allowsSelection,\n    tabIndex,\n    dataKey,\n    onPointerDown,\n    onPointerUp,\n    onClick,\n    onKeyDown,\n    onMouseDown,\n    onFocus,\n  };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/SelectionManager.ts\n */\n\nimport { Accessor } from \"solid-js\";\n\nimport { Collection, CollectionNode } from \"../primitives\";\nimport {\n  MultipleSelectionManager,\n  MultipleSelectionState,\n  Selection,\n  SelectionBehavior,\n  SelectionMode,\n} from \"./types\";\n\n/**\n * An interface for reading and updating multiple selection state.\n */\nexport class SelectionManager implements MultipleSelectionManager {\n  private collection: Accessor<Collection<CollectionNode>>;\n  private state: MultipleSelectionState;\n\n  constructor(collection: Accessor<Collection<CollectionNode>>, state: MultipleSelectionState) {\n    this.collection = collection;\n    this.state = state;\n  }\n\n  /** The type of selection that is allowed in the collection. */\n  selectionMode(): SelectionMode {\n    return this.state.selectionMode();\n  }\n\n  /** Whether the collection allows empty selection. */\n  disallowEmptySelection(): boolean {\n    return this.state.disallowEmptySelection();\n  }\n\n  /** The selection behavior for the collection. */\n  selectionBehavior(): SelectionBehavior {\n    return this.state.selectionBehavior();\n  }\n\n  /** Sets the selection behavior for the collection. */\n  setSelectionBehavior(selectionBehavior: SelectionBehavior) {\n    this.state.setSelectionBehavior(selectionBehavior);\n  }\n\n  /** Whether the collection is currently focused. */\n  isFocused(): boolean {\n    return this.state.isFocused();\n  }\n\n  /** Sets whether the collection is focused. */\n  setFocused(isFocused: boolean) {\n    this.state.setFocused(isFocused);\n  }\n\n  /** The current focused key in the collection. */\n  focusedKey(): string | undefined {\n    return this.state.focusedKey();\n  }\n\n  /** Sets the focused key. */\n  setFocusedKey(key?: string) {\n    if (key == null || this.collection().getItem(key)) {\n      this.state.setFocusedKey(key);\n    }\n  }\n\n  /** The currently selected keys in the collection. */\n  selectedKeys(): Set<string> {\n    return this.state.selectedKeys();\n  }\n\n  /** Returns whether a key is selected. */\n  isSelected(key: string) {\n    if (this.state.selectionMode() === \"none\") {\n      return false;\n    }\n\n    const retrievedKey = this.getKey(key);\n\n    if (retrievedKey == null) {\n      return false;\n    }\n\n    return this.state.selectedKeys().has(retrievedKey);\n  }\n\n  /** Whether the selection is empty. */\n  isEmpty(): boolean {\n    return this.state.selectedKeys().size === 0;\n  }\n\n  /** Whether all items in the collection are selected. */\n  isSelectAll(): boolean {\n    if (this.isEmpty()) {\n      return false;\n    }\n\n    const selectedKeys = this.state.selectedKeys();\n\n    return this.getAllSelectableKeys().every(k => selectedKeys.has(k));\n  }\n\n  firstSelectedKey(): string | undefined {\n    let first: CollectionNode | undefined;\n\n    for (const key of this.state.selectedKeys()) {\n      const item = this.collection().getItem(key);\n\n      const isItemBeforeFirst =\n        item?.index != null && first?.index != null && item.index < first.index;\n\n      if (!first || isItemBeforeFirst) {\n        first = item;\n      }\n    }\n\n    return first?.key;\n  }\n\n  lastSelectedKey(): string | undefined {\n    let last: CollectionNode | undefined;\n\n    for (const key of this.state.selectedKeys()) {\n      const item = this.collection().getItem(key);\n\n      const isItemAfterLast = item?.index != null && last?.index != null && item.index > last.index;\n\n      if (!last || isItemAfterLast) {\n        last = item;\n      }\n    }\n\n    return last?.key;\n  }\n\n  /** Extends the selection to the given key. */\n  extendSelection(toKey: string) {\n    if (this.selectionMode() === \"none\") {\n      return;\n    }\n\n    if (this.selectionMode() === \"single\") {\n      this.replaceSelection(toKey);\n      return;\n    }\n\n    const retrievedToKey = this.getKey(toKey);\n\n    if (retrievedToKey == null) {\n      return;\n    }\n\n    const selectedKeys = this.state.selectedKeys() as Selection;\n    const anchorKey = selectedKeys.anchorKey || retrievedToKey;\n\n    const selection = new Selection(selectedKeys, anchorKey, retrievedToKey);\n\n    for (const key of this.getKeyRange(anchorKey, selectedKeys.currentKey || retrievedToKey)) {\n      selection.delete(key);\n    }\n\n    for (const key of this.getKeyRange(retrievedToKey, anchorKey)) {\n      if (this.canSelectItem(key)) {\n        selection.add(key);\n      }\n    }\n\n    this.state.setSelectedKeys(selection);\n  }\n\n  private getKeyRange(from: string, to: string) {\n    const fromItem = this.collection().getItem(from);\n    const toItem = this.collection().getItem(to);\n\n    if (fromItem && toItem) {\n      if (fromItem.index != null && toItem.index != null && fromItem.index <= toItem.index) {\n        return this.getKeyRangeInternal(from, to);\n      }\n\n      return this.getKeyRangeInternal(to, from);\n    }\n\n    return [];\n  }\n\n  private getKeyRangeInternal(from: string, to: string) {\n    const keys: string[] = [];\n    let key: string | undefined = from;\n\n    while (key != null) {\n      const item = this.collection().getItem(key);\n\n      if (item && item.type === \"item\") {\n        keys.push(key);\n      }\n\n      if (key === to) {\n        return keys;\n      }\n\n      key = this.collection().getKeyAfter(key);\n    }\n\n    return [];\n  }\n\n  private getKey(key: string) {\n    const item = this.collection().getItem(key);\n\n    if (!item) {\n      return key;\n    }\n\n    if (!item || item.type !== \"item\") {\n      return null;\n    }\n\n    return item.key;\n  }\n\n  /** Toggles whether the given key is selected. */\n  toggleSelection(key: string) {\n    if (this.selectionMode() === \"none\") {\n      return;\n    }\n\n    if (this.selectionMode() === \"single\" && !this.isSelected(key)) {\n      this.replaceSelection(key);\n      return;\n    }\n\n    const retrievedKey = this.getKey(key);\n\n    if (retrievedKey == null) {\n      return;\n    }\n\n    const keys = new Selection(this.state.selectedKeys());\n\n    if (keys.has(retrievedKey)) {\n      keys.delete(retrievedKey);\n    } else if (this.canSelectItem(retrievedKey)) {\n      keys.add(retrievedKey);\n      keys.anchorKey = retrievedKey;\n      keys.currentKey = retrievedKey;\n    }\n\n    if (this.disallowEmptySelection() && keys.size === 0) {\n      return;\n    }\n\n    this.state.setSelectedKeys(keys);\n  }\n\n  /** Replaces the selection with only the given key. */\n  replaceSelection(key: string) {\n    if (this.selectionMode() === \"none\") {\n      return;\n    }\n\n    const retrievedKey = this.getKey(key);\n\n    if (retrievedKey == null) {\n      return;\n    }\n\n    const selection = this.canSelectItem(retrievedKey)\n      ? new Selection([retrievedKey], retrievedKey, retrievedKey)\n      : new Selection();\n\n    this.state.setSelectedKeys(selection);\n  }\n\n  /** Replaces the selection with the given keys. */\n  setSelectedKeys(keys: Iterable<string>) {\n    if (this.selectionMode() === \"none\") {\n      return;\n    }\n\n    const selection = new Selection();\n\n    for (const key of keys) {\n      const retrievedKey = this.getKey(key);\n\n      if (retrievedKey != null) {\n        selection.add(retrievedKey);\n\n        if (this.selectionMode() === \"single\") {\n          break;\n        }\n      }\n    }\n\n    this.state.setSelectedKeys(selection);\n  }\n\n  /** Selects all items in the collection. */\n  selectAll() {\n    if (this.selectionMode() === \"multiple\") {\n      this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()));\n    }\n  }\n\n  /**\n   * Removes all keys from the selection.\n   */\n  clearSelection() {\n    const selectedKeys = this.state.selectedKeys();\n\n    if (!this.disallowEmptySelection() && selectedKeys.size > 0) {\n      this.state.setSelectedKeys(new Selection());\n    }\n  }\n\n  /**\n   * Toggles between select all and an empty selection.\n   */\n  toggleSelectAll() {\n    if (this.isSelectAll()) {\n      this.clearSelection();\n    } else {\n      this.selectAll();\n    }\n  }\n\n  select(key: string, e?: PointerEvent) {\n    if (this.selectionMode() === \"none\") {\n      return;\n    }\n\n    if (this.selectionMode() === \"single\") {\n      if (this.isSelected(key) && !this.disallowEmptySelection()) {\n        this.toggleSelection(key);\n      } else {\n        this.replaceSelection(key);\n      }\n    } else if (this.selectionBehavior() === \"toggle\" || (e && e.pointerType === \"touch\")) {\n      // if touch then we just want to toggle, otherwise it's impossible to multi select because they don't have modifier keys\n      this.toggleSelection(key);\n    } else {\n      this.replaceSelection(key);\n    }\n  }\n\n  /** Returns whether the current selection is equal to the given selection. */\n  isSelectionEqual(selection: Set<string>) {\n    if (selection === this.state.selectedKeys()) {\n      return true;\n    }\n\n    // Check if the set of keys match.\n    const selectedKeys = this.selectedKeys();\n    if (selection.size !== selectedKeys.size) {\n      return false;\n    }\n\n    for (const key of selection) {\n      if (!selectedKeys.has(key)) {\n        return false;\n      }\n    }\n\n    for (const key of selectedKeys) {\n      if (!selection.has(key)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  canSelectItem(key: string) {\n    if (this.state.selectionMode() === \"none\") {\n      return false;\n    }\n\n    const item = this.collection().getItem(key);\n\n    return item != null && !item.disabled;\n  }\n\n  isDisabled(key: string) {\n    const item = this.collection().getItem(key);\n\n    return !item || item.disabled;\n  }\n\n  private getAllSelectableKeys() {\n    const keys: string[] = [];\n\n    const addKeys = (key: string | undefined) => {\n      while (key != null) {\n        if (this.canSelectItem(key)) {\n          const item = this.collection().getItem(key);\n\n          if (!item) {\n            continue;\n          }\n\n          if (item.type === \"item\") {\n            keys.push(key);\n          }\n        }\n\n        key = this.collection().getKeyAfter(key);\n      }\n    };\n\n    addKeys(this.collection().getFirstKey());\n\n    return keys;\n  }\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/list/src/ListCollection.ts\n */\n\nimport { Collection, CollectionNode } from \"../primitives\";\n\nexport class ListCollection implements Collection<CollectionNode> {\n  private keyMap: Map<string, CollectionNode> = new Map();\n  private iterable: Iterable<CollectionNode>;\n  private firstKey?: string;\n  private lastKey?: string;\n\n  constructor(nodes: Iterable<CollectionNode>) {\n    this.iterable = nodes;\n\n    for (const node of nodes) {\n      this.keyMap.set(node.key, node);\n    }\n\n    if (this.keyMap.size === 0) {\n      return;\n    }\n\n    let last!: CollectionNode;\n    let index = 0;\n\n    for (const [key, node] of this.keyMap) {\n      if (last) {\n        last.nextKey = key;\n        node.prevKey = last.key;\n      } else {\n        this.firstKey = key;\n        node.prevKey = undefined;\n      }\n\n      if (node.type === \"item\") {\n        node.index = index++;\n      }\n\n      last = node;\n\n      // Set nextKey as undefined since this might be the last node\n      // If it isn't the last node, last.nextKey will properly set at start of new loop\n      last.nextKey = undefined;\n    }\n\n    this.lastKey = last.key;\n  }\n\n  *[Symbol.iterator]() {\n    yield* this.iterable;\n  }\n\n  getSize() {\n    return this.keyMap.size;\n  }\n\n  getKeys() {\n    return this.keyMap.keys();\n  }\n\n  getKeyBefore(key: string) {\n    return this.keyMap.get(key)?.prevKey;\n  }\n\n  getKeyAfter(key: string) {\n    return this.keyMap.get(key)?.nextKey;\n  }\n\n  getFirstKey() {\n    return this.firstKey;\n  }\n\n  getLastKey() {\n    return this.lastKey;\n  }\n\n  getItem(key: string) {\n    return this.keyMap.get(key);\n  }\n\n  at(idx: number) {\n    const keys = [...this.getKeys()];\n    return this.getItem(keys[idx]);\n  }\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/list/src/useListState.ts\n */\n\nimport { access } from \"@kobalte/utils\";\nimport { Accessor, createComputed } from \"solid-js\";\n\nimport { Collection, CollectionBase, CollectionNode, createCollection } from \"../primitives\";\nimport {\n  createMultipleSelectionState,\n  CreateMultipleSelectionStateProps,\n  SelectionManager,\n} from \"../selection\";\nimport { ListCollection } from \"./list-collection\";\n\nexport interface CreateListStateProps extends CollectionBase, CreateMultipleSelectionStateProps {\n  /** Filter function to generate a filtered list of nodes. */\n  filter?: (nodes: Iterable<CollectionNode>) => Iterable<CollectionNode>;\n}\n\nexport interface ListState {\n  /** A collection of items in the list. */\n  collection: Accessor<Collection<CollectionNode>>;\n\n  /** A selection manager to read and update multiple selection state. */\n  selectionManager: Accessor<SelectionManager>;\n}\n\n/**\n * Provides state management for list-like components.\n * Handles building a collection of items from props, and manages multiple selection state.\n */\nexport function createListState(props: CreateListStateProps): ListState {\n  const selectionState = createMultipleSelectionState(props);\n\n  const factory = (nodes: Iterable<CollectionNode>) => {\n    return props.filter ? new ListCollection(props.filter(nodes)) : new ListCollection(nodes);\n  };\n\n  const collection = createCollection(\n    {\n      dataSource: () => access(props.dataSource),\n      getKey: () => access(props.getKey),\n      getTextValue: () => access(props.getTextValue),\n      getDisabled: () => access(props.getDisabled),\n      getSectionChildren: () => access(props.getSectionChildren),\n      factory,\n    },\n    [() => props.filter]\n  );\n\n  const selectionManager = new SelectionManager(collection, selectionState);\n\n  // Reset focused key if that item is deleted from the collection.\n  createComputed(() => {\n    const focusedKey = selectionState.focusedKey();\n\n    if (focusedKey != null && !collection().getItem(focusedKey)) {\n      selectionState.setFocusedKey(undefined);\n    }\n  });\n\n  return {\n    collection,\n    selectionManager: () => selectionManager,\n  };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/ListKeyboardDelegate.ts\n */\n\nimport { Accessor } from \"solid-js\";\n\nimport { Collection, CollectionNode } from \"../primitives\";\nimport { KeyboardDelegate } from \"../selection\";\n\nexport class ListKeyboardDelegate implements KeyboardDelegate {\n  private collection: Accessor<Collection<CollectionNode>>;\n  private ref?: Accessor<HTMLElement | undefined>;\n  private collator?: Accessor<Intl.Collator | undefined>;\n\n  constructor(\n    collection: Accessor<Collection<CollectionNode>>,\n    ref?: Accessor<HTMLElement | undefined>,\n    collator?: Accessor<Intl.Collator | undefined>\n  ) {\n    this.collection = collection;\n    this.ref = ref;\n    this.collator = collator;\n  }\n\n  getKeyBelow(key: string) {\n    let keyAfter = this.collection().getKeyAfter(key);\n\n    while (keyAfter != null) {\n      const item = this.collection().getItem(keyAfter);\n\n      if (item && item.type === \"item\" && !item.disabled) {\n        return keyAfter;\n      }\n\n      keyAfter = this.collection().getKeyAfter(keyAfter);\n    }\n  }\n\n  getKeyAbove(key: string) {\n    let keyBefore = this.collection().getKeyBefore(key);\n\n    while (keyBefore != null) {\n      const item = this.collection().getItem(keyBefore);\n\n      if (item && item.type === \"item\" && !item.disabled) {\n        return keyBefore;\n      }\n\n      keyBefore = this.collection().getKeyBefore(keyBefore);\n    }\n  }\n\n  getFirstKey() {\n    let key = this.collection().getFirstKey();\n\n    while (key != null) {\n      const item = this.collection().getItem(key);\n\n      if (item && item.type === \"item\" && !item.disabled) {\n        return key;\n      }\n\n      key = this.collection().getKeyAfter(key);\n    }\n  }\n\n  getLastKey() {\n    let key = this.collection().getLastKey();\n\n    while (key != null) {\n      const item = this.collection().getItem(key);\n\n      if (item && item.type === \"item\" && !item.disabled) {\n        return key;\n      }\n\n      key = this.collection().getKeyBefore(key);\n    }\n  }\n\n  private getItem(key: string): HTMLElement | null {\n    return this.ref?.()?.querySelector(`[data-key=\"${key}\"]`) ?? null;\n  }\n\n  // TODO: not working correctly\n  getKeyPageAbove(key: string) {\n    const menu = this.ref?.();\n    let item = this.getItem(key);\n\n    if (!menu || !item) {\n      return;\n    }\n\n    const pageY = Math.max(0, item.offsetTop + item.offsetHeight - menu.offsetHeight);\n\n    let keyAbove: string | undefined = key;\n\n    while (keyAbove && item && item.offsetTop > pageY) {\n      keyAbove = this.getKeyAbove(keyAbove);\n      item = keyAbove != null ? this.getItem(keyAbove) : null;\n    }\n\n    return keyAbove;\n  }\n\n  // TODO: not working correctly\n  getKeyPageBelow(key: string) {\n    const menu = this.ref?.();\n    let item = this.getItem(key);\n\n    if (!menu || !item) {\n      return;\n    }\n\n    const pageY = Math.min(\n      menu.scrollHeight,\n      item.offsetTop - item.offsetHeight + menu.offsetHeight\n    );\n\n    let keyBelow: string | undefined = key;\n\n    while (keyBelow && item && item.offsetTop < pageY) {\n      keyBelow = this.getKeyBelow(keyBelow);\n      item = keyBelow != null ? this.getItem(keyBelow) : null;\n    }\n\n    return keyBelow;\n  }\n\n  getKeyForSearch(search: string, fromKey?: string) {\n    const collator = this.collator?.();\n\n    if (!collator) {\n      return;\n    }\n\n    // Prevent from getting the same key twice\n    let key = fromKey != null ? this.getKeyBelow(fromKey) : this.getFirstKey();\n\n    while (key != null) {\n      const item = this.collection().getItem(key);\n\n      if (item) {\n        const substring = item.textValue.slice(0, search.length);\n\n        if (item.textValue && collator.compare(substring, search) === 0) {\n          return key;\n        }\n      }\n\n      key = this.getKeyBelow(key);\n    }\n  }\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableList.ts\n */\n\nimport { access, MaybeAccessor } from \"@kobalte/utils\";\nimport { Accessor, createMemo } from \"solid-js\";\n\nimport { createCollator } from \"../i18n\";\nimport { Collection, CollectionNode } from \"../primitives\";\nimport {\n  createSelectableCollection,\n  FocusStrategy,\n  KeyboardDelegate,\n  MultipleSelectionManager,\n} from \"../selection\";\nimport { ListKeyboardDelegate } from \"./list-keyboard-delegate\";\n\nexport interface CreateSelectableListProps {\n  /** State of the collection. */\n  collection: Accessor<Collection<CollectionNode>>;\n\n  /** An interface for reading and updating multiple selection state. */\n  selectionManager: MaybeAccessor<MultipleSelectionManager>;\n\n  /** A delegate that returns collection item keys with respect to visual layout. */\n  keyboardDelegate?: MaybeAccessor<KeyboardDelegate | undefined>;\n\n  /** Whether the collection or one of its items should be automatically focused upon render. */\n  autoFocus?: MaybeAccessor<boolean | FocusStrategy | undefined>;\n\n  /** Whether the autofocus should run on next tick. */\n  deferAutoFocus?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether focus should wrap around when the end/start is reached. */\n  shouldFocusWrap?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the collection allows empty selection. */\n  disallowEmptySelection?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether selection should occur automatically on focus. */\n  selectOnFocus?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether typeahead is disabled. */\n  disallowTypeAhead?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the collection items should use virtual focus instead of being focused directly. */\n  shouldUseVirtualFocus?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether navigation through tab key is enabled. */\n  allowsTabNavigation?: MaybeAccessor<boolean | undefined>;\n\n  /** Whether the option is contained in a virtual scroller. */\n  isVirtualized?: MaybeAccessor<boolean | undefined>;\n\n  /** When virtualized, the Virtualizer function used to scroll to the item of the key provided. */\n  scrollToKey?: MaybeAccessor<((key: string) => void) | undefined>;\n}\n\n/**\n * Handles interactions with a selectable list.\n * @param props Props for the list.\n * @param ref A ref to the list element.\n * @param scrollRef The ref attached to the scrollable body. Used to provide automatic scrolling on item focus for non-virtualized collections. If not provided, defaults to the collection ref.\n */\nexport function createSelectableList<T extends HTMLElement, U extends HTMLElement = T>(\n  props: CreateSelectableListProps,\n  ref: Accessor<T | undefined>,\n  scrollRef?: Accessor<U | undefined>\n) {\n  const collator = createCollator({ usage: \"search\", sensitivity: \"base\" });\n\n  // By default, a KeyboardDelegate is provided which uses the DOM to query layout information (e.g. for page up/page down).\n  const delegate = createMemo(() => {\n    const keyboardDelegate = access(props.keyboardDelegate);\n\n    if (keyboardDelegate) {\n      return keyboardDelegate;\n    }\n\n    return new ListKeyboardDelegate(props.collection, ref, collator);\n  });\n\n  return createSelectableCollection(\n    {\n      selectionManager: () => access(props.selectionManager),\n      keyboardDelegate: delegate,\n      autoFocus: () => access(props.autoFocus),\n      deferAutoFocus: () => access(props.deferAutoFocus),\n      shouldFocusWrap: () => access(props.shouldFocusWrap),\n      disallowEmptySelection: () => access(props.disallowEmptySelection),\n      selectOnFocus: () => access(props.selectOnFocus),\n      disallowTypeAhead: () => access(props.disallowTypeAhead),\n      shouldUseVirtualFocus: () => access(props.shouldUseVirtualFocus),\n      allowsTabNavigation: () => access(props.allowsTabNavigation),\n      isVirtualized: () => access(props.isVirtualized),\n      scrollToKey: key => access(props.scrollToKey)?.(key),\n    },\n    ref,\n    scrollRef\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-stately/list/src/useSingleSelectListState.ts\n */\n\nimport { access } from \"@kobalte/utils\";\nimport { Accessor, createMemo, mergeProps, splitProps } from \"solid-js\";\n\nimport { CollectionBase, CollectionNode, createControllableSignal } from \"../primitives\";\nimport { SingleSelection } from \"../selection\";\nimport { createListState, CreateListStateProps, ListState } from \"./create-list-state\";\n\nexport interface CreateSingleSelectListStateProps\n  extends CollectionBase,\n    Omit<SingleSelection, \"disallowEmptySelection\"> {\n  /** Filter function to generate a filtered list of nodes. */\n  filter?: (nodes: Iterable<CollectionNode>) => Iterable<CollectionNode>;\n}\n\nexport interface SingleSelectListState extends ListState {\n  /** The value of the currently selected item. */\n  selectedItem: Accessor<CollectionNode | undefined>;\n\n  /** The key for the currently selected item. */\n  selectedKey: Accessor<string | undefined>;\n\n  /** Sets the selected key. */\n  setSelectedKey(key: string): void;\n}\n\n/**\n * Provides state management for list-like components with single selection.\n * Handles building a collection of items from props, and manages selection state.\n */\nexport function createSingleSelectListState(\n  props: CreateSingleSelectListStateProps\n): SingleSelectListState {\n  const [selectedKey, setSelectedKey] = createControllableSignal<string>({\n    value: () => access(props.selectedKey),\n    defaultValue: () => access(props.defaultSelectedKey),\n    onChange: value => props.onSelectionChange?.(value),\n  });\n\n  const selectedKeys = createMemo(() => {\n    const selection = selectedKey();\n    return selection != null ? [selection] : [];\n  });\n\n  const [, defaultCreateListStateProps] = splitProps(props, [\"onSelectionChange\"]);\n\n  const createListStateProps = mergeProps(defaultCreateListStateProps, {\n    selectionMode: \"single\",\n    disallowEmptySelection: true,\n    allowDuplicateSelectionEvents: true,\n    selectedKeys,\n    onSelectionChange: (keys: Set<string>) => {\n      const key = (keys as Set<string>).values().next().value;\n\n      // Always fire onSelectionChange, even if the key is the same\n      // as the current key (createControllableSignal does not).\n      if (key === selectedKey()) {\n        props.onSelectionChange?.(key);\n      }\n\n      setSelectedKey(key);\n    },\n  } as Partial<CreateListStateProps>);\n\n  const { collection, selectionManager } = createListState(createListStateProps);\n\n  const selectedItem = createMemo(() => {\n    const selection = selectedKey();\n    return selection != null ? collection().getItem(selection) : undefined;\n  });\n\n  return {\n    collection,\n    selectionManager,\n    selectedKey,\n    setSelectedKey,\n    selectedItem,\n  };\n}\n","import { createStore } from \"solid-js/store\";\n\nimport { ToastConfig } from \"./types\";\n\nconst [state, setState] = createStore({\n  toasts: [] as ToastConfig[],\n});\n\nfunction add(toast: ToastConfig) {\n  setState(\"toasts\", prev => [...prev, toast]);\n}\n\nfunction get(id: number) {\n  return state.toasts.find(toast => toast.id === id);\n}\n\nfunction update(id: number, toast: ToastConfig) {\n  const index = state.toasts.findIndex(toast => toast.id === id);\n\n  if (index != -1) {\n    setState(\"toasts\", prev => [...prev.slice(0, index), toast, ...prev.slice(index + 1)]);\n  }\n}\n\nfunction dismiss(id: number) {\n  setState(\"toasts\", toast => toast.id === id, \"dismiss\", true);\n}\n\nfunction remove(id: number) {\n  setState(\"toasts\", prev => prev.filter(toast => toast.id !== id));\n}\n\nfunction clear() {\n  setState(\"toasts\", []);\n}\n\nexport const toastStore = {\n  toasts: () => state.toasts,\n  add,\n  get,\n  update,\n  dismiss,\n  remove,\n  clear,\n};\n","import { isFunction } from \"@kobalte/utils\";\n\nimport { toastStore } from \"./toast-store\";\nimport { ShowToastOptions, ToastComponent, ToastPromiseComponent } from \"./types\";\n\nlet toastsCounter = 0;\n\n/** Adds a new toast to the visible toasts or queue depending on current state and limit, and return the id of the created toast. */\nfunction show(toastComponent: ToastComponent, options?: ShowToastOptions) {\n  const id = toastsCounter++;\n  toastStore.add({ id, toastComponent, dismiss: false, update: false, region: options?.region });\n  return id;\n}\n\n/** Update the toast of the given id with a new rendered component. */\nfunction update(id: number, toastComponent: ToastComponent) {\n  toastStore.update(id, { id, toastComponent, dismiss: false, update: true });\n}\n\n/** Adds a new promise-based toast to the visible toasts or queue depending on current state and limit, and return the id of the created toast. */\nfunction promise<T, U = any>(\n  promise: Promise<T> | (() => Promise<T>),\n  toastComponent: ToastPromiseComponent<T, U>,\n  options?: ShowToastOptions\n) {\n  const id = show(props => {\n    return toastComponent({\n      get toastId() {\n        return props.toastId;\n      },\n      state: \"pending\",\n    });\n  }, options);\n\n  (isFunction(promise) ? promise() : promise)\n    .then(data =>\n      update(id, props => {\n        return toastComponent({\n          get toastId() {\n            return props.toastId;\n          },\n          state: \"fulfilled\",\n          data,\n        });\n      })\n    )\n    .catch(error =>\n      update(id, props => {\n        return toastComponent({\n          get toastId() {\n            return props.toastId;\n          },\n          state: \"rejected\",\n          error,\n        });\n      })\n    );\n\n  return id;\n}\n\n/** Removes toast with given id from visible toasts and queue. */\nfunction dismiss(id: number) {\n  toastStore.dismiss(id);\n  return id;\n}\n\n/** Removes all toasts from visible toasts and queue. */\nfunction clear() {\n  toastStore.clear();\n}\n\n// User facing API.\nexport const toaster = {\n  show,\n  update,\n  promise,\n  dismiss,\n  clear,\n};\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface CollapsibleDataSet {\n  \"data-expanded\": string | undefined;\n  \"data-closed\": string | undefined;\n  \"data-disabled\": string | undefined;\n}\n\nexport interface CollapsibleContextValue {\n  dataset: Accessor<CollapsibleDataSet>;\n  isOpen: Accessor<boolean>;\n  disabled: Accessor<boolean>;\n  shouldMount: Accessor<boolean>;\n  contentId: Accessor<string | undefined>;\n  toggle: () => void;\n  generateId: (part: string) => string;\n  registerContentId: (id: string) => () => void;\n}\n\nexport const CollapsibleContext = createContext<CollapsibleContextValue>();\n\nexport function useCollapsibleContext() {\n  const context = useContext(CollapsibleContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useCollapsibleContext` must be used within a `Collapsible.Root` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/collapsible/src/Collapsible.tsx\n */\n\nimport { mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport {\n  createEffect,\n  createSignal,\n  JSX,\n  on,\n  onCleanup,\n  onMount,\n  Show,\n  splitProps,\n} from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createPresence } from \"../primitives\";\nimport { useCollapsibleContext } from \"./collapsible-context\";\n\nexport interface CollapsibleContentOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface CollapsibleContentProps\n  extends OverrideComponentProps<\"div\", CollapsibleContentOptions> {}\n\n/**\n * Contains the content to be rendered when the collapsible is expanded.\n */\nexport function CollapsibleContent(props: CollapsibleContentProps) {\n  let ref: HTMLDivElement | undefined;\n\n  const context = useCollapsibleContext();\n\n  props = mergeDefaultProps({ id: context.generateId(\"content\") }, props);\n\n  const [local, others] = splitProps(props, [\"ref\", \"id\", \"style\"]);\n\n  const presence = createPresence(() => context.shouldMount());\n\n  const [height, setHeight] = createSignal(0);\n  const [width, setWidth] = createSignal(0);\n\n  // When opening we want it to immediately open to retrieve dimensions.\n  // When closing we delay `isPresent` to retrieve dimensions before closing.\n  const isOpen = () => context.isOpen() || presence.isPresent();\n\n  let isMountAnimationPrevented = isOpen();\n  let originalStyles: Record<string, string> | undefined;\n\n  onMount(() => {\n    const raf = requestAnimationFrame(() => {\n      isMountAnimationPrevented = false;\n    });\n\n    onCleanup(() => {\n      cancelAnimationFrame(raf);\n    });\n  });\n\n  createEffect(\n    on(\n      /**\n       * depends on `presence.isPresent` because it will be `false` on\n       * animation end (so when close finishes). This allows us to\n       * retrieve the dimensions *before* closing.\n       */\n      [() => presence.isPresent()],\n      () => {\n        if (!ref) {\n          return;\n        }\n\n        originalStyles = originalStyles || {\n          transitionDuration: ref.style.transitionDuration,\n          animationName: ref.style.animationName,\n        };\n\n        // block any animations/transitions so the element renders at its full dimensions\n        ref.style.transitionDuration = \"0s\";\n        ref.style.animationName = \"none\";\n\n        // get width and height from full dimensions\n        const rect = ref.getBoundingClientRect();\n        setHeight(rect.height);\n        setWidth(rect.width);\n\n        // kick off any animations/transitions that were originally set up if it isn't the initial mount\n        if (!isMountAnimationPrevented) {\n          ref.style.transitionDuration = originalStyles.transitionDuration;\n          ref.style.animationName = originalStyles.animationName;\n        }\n      }\n    )\n  );\n\n  createEffect(() => onCleanup(context.registerContentId(local.id!)));\n\n  return (\n    <Show when={presence.isPresent()}>\n      <Polymorphic\n        as=\"div\"\n        ref={mergeRefs(el => {\n          presence.setRef(el);\n          ref = el;\n        }, local.ref)}\n        id={local.id}\n        style={{\n          \"--kb-collapsible-content-height\": height() ? `${height()}px` : undefined,\n          \"--kb-collapsible-content-width\": width() ? `${width()}px` : undefined,\n          ...local.style,\n        }}\n        {...context.dataset()}\n        {...others}\n      />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/collapsible/src/Collapsible.tsx\n */\n\nimport { createGenerateId, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Accessor, createMemo, createSignal, createUniqueId, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createDisclosureState, createRegisterId } from \"../primitives\";\nimport {\n  CollapsibleContext,\n  CollapsibleContextValue,\n  CollapsibleDataSet,\n} from \"./collapsible-context\";\n\nexport interface CollapsibleRootOptions extends AsChildProp {\n  /** The controlled open state of the collapsible. */\n  open?: boolean;\n\n  /**\n   * The default open state when initially rendered.\n   * Useful when you do not need to control the open state.\n   */\n  defaultOpen?: boolean;\n\n  /** Event handler called when the open state of the collapsible changes. */\n  onOpenChange?: (isOpen: boolean) => void;\n\n  /** Whether the collapsible is disabled. */\n  disabled?: boolean;\n\n  /**\n   * Used to force mounting the collapsible content when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface CollapsibleRootProps\n  extends OverrideComponentProps<\"div\", CollapsibleRootOptions> {}\n\n/**\n * An interactive component which expands/collapses a content.\n */\nexport function CollapsibleRoot(props: CollapsibleRootProps) {\n  const defaultId = `collapsible-${createUniqueId()}`;\n\n  props = mergeDefaultProps({ id: defaultId }, props);\n\n  const [local, others] = splitProps(props, [\n    \"open\",\n    \"defaultOpen\",\n    \"onOpenChange\",\n    \"disabled\",\n    \"forceMount\",\n  ]);\n\n  const [contentId, setContentId] = createSignal<string>();\n\n  const disclosureState = createDisclosureState({\n    open: () => local.open,\n    defaultOpen: () => local.defaultOpen,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n  });\n\n  const dataset: Accessor<CollapsibleDataSet> = createMemo(() => ({\n    \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n    \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n    \"data-disabled\": local.disabled ? \"\" : undefined,\n  }));\n\n  const context: CollapsibleContextValue = {\n    dataset,\n    isOpen: disclosureState.isOpen,\n    disabled: () => local.disabled ?? false,\n    shouldMount: () => local.forceMount || disclosureState.isOpen(),\n    contentId,\n    toggle: disclosureState.toggle,\n    generateId: createGenerateId(() => others.id!),\n    registerContentId: createRegisterId(setContentId),\n  };\n\n  return (\n    <CollapsibleContext.Provider value={context}>\n      <Polymorphic as=\"div\" {...dataset()} {...others} />\n    </CollapsibleContext.Provider>\n  );\n}\n","/*!\n * Portions of this file are based on code from ariakit\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the ariakit team:\n * https://github.com/hope-ui/hope-ui/blob/54125b130195f37161dbeeea0c21dc3b198bc3ac/packages/core/src/button/is-button.ts\n */\n\nconst BUTTON_INPUT_TYPES = [\"button\", \"color\", \"file\", \"image\", \"reset\", \"submit\"];\n\n/**\n * Checks whether `element` is a native HTML button element.\n * @example\n * isButton(document.querySelector(\"button\")); // true\n * isButton(document.querySelector(\"input[type='button']\")); // true\n * isButton(document.querySelector(\"div\")); // false\n * isButton(document.querySelector(\"input[type='text']\")); // false\n * isButton(document.querySelector(\"div[role='button']\")); // false\n */\nexport function isButton(element: { tagName: string; type?: string }) {\n  const tagName = element.tagName.toLowerCase();\n\n  if (tagName === \"button\") {\n    return true;\n  }\n\n  if (tagName === \"input\" && element.type) {\n    return BUTTON_INPUT_TYPES.indexOf(element.type) !== -1;\n  }\n\n  return false;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/a13802d8be6f83af1450e56f7a88527b10d9cadf/packages/@react-aria/button/src/useButton.ts\n *\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/8a13899ff807bbf39f3d89d2d5964042ba4d5287/packages/ariakit/src/button/button.ts\n */\n\nimport { mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createMemo, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createTagName } from \"../primitives\";\nimport { isButton } from \"./is-button\";\n\nexport interface ButtonRootOptions extends AsChildProp {\n  /** Whether the button is disabled. */\n  disabled?: boolean;\n}\n\nexport interface ButtonRootProps extends OverrideComponentProps<\"button\", ButtonRootOptions> {}\n\n/**\n * Button enables users to trigger an action or event, such as submitting a form,\n * opening a dialog, canceling an action, or performing a delete operation.\n * This component is based on the [WAI-ARIA Button Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/button/)\n */\nexport function ButtonRoot(props: ButtonRootProps) {\n  let ref: HTMLButtonElement | undefined;\n\n  props = mergeDefaultProps({ type: \"button\" }, props);\n\n  const [local, others] = splitProps(props, [\"ref\", \"type\", \"disabled\"]);\n\n  const tagName = createTagName(\n    () => ref,\n    () => \"button\"\n  );\n\n  const isNativeButton = createMemo(() => {\n    const elementTagName = tagName();\n\n    if (elementTagName == null) {\n      return false;\n    }\n\n    return isButton({ tagName: elementTagName, type: local.type });\n  });\n\n  const isNativeInput = createMemo(() => {\n    return tagName() === \"input\";\n  });\n\n  const isNativeLink = createMemo(() => {\n    return tagName() === \"a\" && ref?.getAttribute(\"href\") != null;\n  });\n\n  return (\n    <Polymorphic\n      as=\"button\"\n      ref={mergeRefs(el => (ref = el), local.ref)}\n      type={isNativeButton() || isNativeInput() ? local.type : undefined}\n      role={!isNativeButton() && !isNativeLink() ? \"button\" : undefined}\n      tabIndex={!isNativeButton() && !isNativeLink() && !local.disabled ? 0 : undefined}\n      disabled={isNativeButton() || isNativeInput() ? local.disabled : undefined}\n      aria-disabled={!isNativeButton() && !isNativeInput() && local.disabled ? true : undefined}\n      data-disabled={local.disabled ? \"\" : undefined}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/collapsible/src/Collapsible.tsx\n */\n\nimport { callHandler, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { useCollapsibleContext } from \"./collapsible-context\";\n\nexport interface CollapsibleTriggerProps extends OverrideComponentProps<\"button\", AsChildProp> {}\n\n/**\n * The button that expands/collapses the collapsible content.\n */\nexport function CollapsibleTrigger(props: CollapsibleTriggerProps) {\n  const context = useCollapsibleContext();\n\n  const [local, others] = splitProps(props, [\"onClick\"]);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n    context.toggle();\n  };\n\n  return (\n    <Button.Root\n      aria-expanded={context.isOpen()}\n      aria-controls={context.isOpen() ? context.contentId() : undefined}\n      disabled={context.disabled()}\n      onClick={onClick}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface AccordionItemContextValue {\n  value: Accessor<string>;\n  triggerId: Accessor<string | undefined>;\n  contentId: Accessor<string | undefined>;\n  generateId: (part: string) => string;\n  registerTriggerId: (id: string) => () => void;\n  registerContentId: (id: string) => () => void;\n}\n\nexport const AccordionItemContext = createContext<AccordionItemContextValue>();\n\nexport function useAccordionItemContext() {\n  const context = useContext(AccordionItemContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useAccordionItemContext` must be used within a `Accordion.Item` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/c183944ce6a8ca1cf280a1c7b88d2ba393dd0252/packages/@react-aria/accordion/src/useAccordion.ts\n */\n\nimport { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport * as Collapsible from \"../collapsible\";\nimport { useAccordionItemContext } from \"./accordion-item-context\";\n\nexport interface AccordionContentOptions extends Collapsible.CollapsibleContentOptions {}\n\nexport interface AccordionContentProps\n  extends OverrideComponentProps<\"div\", AccordionContentOptions> {}\n\n/**\n * Contains the content to be rendered when the `Accordion.Item` is expanded.\n */\nexport function AccordionContent(props: AccordionContentProps) {\n  const itemContext = useAccordionItemContext();\n\n  const defaultId = itemContext.generateId(\"content\");\n\n  props = mergeDefaultProps({ id: defaultId }, props);\n\n  const [local, others] = splitProps(props, [\"style\"]);\n\n  createEffect(() => onCleanup(itemContext.registerContentId(others.id!)));\n\n  return (\n    <Collapsible.Content\n      role=\"region\"\n      aria-labelledby={itemContext.triggerId()}\n      style={{\n        \"--kb-accordion-content-height\": \"var(--kb-collapsible-content-height)\",\n        \"--kb-accordion-content-width\": \"var(--kb-collapsible-content-width)\",\n        ...local.style,\n      }}\n      {...others}\n    />\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { useCollapsibleContext } from \"../collapsible/collapsible-context\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\n\nexport interface AccordionHeaderProps extends OverrideComponentProps<\"h3\", AsChildProp> {}\n\n/**\n * Wraps an `Accordion.Trigger`.\n * Use the `as` prop to update it to the appropriate heading level for your page.\n */\nexport function AccordionHeader(props: AccordionHeaderProps) {\n  // `Accordion.Item` is a `Collapsible.Root`.\n  const context = useCollapsibleContext();\n\n  return <Polymorphic as=\"h3\" {...context.dataset()} {...props} />;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { ListState } from \"../list\";\n\nexport interface AccordionContextValue {\n  listState: Accessor<ListState>;\n  generateId: (part: string) => string;\n}\n\nexport const AccordionContext = createContext<AccordionContextValue>();\n\nexport function useAccordionContext() {\n  const context = useContext(AccordionContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useAccordionContext` must be used within a `Accordion.Root` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/c183944ce6a8ca1cf280a1c7b88d2ba393dd0252/packages/@react-aria/accordion/src/useAccordion.ts\n */\n\nimport { createGenerateId, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createSignal, createUniqueId, splitProps } from \"solid-js\";\n\nimport * as Collapsible from \"../collapsible\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { createRegisterId } from \"../primitives\";\nimport { useAccordionContext } from \"./accordion-context\";\nimport { AccordionItemContext, AccordionItemContextValue } from \"./accordion-item-context\";\n\nexport interface AccordionItemOptions extends AsChildProp {\n  /** A unique value for the item. */\n  value: string;\n\n  /** Whether the item is disabled. */\n  disabled?: boolean;\n\n  /**\n   * Used to force mounting the item content when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface AccordionItemProps extends OverrideComponentProps<\"div\", AccordionItemOptions> {}\n\n/**\n * An item of the accordion, contains all the parts of a collapsible section.\n */\nexport function AccordionItem(props: AccordionItemProps) {\n  const accordionContext = useAccordionContext();\n\n  const defaultId = `${accordionContext.generateId(\"item\")}-${createUniqueId()}`;\n\n  props = mergeDefaultProps({ id: defaultId }, props);\n\n  const [local, others] = splitProps(props, [\"value\", \"disabled\"]);\n\n  const [triggerId, setTriggerId] = createSignal<string>();\n  const [contentId, setContentId] = createSignal<string>();\n\n  const selectionManager = () => accordionContext.listState().selectionManager();\n\n  const isExpanded = () => {\n    return selectionManager().isSelected(local.value);\n  };\n\n  const context: AccordionItemContextValue = {\n    value: () => local.value,\n    triggerId,\n    contentId,\n    generateId: createGenerateId(() => others.id!),\n    registerTriggerId: createRegisterId(setTriggerId),\n    registerContentId: createRegisterId(setContentId),\n  };\n\n  return (\n    <AccordionItemContext.Provider value={context}>\n      <Collapsible.Root open={isExpanded()} disabled={local.disabled} {...others} />\n    </AccordionItemContext.Provider>\n  );\n}\n","import { createContext, useContext } from \"solid-js\";\n\nimport { DomCollectionItem } from \"./types\";\n\nexport interface DomCollectionContextValue<T extends DomCollectionItem = DomCollectionItem> {\n  registerItem: (item: T) => () => void;\n}\n\nexport const DomCollectionContext = createContext<DomCollectionContextValue>();\n\nexport function useOptionalDomCollectionContext() {\n  return useContext(DomCollectionContext);\n}\n\nexport function useDomCollectionContext<T extends DomCollectionItem = DomCollectionItem>() {\n  const context = useOptionalDomCollectionContext();\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useDomCollectionContext` must be used within a `DomCollectionProvider` component\"\n    );\n  }\n\n  return context as DomCollectionContextValue<T>;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-state.ts\n */\n\nimport { getDocument } from \"@kobalte/utils\";\nimport { Accessor, createEffect, onCleanup } from \"solid-js\";\n\nimport { DomCollectionItem } from \"./types\";\n\nfunction isElementPreceding(a: Element, b: Element) {\n  return Boolean(b.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_PRECEDING);\n}\n\nexport function findDOMIndex(items: DomCollectionItem[], item: DomCollectionItem) {\n  const itemEl = item.ref();\n\n  if (!itemEl) {\n    return -1;\n  }\n\n  let length = items.length;\n\n  if (!length) {\n    return -1;\n  }\n\n  // Most of the time, the new item will be added at the end of the list, so we\n  // do a findIndex in reverse order, instead of wasting time searching the\n  // index from the beginning.\n  while (length--) {\n    const currentItemEl = items[length]?.ref();\n\n    if (!currentItemEl) {\n      continue;\n    }\n\n    if (isElementPreceding(currentItemEl, itemEl)) {\n      return length + 1;\n    }\n  }\n  return 0;\n}\n\nfunction sortBasedOnDOMPosition<T extends DomCollectionItem>(items: T[]) {\n  const pairs = items.map((item, index) => [index, item] as const);\n  let isOrderDifferent = false;\n\n  pairs.sort(([indexA, a], [indexB, b]) => {\n    const elementA = a.ref();\n    const elementB = b.ref();\n\n    if (elementA === elementB) {\n      return 0;\n    }\n\n    if (!elementA || !elementB) {\n      return 0;\n    }\n\n    // a before b\n    if (isElementPreceding(elementA, elementB)) {\n      if (indexA > indexB) {\n        isOrderDifferent = true;\n      }\n      return -1;\n    }\n\n    // a after b\n    if (indexA < indexB) {\n      isOrderDifferent = true;\n    }\n\n    return 1;\n  });\n\n  if (isOrderDifferent) {\n    return pairs.map(([_, item]) => item);\n  }\n\n  return items;\n}\n\nfunction setItemsBasedOnDOMPosition<T extends DomCollectionItem>(\n  items: T[],\n  setItems: (items: T[]) => any\n) {\n  const sortedItems = sortBasedOnDOMPosition(items);\n\n  if (items !== sortedItems) {\n    setItems(sortedItems);\n  }\n}\n\nfunction getCommonParent(items: DomCollectionItem[]) {\n  const firstItem = items[0];\n  const lastItemEl = items[items.length - 1]?.ref();\n  let parentEl = firstItem?.ref()?.parentElement;\n\n  while (parentEl) {\n    if (lastItemEl && parentEl.contains(lastItemEl)) {\n      return parentEl;\n    }\n\n    parentEl = parentEl.parentElement;\n  }\n\n  return getDocument(parentEl).body;\n}\n\nfunction createTimeoutObserver<T extends DomCollectionItem = DomCollectionItem>(\n  items: Accessor<T[]>,\n  setItems: (items: T[]) => any\n) {\n  createEffect(() => {\n    const timeout = setTimeout(() => {\n      setItemsBasedOnDOMPosition(items(), setItems);\n    });\n\n    onCleanup(() => clearTimeout(timeout));\n  });\n}\n\nexport function createSortBasedOnDOMPosition<T extends DomCollectionItem = DomCollectionItem>(\n  items: Accessor<T[]>,\n  setItems: (items: T[]) => any\n) {\n  // JSDOM doesn't support IntersectionObserver. See https://github.com/jsdom/jsdom/issues/2032\n  if (typeof IntersectionObserver !== \"function\") {\n    createTimeoutObserver(items, setItems);\n    return;\n  }\n\n  let previousItems: T[] = [];\n\n  createEffect(() => {\n    const callback = () => {\n      const hasPreviousItems = !!previousItems.length;\n      previousItems = items();\n\n      // We don't want to sort items if items have been just registered.\n      if (!hasPreviousItems) {\n        return;\n      }\n\n      setItemsBasedOnDOMPosition(items(), setItems);\n    };\n\n    const root = getCommonParent(items());\n    const observer = new IntersectionObserver(callback, { root });\n\n    items().forEach(item => {\n      const itemEl = item.ref();\n\n      if (itemEl) {\n        observer.observe(itemEl);\n      }\n    });\n\n    onCleanup(() => observer.disconnect());\n  });\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection.tsx\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-state.ts\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-item.ts\n */\n\nimport { access, addItemToArray, MaybeAccessor } from \"@kobalte/utils\";\nimport { createComponent, FlowComponent } from \"solid-js\";\n\nimport { createControllableArraySignal } from \"../index\";\nimport { DomCollectionContext, DomCollectionContextValue } from \"./dom-collection-context\";\nimport { DomCollectionItem } from \"./types\";\nimport { createSortBasedOnDOMPosition, findDOMIndex } from \"./utils\";\n\nexport interface CreateDomCollectionProps<T extends DomCollectionItem = DomCollectionItem> {\n  /** The controlled items state of the collection. */\n  items?: MaybeAccessor<Array<T> | undefined>;\n\n  /** Event handler called when the items state of the collection changes. */\n  onItemsChange?: (items: Array<T>) => void;\n}\n\nexport function createDomCollection<T extends DomCollectionItem = DomCollectionItem>(\n  props: CreateDomCollectionProps<T> = {}\n) {\n  const [items, setItems] = createControllableArraySignal({\n    value: () => access(props.items),\n    onChange: value => props.onItemsChange?.(value),\n  });\n\n  createSortBasedOnDOMPosition(items, setItems);\n\n  const registerItem = (item: T) => {\n    setItems(prevItems => {\n      // Finds the item group based on the DOM hierarchy\n      const index = findDOMIndex(prevItems, item);\n      return addItemToArray(prevItems, item, index);\n    });\n\n    return () => {\n      setItems(prevItems => {\n        const nextItems = prevItems.filter(prevItem => prevItem.ref() !== item.ref());\n\n        if (prevItems.length === nextItems.length) {\n          // The item isn't registered, so do nothing\n          return prevItems;\n        }\n\n        return nextItems;\n      });\n    };\n  };\n\n  const DomCollectionProvider: FlowComponent = props => {\n    return createComponent(DomCollectionContext.Provider, {\n      value: { registerItem } as DomCollectionContextValue,\n      get children() {\n        return props.children;\n      },\n    });\n  };\n\n  return { DomCollectionProvider };\n}\n","import { MaybeAccessor, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\n\nimport { useDomCollectionContext } from \"./dom-collection-context\";\nimport { DomCollectionItem } from \"./types\";\n\nexport interface CreateDomCollectionItemProps<T extends DomCollectionItem = DomCollectionItem> {\n  /** A function to map a data source item to a dom collection item. */\n  getItem: () => T;\n\n  /** Whether the item should be registered to the state. */\n  shouldRegisterItem?: MaybeAccessor<boolean | undefined>;\n}\n\nexport function createDomCollectionItem<T extends DomCollectionItem = DomCollectionItem>(\n  props: CreateDomCollectionItemProps<T>\n) {\n  const context = useDomCollectionContext<T>();\n\n  props = mergeDefaultProps({ shouldRegisterItem: true }, props);\n\n  createEffect(() => {\n    if (!props.shouldRegisterItem) {\n      return;\n    }\n\n    const unregister = context.registerItem(props.getItem());\n\n    onCleanup(unregister);\n  });\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/c183944ce6a8ca1cf280a1c7b88d2ba393dd0252/packages/@react-aria/accordion/src/useAccordion.ts\n */\n\nimport {\n  composeEventHandlers,\n  createGenerateId,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createSignal, createUniqueId, splitProps } from \"solid-js\";\n\nimport { createListState, createSelectableList } from \"../list\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { CollectionItemWithRef } from \"../primitives\";\nimport { createDomCollection } from \"../primitives/create-dom-collection\";\nimport { AccordionContext, AccordionContextValue } from \"./accordion-context\";\n\nexport interface AccordionRootOptions extends AsChildProp {\n  /** The controlled value of the accordion item(s) to expand. */\n  value?: string[];\n\n  /**\n   * The value of the accordion item(s) to expand when initially rendered.\n   * Useful when you do not need to control the state.\n   */\n  defaultValue?: string[];\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: string[]) => void;\n\n  /** Whether multiple items can be opened at the same time. */\n  multiple?: boolean;\n\n  /** When `multiple` is `false`, allows closing content when clicking trigger for an open item. */\n  collapsible?: boolean;\n\n  /** Whether focus should wrap around when the end/start is reached. */\n  shouldFocusWrap?: boolean;\n}\n\nexport interface AccordionRootProps extends OverrideComponentProps<\"div\", AccordionRootOptions> {}\n\n/**\n * A vertically stacked set of interactive headings that each reveal an associated section of content.\n */\nexport function AccordionRoot(props: AccordionRootProps) {\n  let ref: HTMLDivElement | undefined;\n\n  const defaultId = `accordion-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      multiple: false,\n      collapsible: false,\n      shouldFocusWrap: true,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"value\",\n    \"defaultValue\",\n    \"onChange\",\n    \"multiple\",\n    \"collapsible\",\n    \"shouldFocusWrap\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocusIn\",\n    \"onFocusOut\",\n  ]);\n\n  const [items, setItems] = createSignal<CollectionItemWithRef[]>([]);\n\n  const { DomCollectionProvider } = createDomCollection({ items, onItemsChange: setItems });\n\n  const listState = createListState({\n    selectedKeys: () => local.value,\n    defaultSelectedKeys: () => local.defaultValue,\n    onSelectionChange: value => local.onChange?.(Array.from(value)),\n    disallowEmptySelection: () => !local.multiple && !local.collapsible,\n    selectionMode: () => (local.multiple ? \"multiple\" : \"single\"),\n    dataSource: items,\n  });\n\n  const selectableList = createSelectableList(\n    {\n      selectionManager: () => listState.selectionManager(),\n      collection: () => listState.collection(),\n      disallowEmptySelection: () => listState.selectionManager().disallowEmptySelection(),\n      shouldFocusWrap: () => local.shouldFocusWrap,\n      disallowTypeAhead: true,\n      allowsTabNavigation: true,\n    },\n    () => ref\n  );\n\n  const context: AccordionContextValue = {\n    listState: () => listState,\n    generateId: createGenerateId(() => others.id!),\n  };\n\n  return (\n    <DomCollectionProvider>\n      <AccordionContext.Provider value={context}>\n        <Polymorphic\n          as=\"div\"\n          ref={mergeRefs(el => (ref = el), local.ref)}\n          onKeyDown={composeEventHandlers([local.onKeyDown, selectableList.onKeyDown])}\n          onMouseDown={composeEventHandlers([local.onMouseDown, selectableList.onMouseDown])}\n          onFocusIn={composeEventHandlers([local.onFocusIn, selectableList.onFocusIn])}\n          onFocusOut={composeEventHandlers([local.onFocusOut, selectableList.onFocusOut])}\n          {...others}\n        />\n      </AccordionContext.Provider>\n    </DomCollectionProvider>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/c183944ce6a8ca1cf280a1c7b88d2ba393dd0252/packages/@react-aria/accordion/src/useAccordion.ts\n */\n\nimport {\n  callHandler,\n  composeEventHandlers,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createEffect, JSX, onCleanup, splitProps } from \"solid-js\";\n\nimport * as Collapsible from \"../collapsible\";\nimport { useCollapsibleContext } from \"../collapsible/collapsible-context\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { CollectionItemWithRef } from \"../primitives\";\nimport { createDomCollectionItem } from \"../primitives/create-dom-collection\";\nimport { createSelectableItem } from \"../selection\";\nimport { useAccordionContext } from \"./accordion-context\";\nimport { useAccordionItemContext } from \"./accordion-item-context\";\n\nexport interface AccordionTriggerProps extends OverrideComponentProps<\"button\", AsChildProp> {}\n\n/**\n * Toggles the collapsed state of its associated item. It should be nested inside an `Accordion.Header`.\n */\nexport function AccordionTrigger(props: AccordionTriggerProps) {\n  let ref: HTMLElement | undefined;\n\n  const accordionContext = useAccordionContext();\n  const itemContext = useAccordionItemContext();\n  const collapsibleContext = useCollapsibleContext();\n\n  const defaultId = itemContext.generateId(\"trigger\");\n\n  props = mergeDefaultProps({ id: defaultId }, props);\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"onPointerDown\",\n    \"onPointerUp\",\n    \"onClick\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocus\",\n  ]);\n\n  createDomCollectionItem<CollectionItemWithRef>({\n    getItem: () => ({\n      ref: () => ref,\n      type: \"item\",\n      key: itemContext.value(),\n      textValue: \"\", // not applicable here\n      disabled: collapsibleContext.disabled(),\n    }),\n  });\n\n  const selectableItem = createSelectableItem(\n    {\n      key: () => itemContext.value(),\n      selectionManager: () => accordionContext.listState().selectionManager(),\n      disabled: () => collapsibleContext.disabled(),\n      shouldSelectOnPressUp: true,\n    },\n    () => ref\n  );\n\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    // Prevent `Enter` and `Space` default behavior which fires a click event when using a <button>.\n    if ([\"Enter\", \" \"].includes(e.key)) {\n      e.preventDefault();\n    }\n\n    callHandler(e, local.onKeyDown);\n    callHandler(e, selectableItem.onKeyDown);\n  };\n\n  createEffect(() => onCleanup(itemContext.registerTriggerId(others.id!)));\n\n  return (\n    <Collapsible.Trigger\n      ref={mergeRefs(el => (ref = el), local.ref)}\n      data-key={selectableItem.dataKey()}\n      onPointerDown={composeEventHandlers([local.onPointerDown, selectableItem.onPointerDown])}\n      onPointerUp={composeEventHandlers([local.onPointerUp, selectableItem.onPointerUp])}\n      onClick={composeEventHandlers([local.onClick, selectableItem.onClick])}\n      onKeyDown={onKeyDown}\n      onMouseDown={composeEventHandlers([local.onMouseDown, selectableItem.onMouseDown])}\n      onFocus={composeEventHandlers([local.onFocus, selectableItem.onFocus])}\n      {...others}\n    />\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\n\nexport interface AlertRootProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * Alert displays a brief, important message\n * in a way that attracts the user's attention without interrupting the user's task.\n */\nexport function AlertRoot(props: AlertRootProps) {\n  return <Polymorphic as=\"div\" role=\"alert\" {...props} />;\n}\n","import { Accessor, createContext, Setter, useContext } from \"solid-js\";\n\nimport { CreatePresenceResult } from \"../primitives\";\n\nexport interface DialogContextValue {\n  isOpen: Accessor<boolean>;\n  modal: Accessor<boolean>;\n  preventScroll: Accessor<boolean>;\n  contentId: Accessor<string | undefined>;\n  titleId: Accessor<string | undefined>;\n  descriptionId: Accessor<string | undefined>;\n  triggerRef: Accessor<HTMLElement | undefined>;\n  overlayPresence: CreatePresenceResult;\n  contentPresence: CreatePresenceResult;\n  close: () => void;\n  toggle: () => void;\n  setTriggerRef: Setter<HTMLElement>;\n  generateId: (part: string) => string;\n  registerContentId: (id: string) => () => void;\n  registerTitleId: (id: string) => () => void;\n  registerDescriptionId: (id: string) => () => void;\n}\n\nexport const DialogContext = createContext<DialogContextValue>();\n\nexport function useDialogContext() {\n  const context = useContext(DialogContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useDialogContext` must be used within a `Dialog` component\");\n  }\n\n  return context;\n}\n","import { callHandler, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { COMMON_INTL_MESSAGES, createMessageFormatter } from \"../i18n\";\nimport { useDialogContext } from \"./dialog-context\";\n\nexport interface DialogCloseButtonProps\n  extends OverrideComponentProps<\"button\", Button.ButtonRootOptions> {}\n\n/**\n * The button that closes the dialog.\n */\nexport function DialogCloseButton(props: DialogCloseButtonProps) {\n  const context = useDialogContext();\n\n  const [local, others] = splitProps(props, [\"aria-label\", \"onClick\"]);\n\n  const messageFormatter = createMessageFormatter(() => COMMON_INTL_MESSAGES);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n    context.close();\n  };\n\n  return (\n    <Button.Root\n      aria-label={local[\"aria-label\"] || messageFormatter().format(\"dismiss\")}\n      onClick={onClick}\n      {...others}\n    />\n  );\n}\n","import { createContext, useContext } from \"solid-js\";\n\nexport interface DismissableLayerContextValue {\n  registerNestedLayer: (element: Element) => () => void;\n}\n\nexport const DismissableLayerContext = createContext<DismissableLayerContextValue>();\n\nexport function useOptionalDismissableLayerContext() {\n  return useContext(DismissableLayerContext);\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dismissable-layer/src/DismissableLayer.tsx\n *\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/dismissable/src/dismissable-layer.ts\n */\n\nimport { contains, getDocument, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Accessor, createEffect, on, onCleanup, onMount, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport {\n  createEscapeKeyDown,\n  createInteractOutside,\n  FocusOutsideEvent,\n  InteractOutsideEvent,\n  PointerDownOutsideEvent,\n} from \"../primitives\";\nimport {\n  DismissableLayerContext,\n  DismissableLayerContextValue,\n  useOptionalDismissableLayerContext,\n} from \"./dismissable-layer-context\";\nimport { layerStack } from \"./layer-stack\";\n\nexport interface DismissableLayerOptions extends AsChildProp {\n  /**\n   * When `true`, hover/focus/click interactions will be disabled on elements outside\n   * the layer. Users will need to click twice on outside elements to\n   * interact with them: once to close the layer, and again to trigger the element.\n   */\n  disableOutsidePointerEvents?: boolean;\n\n  /** A list of elements that should not dismiss the layer when interacted with. */\n  excludedElements?: Array<Accessor<HTMLElement | undefined>>;\n\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n\n  /**\n   * Event handler called when a `pointerdown` event happens outside the layer.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n\n  /**\n   * Event handler called when the focus moves outside the layer.\n   * Can be prevented.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n\n  /**\n   * Event handler called when an interaction happens outside the layer.\n   * Specifically, when a `pointerdown` event happens outside or focus moves outside of it.\n   * Can be prevented.\n   */\n  onInteractOutside?: (event: InteractOutsideEvent) => void;\n\n  /** Handler called when the layer should be dismissed. */\n  onDismiss?: () => void;\n\n  /** Whether to ignore the \"top most layer\" check on interact outside. */\n  bypassTopMostLayerCheck?: boolean;\n}\n\nexport interface DismissableLayerProps\n  extends OverrideComponentProps<\"div\", DismissableLayerOptions> {}\n\nexport function DismissableLayer(props: DismissableLayerProps) {\n  let ref: HTMLElement | undefined;\n\n  const parentContext = useOptionalDismissableLayerContext();\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"disableOutsidePointerEvents\",\n    \"excludedElements\",\n    \"onEscapeKeyDown\",\n    \"onPointerDownOutside\",\n    \"onFocusOutside\",\n    \"onInteractOutside\",\n    \"onDismiss\",\n    \"bypassTopMostLayerCheck\",\n  ]);\n\n  const nestedLayers = new Set<Element>([]);\n\n  const registerNestedLayer = (element: Element) => {\n    nestedLayers.add(element);\n\n    const parentUnregister = parentContext?.registerNestedLayer(element);\n\n    return () => {\n      nestedLayers.delete(element);\n      parentUnregister?.();\n    };\n  };\n\n  const shouldExcludeElement = (element: Element) => {\n    if (!ref) {\n      return false;\n    }\n\n    return (\n      local.excludedElements?.some(node => contains(node(), element)) ||\n      [...nestedLayers].some(layer => contains(layer, element))\n    );\n  };\n\n  const onPointerDownOutside = (e: PointerDownOutsideEvent) => {\n    if (!ref || layerStack.isBelowPointerBlockingLayer(ref)) {\n      return;\n    }\n\n    if (!local.bypassTopMostLayerCheck && !layerStack.isTopMostLayer(ref)) {\n      return;\n    }\n\n    local.onPointerDownOutside?.(e);\n    local.onInteractOutside?.(e);\n\n    if (!e.defaultPrevented) {\n      local.onDismiss?.();\n    }\n  };\n\n  const onFocusOutside = (e: FocusOutsideEvent) => {\n    local.onFocusOutside?.(e);\n    local.onInteractOutside?.(e);\n\n    if (!e.defaultPrevented) {\n      local.onDismiss?.();\n    }\n  };\n\n  createInteractOutside(\n    {\n      shouldExcludeElement,\n      onPointerDownOutside,\n      onFocusOutside,\n    },\n    () => ref\n  );\n\n  createEscapeKeyDown({\n    ownerDocument: () => getDocument(ref),\n    onEscapeKeyDown: e => {\n      if (!ref || !layerStack.isTopMostLayer(ref)) {\n        return;\n      }\n\n      local.onEscapeKeyDown?.(e);\n\n      if (!e.defaultPrevented && local.onDismiss) {\n        e.preventDefault();\n        local.onDismiss();\n      }\n    },\n  });\n\n  onMount(() => {\n    if (!ref) {\n      return;\n    }\n\n    layerStack.addLayer({\n      node: ref,\n      isPointerBlocking: local.disableOutsidePointerEvents,\n      dismiss: local.onDismiss,\n    });\n\n    const unregisterFromParentLayer = parentContext?.registerNestedLayer(ref);\n\n    layerStack.assignPointerEventToLayers();\n\n    layerStack.disableBodyPointerEvents(ref);\n\n    onCleanup(() => {\n      if (!ref) {\n        return;\n      }\n\n      layerStack.removeLayer(ref);\n\n      unregisterFromParentLayer?.();\n\n      // Re-assign pointer event to remaining layers.\n      layerStack.assignPointerEventToLayers();\n\n      layerStack.restoreBodyPointerEvents(ref);\n    });\n  });\n\n  createEffect(\n    on(\n      [() => ref, () => local.disableOutsidePointerEvents],\n      ([ref, disableOutsidePointerEvents]) => {\n        if (!ref) {\n          return;\n        }\n\n        const layer = layerStack.find(ref);\n\n        if (layer && layer.isPointerBlocking !== disableOutsidePointerEvents) {\n          // Keep layer in sync with the prop.\n          layer.isPointerBlocking = disableOutsidePointerEvents;\n\n          // Update layers pointer-events since this layer \"isPointerBlocking\" has changed.\n          layerStack.assignPointerEventToLayers();\n        }\n\n        if (disableOutsidePointerEvents) {\n          layerStack.disableBodyPointerEvents(ref);\n        }\n\n        onCleanup(() => {\n          layerStack.restoreBodyPointerEvents(ref);\n        });\n      },\n      {\n        defer: true,\n      }\n    )\n  );\n\n  const context: DismissableLayerContextValue = {\n    registerNestedLayer,\n  };\n\n  return (\n    <DismissableLayerContext.Provider value={context}>\n      <Polymorphic as=\"div\" ref={mergeRefs(el => (ref = el), local.ref)} {...others} />\n    </DismissableLayerContext.Provider>\n  );\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dialog/src/Dialog.tsx\n */\n\nimport {\n  contains,\n  focusWithoutScrolling,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createEffect, onCleanup, Show, splitProps } from \"solid-js\";\n\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { AsChildProp } from \"../polymorphic\";\nimport {\n  createFocusScope,\n  createHideOutside,\n  createPreventScroll,\n  FocusOutsideEvent,\n  InteractOutsideEvent,\n  PointerDownOutsideEvent,\n} from \"../primitives\";\nimport { useDialogContext } from \"./dialog-context\";\n\nexport interface DialogContentOptions extends AsChildProp {\n  /**\n   * Event handler called when focus moves into the component after opening.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onOpenAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when focus moves to the trigger after closing.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onCloseAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when the escape key is down.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n\n  /**\n   * Event handler called when a pointer event occurs outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n\n  /**\n   * Event handler called when the focus moves outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n\n  /**\n   * Event handler called when an interaction (pointer or focus event) happens outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onInteractOutside?: (event: InteractOutsideEvent) => void;\n}\n\nexport interface DialogContentProps extends OverrideComponentProps<\"div\", DialogContentOptions> {}\n\n/**\n * Contains the content to be rendered when the dialog is open.\n */\nexport function DialogContent(props: DialogContentProps) {\n  let ref: HTMLElement | undefined;\n\n  const context = useDialogContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"content\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"onOpenAutoFocus\",\n    \"onCloseAutoFocus\",\n    \"onPointerDownOutside\",\n    \"onFocusOutside\",\n    \"onInteractOutside\",\n  ]);\n\n  let hasInteractedOutside = false;\n  let hasPointerDownOutside = false;\n\n  const onPointerDownOutside = (e: PointerDownOutsideEvent) => {\n    local.onPointerDownOutside?.(e);\n\n    // If the event is a right-click, we shouldn't close because\n    // it is effectively as if we right-clicked the `Overlay`.\n    if (context.modal() && e.detail.isContextMenu) {\n      e.preventDefault();\n    }\n  };\n\n  const onFocusOutside = (e: FocusOutsideEvent) => {\n    local.onFocusOutside?.(e);\n\n    // When focus is trapped, a `focusout` event may still happen.\n    // We make sure we don't trigger our `onDismiss` in such case.\n    if (context.modal()) {\n      e.preventDefault();\n    }\n  };\n\n  const onInteractOutside = (e: InteractOutsideEvent) => {\n    local.onInteractOutside?.(e);\n\n    if (context.modal()) {\n      return;\n    }\n\n    // Non-modal behavior below\n\n    if (!e.defaultPrevented) {\n      hasInteractedOutside = true;\n\n      if (e.detail.originalEvent.type === \"pointerdown\") {\n        hasPointerDownOutside = true;\n      }\n    }\n\n    // Prevent dismissing when clicking the trigger.\n    // As the trigger is already setup to close, without doing so would\n    // cause it to close and immediately open.\n    if (contains(context.triggerRef(), e.target as HTMLElement)) {\n      e.preventDefault();\n    }\n\n    // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n    // we will get the pointer down outside event on the trigger, but then a subsequent\n    // focus outside event on the container, we ignore any focus outside event when we've\n    // already had a pointer down outside event.\n    if (e.detail.originalEvent.type === \"focusin\" && hasPointerDownOutside) {\n      e.preventDefault();\n    }\n  };\n\n  const onCloseAutoFocus = (e: Event) => {\n    local.onCloseAutoFocus?.(e);\n\n    if (context.modal()) {\n      e.preventDefault();\n      focusWithoutScrolling(context.triggerRef());\n    } else {\n      if (!e.defaultPrevented) {\n        if (!hasInteractedOutside) {\n          focusWithoutScrolling(context.triggerRef());\n        }\n\n        // Always prevent autofocus because we either focus manually or want user agent focus\n        e.preventDefault();\n      }\n\n      hasInteractedOutside = false;\n      hasPointerDownOutside = false;\n    }\n  };\n\n  // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n  createHideOutside({\n    isDisabled: () => !(context.isOpen() && context.modal()),\n    targets: () => (ref ? [ref] : []),\n  });\n\n  createPreventScroll({\n    ownerRef: () => ref,\n    isDisabled: () => !(context.isOpen() && (context.modal() || context.preventScroll())),\n  });\n\n  createFocusScope(\n    {\n      trapFocus: () => context.isOpen() && context.modal(),\n      onMountAutoFocus: local.onOpenAutoFocus,\n      onUnmountAutoFocus: onCloseAutoFocus,\n    },\n    () => ref\n  );\n\n  createEffect(() => onCleanup(context.registerContentId(others.id!)));\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <DismissableLayer\n        ref={mergeRefs(el => {\n          context.contentPresence.setRef(el);\n          ref = el;\n        }, local.ref)}\n        role=\"dialog\"\n        tabIndex={-1}\n        disableOutsidePointerEvents={context.modal() && context.isOpen()}\n        excludedElements={[context.triggerRef]}\n        aria-labelledby={context.titleId()}\n        aria-describedby={context.descriptionId()}\n        data-expanded={context.isOpen() ? \"\" : undefined}\n        data-closed={!context.isOpen() ? \"\" : undefined}\n        onPointerDownOutside={onPointerDownOutside}\n        onFocusOutside={onFocusOutside}\n        onInteractOutside={onInteractOutside}\n        onDismiss={context.close}\n        {...others}\n      />\n    </Show>\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useDialogContext } from \"./dialog-context\";\n\nexport interface DialogDescriptionProps extends OverrideComponentProps<\"p\", AsChildProp> {}\n\n/**\n * An optional accessible description to be announced when the dialog is open.\n */\nexport function DialogDescription(props: DialogDescriptionProps) {\n  const context = useDialogContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"description\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerDescriptionId(local.id!)));\n\n  return <Polymorphic as=\"p\" id={local.id} {...others} />;\n}\n","import { callHandler, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, Show, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useDialogContext } from \"./dialog-context\";\n\nexport interface DialogOverlayOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface DialogOverlayProps extends OverrideComponentProps<\"div\", DialogOverlayOptions> {}\n\n/**\n * A layer that covers the inert portion of the view when the dialog is open.\n */\nexport function DialogOverlay(props: DialogOverlayProps) {\n  const context = useDialogContext();\n\n  const [local, others] = splitProps(props, [\"ref\", \"style\", \"onPointerDown\"]);\n\n  const onPointerDown: JSX.EventHandlerUnion<HTMLDivElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    // fixes a firefox issue that starts text selection https://bugzilla.mozilla.org/show_bug.cgi?id=1675846\n    if (e.target === e.currentTarget) {\n      e.preventDefault();\n    }\n  };\n\n  return (\n    <Show when={context.overlayPresence.isPresent()}>\n      <Polymorphic\n        as=\"div\"\n        ref={mergeRefs(context.overlayPresence.setRef, local.ref)}\n        // We re-enable pointer-events prevented by `Dialog.Content` to allow scrolling.\n        style={{ \"pointer-events\": \"auto\", ...local.style }}\n        data-expanded={context.isOpen() ? \"\" : undefined}\n        data-closed={!context.isOpen() ? \"\" : undefined}\n        onPointerDown={onPointerDown}\n        {...others}\n      />\n    </Show>\n  );\n}\n","import { ComponentProps, Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport { useDialogContext } from \"./dialog-context\";\n\nexport interface DialogPortalProps extends ComponentProps<typeof Portal> {}\n\n/**\n * Portals its children into the `body` when the dialog is open.\n */\nexport function DialogPortal(props: DialogPortalProps) {\n  const context = useDialogContext();\n\n  return (\n    <Show when={context.contentPresence.isPresent() || context.overlayPresence.isPresent()}>\n      <Portal {...props} />\n    </Show>\n  );\n}\n","import { createGenerateId, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createSignal, createUniqueId, ParentProps } from \"solid-js\";\n\nimport { createDisclosureState, createPresence, createRegisterId } from \"../primitives\";\nimport { DialogContext, DialogContextValue } from \"./dialog-context\";\n\nexport interface DialogRootOptions {\n  /** The controlled open state of the dialog. */\n  open?: boolean;\n\n  /**\n   * The default open state when initially rendered.\n   * Useful when you do not need to control the open state.\n   */\n  defaultOpen?: boolean;\n\n  /** Event handler called when the open state of the dialog changes. */\n  onOpenChange?: (isOpen: boolean) => void;\n\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n\n  /**\n   * Whether the dialog should be the only visible content for screen readers.\n   * When set to `true`:\n   * - interaction with outside elements will be disabled.\n   * - scroll will be locked.\n   * - focus will be locked inside the dialog content.\n   * - elements outside the dialog content will not be visible for screen readers.\n   */\n  modal?: boolean;\n\n  /** Whether the scroll should be locked even if the dialog is not modal. */\n  preventScroll?: boolean;\n\n  /**\n   * Used to force mounting the dialog (portal, overlay and content) when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface DialogRootProps extends ParentProps<DialogRootOptions> {}\n\n/**\n * A dialog is a window overlaid on either the primary window or another dialog window.\n */\nexport function DialogRoot(props: DialogRootProps) {\n  const defaultId = `dialog-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      modal: true,\n      preventScroll: false,\n    },\n    props\n  );\n\n  const [contentId, setContentId] = createSignal<string>();\n  const [titleId, setTitleId] = createSignal<string>();\n  const [descriptionId, setDescriptionId] = createSignal<string>();\n\n  const [triggerRef, setTriggerRef] = createSignal<HTMLElement>();\n\n  const disclosureState = createDisclosureState({\n    open: () => props.open,\n    defaultOpen: () => props.defaultOpen,\n    onOpenChange: isOpen => props.onOpenChange?.(isOpen),\n  });\n\n  const shouldMount = () => props.forceMount || disclosureState.isOpen();\n\n  const overlayPresence = createPresence(shouldMount);\n  const contentPresence = createPresence(shouldMount);\n\n  const context: DialogContextValue = {\n    isOpen: disclosureState.isOpen,\n    modal: () => props.modal ?? true,\n    preventScroll: () => props.preventScroll ?? false,\n    contentId,\n    titleId,\n    descriptionId,\n    triggerRef,\n    overlayPresence,\n    contentPresence,\n    close: disclosureState.close,\n    toggle: disclosureState.toggle,\n    setTriggerRef,\n    generateId: createGenerateId(() => props.id!),\n    registerContentId: createRegisterId(setContentId),\n    registerTitleId: createRegisterId(setTitleId),\n    registerDescriptionId: createRegisterId(setDescriptionId),\n  };\n\n  return <DialogContext.Provider value={context}>{props.children}</DialogContext.Provider>;\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useDialogContext } from \"./dialog-context\";\n\nexport interface DialogTitleProps extends OverrideComponentProps<\"h2\", AsChildProp> {}\n\n/**\n * An accessible title to be announced when the dialog is open.\n */\nexport function DialogTitle(props: DialogTitleProps) {\n  const context = useDialogContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"title\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerTitleId(local.id!)));\n\n  return <Polymorphic as=\"h2\" id={local.id} {...others} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/810579b671791f1593108f62cdc1893de3a220e3/packages/@react-aria/overlays/src/useOverlayTrigger.ts\n */\n\nimport { callHandler, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { useDialogContext } from \"./dialog-context\";\n\nexport interface DialogTriggerProps\n  extends OverrideComponentProps<\"button\", Button.ButtonRootOptions> {}\n\n/**\n * The button that opens the dialog.\n */\nexport function DialogTrigger(props: DialogTriggerProps) {\n  const context = useDialogContext();\n\n  const [local, others] = splitProps(props, [\"ref\", \"onClick\"]);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n    context.toggle();\n  };\n\n  return (\n    <Button.Root\n      ref={mergeRefs(context.setTriggerRef, local.ref)}\n      aria-haspopup=\"dialog\"\n      aria-expanded={context.isOpen()}\n      aria-controls={context.isOpen() ? context.contentId() : undefined}\n      data-expanded={context.isOpen() ? \"\" : undefined}\n      data-closed={!context.isOpen() ? \"\" : undefined}\n      onClick={onClick}\n      {...others}\n    />\n  );\n}\n","import { DialogContentProps } from \"../dialog\";\nimport { DialogContent } from \"../dialog/dialog-content\";\n\nexport interface AlertDialogContentProps extends DialogContentProps {}\n\n/**\n * Overrides the regular `Dialog.Content` with role=\"alertdialog\" to interrupt the user.\n */\nexport function AlertDialogContent(props: AlertDialogContentProps) {\n  return <DialogContent role=\"alertdialog\" {...props} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/link/src/useLink.ts\n */\n\nimport { mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createTagName } from \"../primitives\";\n\nexport interface LinkRootOptions extends AsChildProp {\n  /** Whether the link is disabled. */\n  disabled?: boolean;\n}\n\nexport interface LinkRootProps extends OverrideComponentProps<\"a\", LinkRootOptions> {}\n\n/**\n * Link allows a user to navigate to another page or resource within a web page or application.\n */\nexport function LinkRoot(props: LinkRootProps) {\n  let ref: HTMLAnchorElement | undefined;\n\n  const [local, others] = splitProps(props, [\"ref\", \"type\", \"href\", \"disabled\"]);\n\n  const tagName = createTagName(\n    () => ref,\n    () => \"a\"\n  );\n\n  return (\n    <Polymorphic\n      as=\"a\"\n      ref={mergeRefs(el => (ref = el), local.ref)}\n      role={tagName() !== \"a\" || local.disabled ? \"link\" : undefined}\n      tabIndex={tagName() !== \"a\" && !local.disabled ? 0 : undefined}\n      href={!local.disabled ? local.href : undefined}\n      aria-disabled={local.disabled ? true : undefined}\n      data-disabled={local.disabled ? \"\" : undefined}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/38a57d3360268fb0cb55c6b42b9a5f6f13bb57d6/packages/@react-aria/breadcrumbs/src/useBreadcrumbItem.ts\n */\n\nimport { OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport * as Link from \"../link\";\n\nexport interface BreadcrumbsLinkOptions extends Link.LinkRootOptions {\n  /** Whether the breadcrumb link represents the current page. */\n  current?: boolean;\n\n  /** Whether the breadcrumb link is disabled. */\n  disabled?: boolean;\n}\n\nexport interface BreadcrumbsLinkProps extends OverrideComponentProps<\"a\", BreadcrumbsLinkOptions> {}\n\n/**\n * The breadcrumbs link.\n */\nexport function BreadcrumbsLink(props: BreadcrumbsLinkProps) {\n  const [local, others] = splitProps(props, [\"current\", \"disabled\", \"aria-current\"]);\n\n  const ariaCurrent = () => {\n    if (!local.current) {\n      return undefined;\n    }\n\n    return local[\"aria-current\"] || \"page\";\n  };\n\n  return (\n    <Link.Root\n      disabled={local.disabled || local.current}\n      aria-current={ariaCurrent()}\n      data-current={local.current ? \"\" : undefined}\n      {...others}\n    />\n  );\n}\n","export const BREADCRUMBS_INTL_MESSAGES = {\n  \"ar-AE\": { breadcrumbs: \" \" },\n  \"bg-BG\": { breadcrumbs: \" \" },\n  \"cs-CZ\": { breadcrumbs: \"Popis cesty\" },\n  \"da-DK\": { breadcrumbs: \"Brdkrummer\" },\n  \"de-DE\": { breadcrumbs: \"Breadcrumbs\" },\n  \"el-GR\": { breadcrumbs: \" breadcrumb\" },\n  \"en-US\": { breadcrumbs: \"Breadcrumbs\" },\n  \"es-ES\": { breadcrumbs: \"Migas de pan\" },\n  \"et-EE\": { breadcrumbs: \"Lingiread\" },\n  \"fi-FI\": { breadcrumbs: \"Navigointilinkit\" },\n  \"fr-FR\": { breadcrumbs: \"Chemin de navigation\" },\n  \"he-IL\": { breadcrumbs: \" \" },\n  \"hr-HR\": { breadcrumbs: \"Navigacijski putovi\" },\n  \"hu-HU\": { breadcrumbs: \"Morzsamen\" },\n  \"it-IT\": { breadcrumbs: \"Breadcrumb\" },\n  \"ja-JP\": { breadcrumbs: \"\" },\n  \"ko-KR\": { breadcrumbs: \" \" },\n  \"lt-LT\": { breadcrumbs: \"Narymo kelias\" },\n  \"lv-LV\": { breadcrumbs: \"Atpakacei\" },\n  \"nb-NO\": { breadcrumbs: \"Navigasjonsstier\" },\n  \"nl-NL\": { breadcrumbs: \"Broodkruimels\" },\n  \"pl-PL\": { breadcrumbs: \"Struktura nawigacyjna\" },\n  \"pt-BR\": { breadcrumbs: \"Caminho detalhado\" },\n  \"pt-PT\": { breadcrumbs: \"Categorias\" },\n  \"ro-RO\": { breadcrumbs: \"Miez de pine\" },\n  \"ru-RU\": { breadcrumbs: \"\" },\n  \"sk-SK\": { breadcrumbs: \"Navigan prvky Breadcrumbs\" },\n  \"sl-SI\": { breadcrumbs: \"Drobtine\" },\n  \"sr-SP\": { breadcrumbs: \"Putanje navigacije\" },\n  \"sv-SE\": { breadcrumbs: \"Skvgar\" },\n  \"tr-TR\": { breadcrumbs: \"erik haritalar\" },\n  \"uk-UA\": { breadcrumbs: \" \" },\n  \"zh-CN\": { breadcrumbs: \"\" },\n  \"zh-TW\": { breadcrumbs: \"\" },\n};\n","import { createContext, JSX, useContext } from \"solid-js\";\n\nexport interface BreadcrumbsContextValue {\n  separator: () => string | JSX.Element;\n}\n\nexport const BreadcrumbsContext = createContext<BreadcrumbsContextValue>();\n\nexport function useBreadcrumbsContext() {\n  const context = useContext(BreadcrumbsContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useBreadcrumbsContext` must be used within a `Breadcrumbs.Root` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/38a57d3360268fb0cb55c6b42b9a5f6f13bb57d6/packages/@react-aria/breadcrumbs/src/useBreadcrumbs.ts\n */\n\nimport { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport { createMessageFormatter } from \"../i18n\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { BREADCRUMBS_INTL_MESSAGES } from \"./breadcrumbs.intl\";\nimport { BreadcrumbsContext, BreadcrumbsContextValue } from \"./breadcrumbs-context\";\n\nexport interface BreadcrumbsRootOptions extends AsChildProp {\n  /**\n   * The visual separator between each breadcrumb item.\n   * It will be used as the default children of `Breadcrumbs.Separator`.\n   */\n  separator?: string | JSX.Element;\n}\n\nexport interface BreadcrumbsRootProps\n  extends OverrideComponentProps<\"nav\", BreadcrumbsRootOptions> {}\n\n/**\n * Breadcrumbs show hierarchy and navigational context for a users location within an application.\n */\nexport function BreadcrumbsRoot(props: BreadcrumbsRootProps) {\n  props = mergeDefaultProps({ separator: \"/\" }, props);\n\n  const [local, others] = splitProps(props, [\"separator\"]);\n\n  const messageFormatter = createMessageFormatter(() => BREADCRUMBS_INTL_MESSAGES);\n\n  const context: BreadcrumbsContextValue = {\n    separator: () => local.separator,\n  };\n\n  return (\n    <BreadcrumbsContext.Provider value={context}>\n      <Polymorphic as=\"nav\" aria-label={messageFormatter().format(\"breadcrumbs\")} {...others} />\n    </BreadcrumbsContext.Provider>\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useBreadcrumbsContext } from \"./breadcrumbs-context\";\n\nexport interface BreadcrumbsSeparatorProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * The visual separator between each breadcrumb items.\n * It will not be visible by screen readers.\n */\nexport function BreadcrumbsSeparator(props: BreadcrumbsSeparatorProps) {\n  const context = useBreadcrumbsContext();\n\n  return <Polymorphic as=\"span\" children={context.separator()} aria-hidden=\"true\" {...props} />;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface CheckboxDataSet {\n  \"data-checked\": string | undefined;\n  \"data-indeterminate\": string | undefined;\n}\n\nexport interface CheckboxContextValue {\n  value: Accessor<string>;\n  dataset: Accessor<CheckboxDataSet>;\n  checked: Accessor<boolean>;\n  indeterminate: Accessor<boolean>;\n  inputRef: Accessor<HTMLInputElement | undefined>;\n  generateId: (part: string) => string;\n  toggle: () => void;\n  setIsChecked: (isChecked: boolean) => void;\n  setIsFocused: (isFocused: boolean) => void;\n  setInputRef: (el: HTMLInputElement) => void;\n}\n\nexport const CheckboxContext = createContext<CheckboxContextValue>();\n\nexport function useCheckboxContext() {\n  const context = useContext(CheckboxContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component\");\n  }\n\n  return context;\n}\n","import { callHandler, EventKey, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useCheckboxContext } from \"./checkbox-context\";\n\nexport interface CheckboxControlProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The element that visually represents a checkbox.\n */\nexport function CheckboxControl(props: CheckboxControlProps) {\n  const formControlContext = useFormControlContext();\n  const context = useCheckboxContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"control\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"onClick\", \"onKeyDown\"]);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    context.toggle();\n    context.inputRef()?.focus();\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    if (e.key === EventKey.Space) {\n      context.toggle();\n      context.inputRef()?.focus();\n    }\n  };\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      onClick={onClick}\n      onKeyDown={onKeyDown}\n      {...formControlContext.dataset()}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { FormControlDescription, FormControlDescriptionProps } from \"../form-control\";\nimport { useCheckboxContext } from \"./checkbox-context\";\n\nexport interface CheckboxDescriptionProps extends FormControlDescriptionProps {}\n\n/**\n * The description that gives the user more information on the checkbox.\n */\nexport function CheckboxDescription(props: CheckboxDescriptionProps) {\n  const context = useCheckboxContext();\n\n  return <FormControlDescription {...context.dataset()} {...props} />;\n}\n","import { FormControlErrorMessage, FormControlErrorMessageProps } from \"../form-control\";\nimport { useCheckboxContext } from \"./checkbox-context\";\n\nexport interface CheckboxErrorMessageProps extends FormControlErrorMessageProps {}\n\n/**\n * The error message that gives the user information about how to fix a validation error on the checkbox.\n */\nexport function CheckboxErrorMessage(props: CheckboxErrorMessageProps) {\n  const context = useCheckboxContext();\n\n  return <FormControlErrorMessage {...context.dataset()} {...props} />;\n}\n","import { mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Show, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createPresence } from \"../primitives\";\nimport { useCheckboxContext } from \"./checkbox-context\";\n\nexport interface CheckboxIndicatorOptions extends AsChildProp {\n  /**\n   * Used to force mounting when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface CheckboxIndicatorProps\n  extends OverrideComponentProps<\"div\", CheckboxIndicatorOptions> {}\n\n/**\n * The visual indicator rendered when the checkbox is in a checked or indeterminate state.\n * You can style this element directly, or you can use it as a wrapper to put an icon into, or both.\n */\nexport function CheckboxIndicator(props: CheckboxIndicatorProps) {\n  const formControlContext = useFormControlContext();\n  const context = useCheckboxContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"indicator\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\", \"forceMount\"]);\n\n  const presence = createPresence(\n    () => local.forceMount || context.indeterminate() || context.checked()\n  );\n\n  return (\n    <Show when={presence.isPresent()}>\n      <Polymorphic\n        as=\"div\"\n        ref={mergeRefs(presence.setRef, local.ref)}\n        {...formControlContext.dataset()}\n        {...context.dataset()}\n        {...others}\n      />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-aria/radio/src/useCheckbox.ts\n * https://github.com/adobe/react-spectrum/blob/3155e4db7eba07cf06525747ce0adb54c1e2a086/packages/@react-aria/toggle/src/useToggle.ts\n */\n\nimport {\n  callHandler,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n  visuallyHiddenStyles,\n} from \"@kobalte/utils\";\nimport { createEffect, JSX, on, splitProps } from \"solid-js\";\n\nimport {\n  createFormControlField,\n  FORM_CONTROL_FIELD_PROP_NAMES,\n  useFormControlContext,\n} from \"../form-control\";\nimport { useCheckboxContext } from \"./checkbox-context\";\n\nexport interface CheckboxInputOptions {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface CheckboxInputProps extends OverrideComponentProps<\"input\", CheckboxInputOptions> {}\n\n/**\n * The native html input that is visually hidden in the checkbox.\n */\nexport function CheckboxInput(props: CheckboxInputProps) {\n  let ref: HTMLInputElement | undefined;\n\n  const formControlContext = useFormControlContext();\n  const context = useCheckboxContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"input\"),\n    },\n    props\n  );\n\n  const [local, formControlFieldProps, others] = splitProps(\n    props,\n    [\"ref\", \"style\", \"onChange\", \"onFocus\", \"onBlur\"],\n    FORM_CONTROL_FIELD_PROP_NAMES\n  );\n\n  const { fieldProps } = createFormControlField(formControlFieldProps);\n\n  const onChange: JSX.ChangeEventHandlerUnion<HTMLInputElement, Event> = e => {\n    callHandler(e, local.onChange);\n\n    e.stopPropagation();\n\n    const target = e.target as HTMLInputElement;\n\n    context.setIsChecked(target.checked);\n\n    // Unlike in React, inputs `checked` state can be out of sync with our toggle state.\n    // for example a readonly `<input type=\"checkbox\" />` is always \"checkable\".\n    //\n    // Also, even if an input is controlled (ex: `<input type=\"checkbox\" checked={isChecked} />`,\n    // clicking on the input will change its internal `checked` state.\n    //\n    // To prevent this, we need to force the input `checked` state to be in sync with the toggle state.\n    target.checked = context.checked();\n  };\n\n  const onFocus: JSX.FocusEventHandlerUnion<any, FocusEvent> = e => {\n    callHandler(e, local.onFocus);\n    context.setIsFocused(true);\n  };\n\n  const onBlur: JSX.FocusEventHandlerUnion<any, FocusEvent> = e => {\n    callHandler(e, local.onBlur);\n    context.setIsFocused(false);\n  };\n\n  // indeterminate is a property, but it can only be set via javascript\n  // https://css-tricks.com/indeterminate-checkboxes/\n  // Unlike in React, inputs `indeterminate` state can be out of sync with our.\n  // Clicking on the input will change its internal `indeterminate` state.\n  // To prevent this, we need to force the input `indeterminate` state to be in sync with our.\n  createEffect(\n    on(\n      [() => ref, () => context.indeterminate(), () => context.checked()],\n      ([ref, indeterminate]) => {\n        if (ref) {\n          ref.indeterminate = !!indeterminate;\n        }\n      }\n    )\n  );\n\n  return (\n    <input\n      ref={mergeRefs(el => {\n        context.setInputRef(el);\n        ref = el;\n      }, local.ref)}\n      type=\"checkbox\"\n      id={fieldProps.id()}\n      name={formControlContext.name()}\n      value={context.value()}\n      checked={context.checked()}\n      required={formControlContext.isRequired()}\n      disabled={formControlContext.isDisabled()}\n      readonly={formControlContext.isReadOnly()}\n      style={{ ...visuallyHiddenStyles, ...local.style }}\n      aria-label={fieldProps.ariaLabel()}\n      aria-labelledby={fieldProps.ariaLabelledBy()}\n      aria-describedby={fieldProps.ariaDescribedBy()}\n      aria-invalid={formControlContext.validationState() === \"invalid\" || undefined}\n      aria-required={formControlContext.isRequired() || undefined}\n      aria-disabled={formControlContext.isDisabled() || undefined}\n      aria-readonly={formControlContext.isReadOnly() || undefined}\n      onChange={onChange}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      {...formControlContext.dataset()}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { FormControlLabel, FormControlLabelProps } from \"../form-control\";\nimport { useCheckboxContext } from \"./checkbox-context\";\n\nexport interface CheckboxLabelProps extends FormControlLabelProps {}\n\n/**\n * The label that gives the user information on the checkbox.\n */\nexport function CheckboxLabel(props: CheckboxLabelProps) {\n  const context = useCheckboxContext();\n\n  return <FormControlLabel {...context.dataset()} {...props} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/3155e4db7eba07cf06525747ce0adb54c1e2a086/packages/@react-aria/checkbox/src/useCheckbox.ts\n */\n\nimport {\n  access,\n  callHandler,\n  createGenerateId,\n  isFunction,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n  ValidationState,\n} from \"@kobalte/utils\";\nimport {\n  Accessor,\n  children,\n  createMemo,\n  createSignal,\n  createUniqueId,\n  JSX,\n  splitProps,\n} from \"solid-js\";\n\nimport { createFormControl, FORM_CONTROL_PROP_NAMES, FormControlContext } from \"../form-control\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createFormResetListener, createToggleState } from \"../primitives\";\nimport { CheckboxContext, CheckboxContextValue, CheckboxDataSet } from \"./checkbox-context\";\n\ninterface CheckboxRootState {\n  /** Whether the checkbox is checked or not. */\n  checked: Accessor<boolean>;\n\n  /** Whether the checkbox is in an indeterminate state. */\n  indeterminate: Accessor<boolean>;\n}\n\nexport interface CheckboxRootOptions {\n  /** The controlled checked state of the checkbox. */\n  checked?: boolean;\n\n  /**\n   * The default checked state when initially rendered.\n   * Useful when you do not need to control the checked state.\n   */\n  defaultChecked?: boolean;\n\n  /** Event handler called when the checked state of the checkbox changes. */\n  onChange?: (checked: boolean) => void;\n\n  /**\n   * Whether the checkbox is in an indeterminate state.\n   * Indeterminism is presentational only.\n   * The indeterminate visual representation remains regardless of user interaction.\n   */\n  indeterminate?: boolean;\n\n  /**\n   * The value of the checkbox, used when submitting an HTML form.\n   * See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#htmlattrdefvalue).\n   */\n  value?: string;\n\n  /**\n   * The name of the checkbox, used when submitting an HTML form.\n   * See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#htmlattrdefname).\n   */\n  name?: string;\n\n  /** Whether the checkbox should display its \"valid\" or \"invalid\" visual styling. */\n  validationState?: ValidationState;\n\n  /** Whether the user must check the checkbox before the owning form can be submitted. */\n  required?: boolean;\n\n  /** Whether the checkbox is disabled. */\n  disabled?: boolean;\n\n  /** Whether the checkbox is read only. */\n  readOnly?: boolean;\n\n  /**\n   * The children of the checkbox.\n   * Can be a `JSX.Element` or a _render prop_ for having access to the internal state.\n   */\n  children?: JSX.Element | ((state: CheckboxRootState) => JSX.Element);\n}\n\nexport interface CheckboxRootProps extends OverrideComponentProps<\"div\", CheckboxRootOptions> {}\n\n/**\n * A control that allows the user to toggle between checked and not checked.\n */\nexport function CheckboxRoot(props: CheckboxRootProps) {\n  let ref: HTMLDivElement | undefined;\n\n  const defaultId = `checkbox-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      value: \"on\",\n      id: defaultId,\n    },\n    props\n  );\n\n  const [local, formControlProps, others] = splitProps(\n    props,\n    [\n      \"ref\",\n      \"children\",\n      \"value\",\n      \"checked\",\n      \"defaultChecked\",\n      \"indeterminate\",\n      \"onChange\",\n      \"onPointerDown\",\n    ],\n    FORM_CONTROL_PROP_NAMES\n  );\n\n  const [inputRef, setInputRef] = createSignal<HTMLInputElement>();\n  const [isFocused, setIsFocused] = createSignal(false);\n\n  const { formControlContext } = createFormControl(formControlProps);\n\n  const state = createToggleState({\n    isSelected: () => local.checked,\n    defaultIsSelected: () => local.defaultChecked,\n    onSelectedChange: selected => local.onChange?.(selected),\n    isDisabled: () => formControlContext.isDisabled(),\n    isReadOnly: () => formControlContext.isReadOnly(),\n  });\n\n  createFormResetListener(\n    () => ref,\n    () => state.setIsSelected(local.defaultChecked ?? false)\n  );\n\n  const onPointerDown: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    // For consistency with native, prevent the input blurs on pointer down.\n    if (isFocused()) {\n      e.preventDefault();\n    }\n  };\n\n  const dataset: Accessor<CheckboxDataSet> = createMemo(() => ({\n    \"data-checked\": state.isSelected() ? \"\" : undefined,\n    \"data-indeterminate\": local.indeterminate ? \"\" : undefined,\n  }));\n\n  const context: CheckboxContextValue = {\n    value: () => local.value!,\n    dataset,\n    checked: () => state.isSelected(),\n    indeterminate: () => local.indeterminate ?? false,\n    inputRef,\n    generateId: createGenerateId(() => access(formControlProps.id)!),\n    toggle: () => state.toggle(),\n    setIsChecked: isChecked => state.setIsSelected(isChecked),\n    setIsFocused,\n    setInputRef,\n  };\n\n  return (\n    <FormControlContext.Provider value={formControlContext}>\n      <CheckboxContext.Provider value={context}>\n        <Polymorphic\n          as=\"div\"\n          ref={mergeRefs(el => (ref = el), local.ref)}\n          role=\"group\"\n          id={access(formControlProps.id)}\n          onPointerDown={onPointerDown}\n          {...formControlContext.dataset()}\n          {...dataset()}\n          {...others}\n        >\n          <CheckboxRootChild state={context} children={local.children} />\n        </Polymorphic>\n      </CheckboxContext.Provider>\n    </FormControlContext.Provider>\n  );\n}\n\ninterface CheckboxRootChildProps extends Pick<CheckboxRootOptions, \"children\"> {\n  state: CheckboxRootState;\n}\n\nfunction CheckboxRootChild(props: CheckboxRootChildProps) {\n  const resolvedChildren = children(() => {\n    const body = props.children;\n    return isFunction(body) ? body(props.state) : body;\n  });\n\n  return <>{resolvedChildren()}</>;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { Placement } from \"./utils\";\n\nexport interface PopperContextValue {\n  currentPlacement: Accessor<Placement>;\n  contentRef: Accessor<HTMLElement | undefined>;\n  setPositionerRef: (el: HTMLElement) => void;\n  setArrowRef: (el: HTMLElement) => void;\n}\n\nexport const PopperContext = createContext<PopperContextValue>();\n\nexport function usePopperContext() {\n  const context = useContext(PopperContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `usePopperContext` must be used within a `Popper` component\");\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/b6c7f8cf609db32e64c8d4b28b5e06ebf437a800/packages/ariakit/src/popover/popover-arrow.tsx\n * https://github.com/ariakit/ariakit/blob/a178c2f2dcc6571ba338fd74c79e3b0eab2a27c5/packages/ariakit/src/popover/__popover-arrow-path.ts\n */\n\nimport { getWindow, mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Accessor, createEffect, createSignal, JSX, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { usePopperContext } from \"./popper-context\";\nimport { BasePlacement } from \"./utils\";\n\nconst DEFAULT_SIZE = 30;\nconst HALF_DEFAULT_SIZE = DEFAULT_SIZE / 2;\n\nconst ROTATION_DEG = {\n  top: 180,\n  right: -90,\n  bottom: 0,\n  left: 90,\n} as const;\n\nexport const ARROW_PATH =\n  \"M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z\";\n\nexport interface PopperArrowOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n\n  /** The size of the arrow. */\n  size?: number;\n}\n\nexport interface PopperArrowProps extends OverrideComponentProps<\"div\", PopperArrowOptions> {}\n\n/**\n * An optional arrow element to render alongside the popper content.\n * Must be rendered in the popper content.\n */\nexport function PopperArrow(props: PopperArrowProps) {\n  const context = usePopperContext();\n\n  props = mergeDefaultProps(\n    {\n      size: DEFAULT_SIZE,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\", \"style\", \"children\", \"size\"]);\n\n  const dir = () => context.currentPlacement().split(\"-\")[0] as BasePlacement;\n  const contentStyle = createComputedStyle(context.contentRef);\n  const fill = () => contentStyle()?.getPropertyValue(\"background-color\") || \"none\";\n  const stroke = () => contentStyle()?.getPropertyValue(`border-${dir()}-color`) || \"none\";\n  const borderWidth = () => contentStyle()?.getPropertyValue(`border-${dir()}-width`) || \"0px\";\n  const strokeWidth = () => {\n    return parseInt(borderWidth()) * 2 * (DEFAULT_SIZE / local.size!);\n  };\n  const rotate = () => {\n    return `rotate(${ROTATION_DEG[dir()]} ${HALF_DEFAULT_SIZE} ${HALF_DEFAULT_SIZE})`;\n  };\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      ref={mergeRefs(context.setArrowRef, local.ref)}\n      aria-hidden=\"true\"\n      style={\n        {\n          // server side rendering\n          position: \"absolute\",\n          \"font-size\": `${local.size!}px`,\n          width: \"1em\",\n          height: \"1em\",\n          \"pointer-events\": \"none\",\n          fill: fill(),\n          stroke: stroke(),\n          \"stroke-width\": strokeWidth(),\n          ...local.style,\n        } as JSX.CSSProperties\n      }\n      {...others}\n    >\n      <svg display=\"block\" viewBox={`0 0 ${DEFAULT_SIZE} ${DEFAULT_SIZE}`}>\n        <g transform={rotate()}>\n          <path fill=\"none\" d={ARROW_PATH} />\n          <path stroke=\"none\" d={ARROW_PATH} />\n        </g>\n      </svg>\n    </Polymorphic>\n  );\n}\n\nfunction createComputedStyle(element: Accessor<Element | undefined>) {\n  const [style, setStyle] = createSignal<CSSStyleDeclaration>();\n\n  createEffect(() => {\n    const el = element();\n    el && setStyle(getWindow(el).getComputedStyle(el));\n  });\n\n  return style;\n}\n","import { mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { usePopperContext } from \"./popper-context\";\n\nexport interface PopperPositionerOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface PopperPositionerProps\n  extends OverrideComponentProps<\"div\", PopperPositionerOptions> {}\n\n/**\n * The wrapper component that positions the popper content relative to the popper anchor.\n */\nexport function PopperPositioner(props: PopperPositionerProps) {\n  const context = usePopperContext();\n\n  const [local, others] = splitProps(props, [\"ref\", \"style\"]);\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      ref={mergeRefs(context.setPositionerRef, local.ref)}\n      data-popper-positioner=\"\"\n      style={{\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        \"min-width\": \"max-content\",\n        ...local.style,\n      }}\n      {...others}\n    />\n  );\n}\n","import { Direction } from \"../i18n\";\n\nexport type BasePlacement = \"top\" | \"bottom\" | \"left\" | \"right\";\n\nexport type Placement = BasePlacement | `${BasePlacement}-start` | `${BasePlacement}-end`;\n\nexport type AnchorRect = {\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n};\n\nfunction createDOMRect(anchorRect?: AnchorRect) {\n  const { x = 0, y = 0, width = 0, height = 0 } = anchorRect ?? {};\n\n  if (typeof DOMRect === \"function\") {\n    return new DOMRect(x, y, width, height);\n  }\n\n  // JSDOM doesn't support DOMRect constructor.\n  const rect = {\n    x,\n    y,\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n  };\n\n  return { ...rect, toJSON: () => rect };\n}\n\nexport function getAnchorElement(\n  anchor: HTMLElement | undefined,\n  getAnchorRect: (anchor?: HTMLElement) => AnchorRect | undefined\n) {\n  // https://floating-ui.com/docs/virtual-elements\n  const contextElement = anchor;\n\n  return {\n    contextElement,\n    getBoundingClientRect: () => {\n      const anchorRect = getAnchorRect(anchor);\n\n      if (anchorRect) {\n        return createDOMRect(anchorRect);\n      }\n\n      if (anchor) {\n        return anchor.getBoundingClientRect();\n      }\n\n      return createDOMRect();\n    },\n  };\n}\n\nexport function isValidPlacement(flip: string): flip is Placement {\n  return /^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(flip);\n}\n\nconst REVERSE_BASE_PLACEMENT = {\n  top: \"bottom\",\n  right: \"left\",\n  bottom: \"top\",\n  left: \"right\",\n};\n\nexport function getTransformOrigin(placement: Placement, readingDirection: Direction) {\n  const [basePlacement, alignment] = placement.split(\"-\") as [\n    BasePlacement,\n    \"start\" | \"end\" | undefined\n  ];\n\n  const reversePlacement = REVERSE_BASE_PLACEMENT[basePlacement];\n\n  if (!alignment) {\n    return `${reversePlacement} center`;\n  }\n\n  if (basePlacement === \"left\" || basePlacement === \"right\") {\n    return `${reversePlacement} ${alignment === \"start\" ? \"top\" : \"bottom\"}`;\n  }\n\n  if (alignment === \"start\") {\n    return `${reversePlacement} ${readingDirection === \"rtl\" ? \"right\" : \"left\"}`;\n  }\n\n  return `${reversePlacement} ${readingDirection === \"rtl\" ? \"left\" : \"right\"}`;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/232bc79018ec20967fec1e097a9474aba3bb5be7/packages/ariakit/src/popover/popover-state.ts\n */\n\nimport {\n  arrow,\n  autoUpdate,\n  computePosition,\n  flip,\n  hide,\n  Middleware,\n  offset,\n  platform,\n  shift,\n  size,\n} from \"@floating-ui/dom\";\nimport { mergeDefaultProps } from \"@kobalte/utils\";\nimport { Accessor, createEffect, createSignal, onCleanup, ParentProps } from \"solid-js\";\n\nimport { useLocale } from \"../i18n\";\nimport { PopperContext, PopperContextValue } from \"./popper-context\";\nimport {\n  AnchorRect,\n  BasePlacement,\n  getAnchorElement,\n  getTransformOrigin,\n  isValidPlacement,\n  Placement,\n} from \"./utils\";\n\nexport interface PopperRootOptions {\n  /** A ref for the anchor element. */\n  anchorRef: Accessor<HTMLElement | undefined>;\n\n  /** A ref for the content element. */\n  contentRef: Accessor<HTMLElement | undefined>;\n\n  /**\n   * Function that returns the anchor element's DOMRect. If this is explicitly\n   * passed, it will override the anchor `getBoundingClientRect` method.\n   */\n  getAnchorRect?: (anchor?: HTMLElement) => AnchorRect | undefined;\n\n  /**\n   * Event handler called when the popper placement changes.\n   * It returns the current temporary placement of the popper.\n   * This may be different from the `placement` prop if the popper has needed to update its position on the fly.\n   */\n  onCurrentPlacementChange?: (currentPlacement: Placement) => void;\n\n  /** The placement of the popper. */\n  placement?: Placement;\n\n  /**\n   * The distance between the popper and the anchor element.\n   * By default, it's 0 plus half of the arrow offset, if it exists.\n   */\n  gutter?: number;\n\n  /** The skidding of the popper along the anchor element. */\n  shift?: number;\n\n  /**\n   * Controls the behavior of the popper when it overflows the viewport:\n   *   - If a `boolean`, specifies whether the popper should flip to the\n   *     opposite side when it overflows.\n   *   - If a `string`, indicates the preferred fallback placements when it\n   *     overflows. The placements must be spaced-delimited, e.g. \"top left\".\n   */\n  flip?: boolean | string;\n\n  /** Whether the popper should slide when it overflows. */\n  slide?: boolean;\n\n  /** Whether the popper can overlap the anchor element when it overflows. */\n  overlap?: boolean;\n\n  /**\n   * Whether the popper should have the same width as the anchor element.\n   * This will be exposed to CSS as `--kb-popper-anchor-width`.\n   */\n  sameWidth?: boolean;\n\n  /**\n   * Whether the popper should fit the viewport. If this is set to true, the\n   * popper positioner will have `maxWidth` and `maxHeight` set to the viewport size.\n   * This will be exposed to CSS as `--kb-popper-content-available-width` and `--kb-popper-content-available-height`.\n   */\n  fitViewport?: boolean;\n\n  /** Whether to hide the popper when the anchor element becomes occluded. */\n  hideWhenDetached?: boolean;\n\n  /** The minimum padding in order to consider the anchor element occluded. */\n  detachedPadding?: number;\n\n  /** The minimum padding between the arrow and the popper corner. */\n  arrowPadding?: number;\n\n  /**\n   * The minimum padding between the popper and the viewport edge.\n   * This will be exposed to CSS as `--kb-popper-content-overflow-padding`.\n   */\n  overflowPadding?: number;\n}\n\nexport interface PopperRootProps extends ParentProps<PopperRootOptions> {}\n\n/**\n * Display a floating content relative to an anchor element with an optional arrow.\n */\nexport function PopperRoot(props: PopperRootProps) {\n  props = mergeDefaultProps(\n    {\n      getAnchorRect: anchor => anchor?.getBoundingClientRect(),\n      placement: \"bottom\",\n      gutter: 0,\n      shift: 0,\n      flip: true,\n      slide: true,\n      overlap: false,\n      sameWidth: false,\n      fitViewport: false,\n      hideWhenDetached: false,\n      detachedPadding: 0,\n      arrowPadding: 4,\n      overflowPadding: 8,\n    },\n    props\n  );\n\n  const [positionerRef, setPositionerRef] = createSignal<HTMLElement>();\n  const [arrowRef, setArrowRef] = createSignal<HTMLElement>();\n\n  const [currentPlacement, setCurrentPlacement] = createSignal(props.placement!);\n\n  // Floating UI - reference element.\n  const anchorRef = () => getAnchorElement(props.anchorRef(), props.getAnchorRect!);\n\n  const { direction } = useLocale();\n\n  async function updatePosition() {\n    const referenceEl = anchorRef();\n    const floatingEl = positionerRef();\n    const arrowEl = arrowRef();\n\n    if (!referenceEl || !floatingEl) {\n      return;\n    }\n\n    const arrowOffset = (arrowEl?.clientHeight || 0) / 2;\n    const finalGutter =\n      typeof props.gutter === \"number\" ? props.gutter + arrowOffset : props.gutter ?? arrowOffset;\n\n    floatingEl.style.setProperty(\n      \"--kb-popper-content-overflow-padding\",\n      `${props.overflowPadding}px`\n    );\n\n    // Virtual element doesn't work without this \\_()_/\n    referenceEl.getBoundingClientRect();\n\n    const middleware: Middleware[] = [\n      // https://floating-ui.com/docs/offset\n      offset(({ placement }) => {\n        // If there's no placement alignment (*-start or *-end), we'll\n        // fall back to the crossAxis offset as it also works for\n        // center-aligned placements.\n        const hasAlignment = !!placement.split(\"-\")[1];\n\n        return {\n          mainAxis: finalGutter,\n          crossAxis: !hasAlignment ? props.shift : undefined,\n          alignmentAxis: props.shift,\n        };\n      }),\n    ];\n\n    if (props.flip !== false) {\n      const fallbackPlacements = typeof props.flip === \"string\" ? props.flip.split(\" \") : undefined;\n\n      if (fallbackPlacements !== undefined && !fallbackPlacements.every(isValidPlacement)) {\n        throw new Error(\"`flip` expects a spaced-delimited list of placements\");\n      }\n\n      // https://floating-ui.com/docs/flip\n      middleware.push(\n        flip({\n          padding: props.overflowPadding,\n          fallbackPlacements: fallbackPlacements,\n        })\n      );\n    }\n\n    if (props.slide || props.overlap) {\n      // https://floating-ui.com/docs/shift\n      middleware.push(\n        shift({\n          mainAxis: props.slide,\n          crossAxis: props.overlap,\n          padding: props.overflowPadding,\n        })\n      );\n    }\n\n    // https://floating-ui.com/docs/size\n    middleware.push(\n      size({\n        padding: props.overflowPadding,\n        apply({ availableWidth, availableHeight, rects }) {\n          const referenceWidth = Math.round(rects.reference.width);\n\n          availableWidth = Math.floor(availableWidth);\n          availableHeight = Math.floor(availableHeight);\n\n          floatingEl.style.setProperty(\"--kb-popper-anchor-width\", `${referenceWidth}px`);\n          floatingEl.style.setProperty(\n            \"--kb-popper-content-available-width\",\n            `${availableWidth}px`\n          );\n          floatingEl.style.setProperty(\n            \"--kb-popper-content-available-height\",\n            `${availableHeight}px`\n          );\n\n          if (props.sameWidth) {\n            floatingEl.style.width = `${referenceWidth}px`;\n          }\n\n          if (props.fitViewport) {\n            floatingEl.style.maxWidth = `${availableWidth}px`;\n            floatingEl.style.maxHeight = `${availableHeight}px`;\n          }\n        },\n      })\n    );\n\n    // https://floating-ui.com/docs/hide\n    if (props.hideWhenDetached) {\n      middleware.push(hide({ padding: props.detachedPadding }));\n    }\n\n    // https://floating-ui.com/docs/arrow\n    if (arrowEl) {\n      middleware.push(arrow({ element: arrowEl, padding: props.arrowPadding }));\n    }\n\n    // https://floating-ui.com/docs/computePosition\n    const pos = await computePosition(referenceEl, floatingEl, {\n      placement: props.placement,\n      strategy: \"absolute\",\n      middleware,\n      platform: {\n        ...platform,\n        isRTL: () => direction() === \"rtl\",\n      },\n    });\n\n    // Sync the new updated placement of floating-ui with our current placement and notify parent.\n    setCurrentPlacement(pos.placement);\n    props.onCurrentPlacementChange?.(pos.placement);\n\n    if (!floatingEl) {\n      return;\n    }\n\n    floatingEl.style.setProperty(\n      \"--kb-popper-content-transform-origin\",\n      getTransformOrigin(pos.placement, direction())\n    );\n\n    const x = Math.round(pos.x);\n    const y = Math.round(pos.y);\n\n    let visibility: string | undefined;\n\n    if (props.hideWhenDetached) {\n      visibility = pos.middlewareData.hide?.referenceHidden ? \"hidden\" : \"visible\";\n    }\n\n    // https://floating-ui.com/docs/misc#subpixel-and-accelerated-positioning\n    Object.assign(floatingEl.style, {\n      top: \"0\",\n      left: \"0\",\n      transform: `translate3d(${x}px, ${y}px, 0)`,\n      visibility,\n    });\n\n    // https://floating-ui.com/docs/arrow#usage\n    if (arrowEl && pos.middlewareData.arrow) {\n      const { x: arrowX, y: arrowY } = pos.middlewareData.arrow;\n\n      const dir = pos.placement.split(\"-\")[0] as BasePlacement;\n\n      Object.assign(arrowEl.style, {\n        left: arrowX != null ? `${arrowX}px` : \"\",\n        top: arrowY != null ? `${arrowY}px` : \"\",\n        [dir]: \"100%\",\n      });\n    }\n  }\n\n  createEffect(() => {\n    const referenceEl = anchorRef();\n    const floatingEl = positionerRef();\n\n    if (!referenceEl || !floatingEl) {\n      return;\n    }\n\n    // https://floating-ui.com/docs/autoUpdate\n    const cleanupAutoUpdate = autoUpdate(referenceEl, floatingEl, updatePosition, {\n      // JSDOM doesn't support ResizeObserver\n      elementResize: typeof ResizeObserver === \"function\",\n    });\n\n    onCleanup(cleanupAutoUpdate);\n  });\n\n  // Makes sure the positioner element has the same z-index as the popper content element,\n  // so users only need to set the z-index once.\n  createEffect(() => {\n    const positioner = positionerRef();\n    const content = props.contentRef();\n\n    if (!positioner || !content) {\n      return;\n    }\n\n    queueMicrotask(() => {\n      positioner.style.zIndex = getComputedStyle(content).zIndex;\n    });\n  });\n\n  const context: PopperContextValue = {\n    currentPlacement,\n    contentRef: () => props.contentRef(),\n    setPositionerRef,\n    setArrowRef,\n  };\n\n  return <PopperContext.Provider value={context}>{props.children}</PopperContext.Provider>;\n}\n","import { Accessor, createContext, JSX, useContext } from \"solid-js\";\n\nimport { ListState } from \"../list\";\nimport { CollectionNode, CreatePresenceResult } from \"../primitives\";\nimport { FocusStrategy, KeyboardDelegate } from \"../selection\";\nimport { ComboboxTriggerMode } from \"./types\";\n\nexport interface ComboboxDataSet {\n  \"data-expanded\": string | undefined;\n  \"data-closed\": string | undefined;\n}\n\nexport interface ComboboxContextValue {\n  dataset: Accessor<ComboboxDataSet>;\n  isOpen: Accessor<boolean>;\n  isDisabled: Accessor<boolean>;\n  isMultiple: Accessor<boolean>;\n  isVirtualized: Accessor<boolean>;\n  isModal: Accessor<boolean>;\n  preventScroll: Accessor<boolean>;\n  isInputFocused: Accessor<boolean>;\n  allowsEmptyCollection: Accessor<boolean>;\n  shouldFocusWrap: Accessor<boolean>;\n  removeOnBackspace: Accessor<boolean>;\n  selectedOptions: Accessor<any[]>;\n  contentPresence: CreatePresenceResult;\n  autoFocus: Accessor<FocusStrategy | boolean>;\n  activeDescendant: Accessor<string | undefined>;\n  inputValue: Accessor<string | undefined>;\n  triggerMode: Accessor<ComboboxTriggerMode>;\n  controlRef: Accessor<HTMLDivElement | undefined>;\n  inputRef: Accessor<HTMLInputElement | undefined>;\n  triggerRef: Accessor<HTMLButtonElement | undefined>;\n  contentRef: Accessor<HTMLDivElement | undefined>;\n  listboxId: Accessor<string | undefined>;\n  triggerAriaLabel: Accessor<string | undefined>;\n  listboxAriaLabel: Accessor<string | undefined>;\n  listState: Accessor<ListState>;\n  keyboardDelegate: Accessor<KeyboardDelegate>;\n  resetInputValue: () => void;\n  setIsInputFocused: (isFocused: boolean) => void;\n  setInputValue: (value: string) => void;\n  setControlRef: (el: HTMLDivElement) => void;\n  setInputRef: (el: HTMLInputElement) => void;\n  setTriggerRef: (el: HTMLButtonElement) => void;\n  setContentRef: (el: HTMLDivElement) => void;\n  setListboxRef: (el: HTMLUListElement) => void;\n  open: (focusStrategy: FocusStrategy | boolean, triggerMode?: ComboboxTriggerMode) => void;\n  close: () => void;\n  toggle: (focusStrategy: FocusStrategy | boolean, triggerMode?: ComboboxTriggerMode) => void;\n  placeholder: Accessor<JSX.Element>;\n  renderItem: (item: CollectionNode) => JSX.Element;\n  renderSection: (section: CollectionNode) => JSX.Element;\n  removeOptionFromSelection: (option: any) => void;\n  onInputKeyDown: JSX.EventHandlerUnion<HTMLInputElement, KeyboardEvent>;\n  generateId: (part: string) => string;\n  registerListboxId: (id: string) => () => void;\n}\n\nexport const ComboboxContext = createContext<ComboboxContextValue>();\n\nexport function useComboboxContext() {\n  const context = useContext(ComboboxContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useComboboxContext` must be used within a `Combobox` component\");\n  }\n\n  return context;\n}\n","import { focusWithoutScrolling, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, Show, splitProps } from \"solid-js\";\n\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { PopperPositioner } from \"../popper\";\nimport {\n  createFocusScope,\n  createHideOutside,\n  createPreventScroll,\n  FocusOutsideEvent,\n  InteractOutsideEvent,\n  PointerDownOutsideEvent,\n} from \"../primitives\";\nimport { useComboboxContext } from \"./combobox-context\";\n\nexport interface ComboboxContentOptions extends AsChildProp {\n  /**\n   * Event handler called when focus moves to the trigger after closing.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onCloseAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when a pointer event occurs outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n\n  /**\n   * Event handler called when the focus moves outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n\n  /**\n   * Event handler called when an interaction (pointer or focus event) happens outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onInteractOutside?: (event: InteractOutsideEvent) => void;\n\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface ComboboxContentProps\n  extends OverrideComponentProps<\"div\", ComboboxContentOptions> {}\n\n/**\n * The component that pops out when the combobox is open.\n */\nexport function ComboboxContent(props: ComboboxContentProps) {\n  let ref: HTMLElement | undefined;\n\n  const context = useComboboxContext();\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"id\",\n    \"style\",\n    \"onCloseAutoFocus\",\n    \"onFocusOutside\",\n  ]);\n\n  const close = () => {\n    context.close();\n    context.resetInputValue();\n  };\n\n  const onFocusOutside = (e: FocusOutsideEvent) => {\n    local.onFocusOutside?.(e);\n\n    // When focus is trapped (in modal mode), a `focusout` event may still happen.\n    // We make sure we don't trigger our `onDismiss` in such case.\n    if (context.isOpen() && context.isModal()) {\n      e.preventDefault();\n    }\n  };\n\n  // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n  createHideOutside({\n    isDisabled: () => !(context.isOpen() && context.isModal()),\n    targets: () => {\n      const excludedElements = [];\n\n      if (ref) {\n        excludedElements.push(ref);\n      }\n\n      const controlEl = context.controlRef();\n      if (controlEl) {\n        excludedElements.push(controlEl);\n      }\n\n      return excludedElements;\n    },\n  });\n\n  createPreventScroll({\n    ownerRef: () => ref,\n    isDisabled: () => !(context.isOpen() && (context.isModal() || context.preventScroll())),\n  });\n\n  createFocusScope(\n    {\n      trapFocus: () => context.isOpen() && context.isModal(),\n      onMountAutoFocus: e => {\n        // We prevent open autofocus because it's handled by the `Listbox`.\n        e.preventDefault();\n      },\n      onUnmountAutoFocus: e => {\n        local.onCloseAutoFocus?.(e);\n\n        if (!e.defaultPrevented) {\n          focusWithoutScrolling(context.inputRef());\n          e.preventDefault();\n        }\n      },\n    },\n    () => ref\n  );\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer\n          ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n            ref = el;\n          }, local.ref)}\n          disableOutsidePointerEvents={context.isModal() && context.isOpen()}\n          excludedElements={[context.controlRef]}\n          style={{\n            \"--kb-combobox-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n          }}\n          onFocusOutside={onFocusOutside}\n          onDismiss={close}\n          {...context.dataset()}\n          {...others}\n        />\n      </PopperPositioner>\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/ba727bdc0c4a57626131e84d9c9b661d0b65b754/packages/@react-stately/combobox/src/useComboBoxState.ts\n * https://github.com/adobe/react-spectrum/blob/ba727bdc0c4a57626131e84d9c9b661d0b65b754/packages/@react-aria/combobox/src/useComboBox.ts\n */\n\nimport {\n  callHandler,\n  contains,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport {\n  createFormControlField,\n  FORM_CONTROL_FIELD_PROP_NAMES,\n  useFormControlContext,\n} from \"../form-control\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useComboboxContext } from \"./combobox-context\";\n\nexport interface ComboboxInputOptions {}\n\nexport interface ComboboxInputProps extends OverrideComponentProps<\"input\", ComboboxInputOptions> {}\n\nexport function ComboboxInput(props: ComboboxInputProps) {\n  let ref: HTMLInputElement | undefined;\n\n  const formControlContext = useFormControlContext();\n  const context = useComboboxContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"input\"),\n    },\n    props\n  );\n\n  const [local, formControlFieldProps, others] = splitProps(\n    props,\n    [\"ref\", \"disabled\", \"onInput\", \"onPointerDown\", \"onClick\", \"onKeyDown\", \"onFocus\", \"onBlur\"],\n    FORM_CONTROL_FIELD_PROP_NAMES\n  );\n\n  const collection = () => context.listState().collection();\n  const selectionManager = () => context.listState().selectionManager();\n\n  const isDisabled = () => {\n    return local.disabled || context.isDisabled() || formControlContext.isDisabled();\n  };\n\n  const { fieldProps } = createFormControlField(formControlFieldProps);\n\n  const onInput: JSX.InputEventHandlerUnion<HTMLInputElement, InputEvent> = e => {\n    callHandler(e, local.onInput);\n\n    if (formControlContext.isReadOnly() || isDisabled()) {\n      return;\n    }\n\n    const target = e.target as HTMLInputElement;\n\n    context.setInputValue(target.value);\n\n    // Unlike in React, inputs `value` can be out of sync with our value state.\n    // even if an input is controlled (ex: `<input value=\"foo\" />`,\n    // typing on the input will change its internal `value`.\n    //\n    // To prevent this, we need to force the input `value` to be in sync with the input value state.\n    target.value = context.inputValue() ?? \"\";\n\n    if (!context.isOpen()) {\n      context.open(false, \"input\");\n    } else {\n      if (collection().getSize() <= 0 && !context.allowsEmptyCollection()) {\n        context.close();\n      }\n    }\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<HTMLInputElement, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    if (formControlContext.isReadOnly() || isDisabled()) {\n      return;\n    }\n\n    if (context.isOpen()) {\n      callHandler(e, context.onInputKeyDown);\n    }\n\n    switch (e.key) {\n      case \"Enter\":\n        // Prevent form submission if menu is open since we may be selecting an option.\n        if (context.isOpen()) {\n          e.preventDefault();\n\n          const focusedKey = selectionManager().focusedKey();\n\n          if (focusedKey != null) {\n            selectionManager().select(focusedKey);\n          }\n        }\n\n        break;\n      case \"Tab\":\n        if (context.isOpen()) {\n          context.close();\n          context.resetInputValue();\n        }\n        break;\n      case \"Escape\":\n        if (context.isOpen()) {\n          context.close();\n          context.resetInputValue();\n        } else {\n          // trigger a remove selection.\n          context.setInputValue(\"\");\n        }\n        break;\n      case \"ArrowDown\":\n        if (!context.isOpen()) {\n          context.open(e.altKey ? false : \"first\", \"manual\");\n        }\n        break;\n      case \"ArrowUp\":\n        if (!context.isOpen()) {\n          context.open(\"last\", \"manual\");\n        } else {\n          if (e.altKey) {\n            context.close();\n            context.resetInputValue();\n          }\n        }\n        break;\n      case \"ArrowLeft\":\n      case \"ArrowRight\":\n        selectionManager().setFocusedKey(undefined);\n        break;\n      case \"Backspace\":\n        // Remove last selection in multiple mode if input is empty.\n        if (\n          context.removeOnBackspace() &&\n          selectionManager().selectionMode() === \"multiple\" &&\n          context.inputValue() === \"\"\n        ) {\n          const lastSelectedKey = [...selectionManager().selectedKeys()].pop() ?? \"\";\n          selectionManager().toggleSelection(lastSelectedKey);\n        }\n        break;\n    }\n  };\n\n  const onFocus: JSX.FocusEventHandlerUnion<HTMLInputElement, FocusEvent> = e => {\n    callHandler(e, local.onFocus);\n\n    if (context.isInputFocused()) {\n      return;\n    }\n\n    context.setIsInputFocused(true);\n  };\n\n  const onBlur: JSX.FocusEventHandlerUnion<HTMLInputElement, FocusEvent> = e => {\n    callHandler(e, local.onBlur);\n\n    // Ignore blur if focused moved into the control or menu.\n    if (\n      contains(context.controlRef(), e.relatedTarget as any) ||\n      contains(context.contentRef(), e.relatedTarget as any)\n    ) {\n      return;\n    }\n\n    context.setIsInputFocused(false);\n  };\n\n  // If a touch happens on direct center of Combobox input, might be virtual click from iPad so open ComboBox menu\n  let lastEventTime = 0;\n\n  const onTouchEnd: JSX.EventHandlerUnion<HTMLInputElement, TouchEvent> = e => {\n    if (!ref || formControlContext.isReadOnly() || isDisabled()) {\n      return;\n    }\n\n    // Sometimes VoiceOver on iOS fires two touchend events in quick succession. Ignore the second one.\n    if (e.timeStamp - lastEventTime < 500) {\n      e.preventDefault();\n      ref.focus();\n      return;\n    }\n\n    const rect = (e.target as Element).getBoundingClientRect();\n    const touch = e.changedTouches[0];\n\n    const centerX = Math.ceil(rect.left + 0.5 * rect.width);\n    const centerY = Math.ceil(rect.top + 0.5 * rect.height);\n\n    if (touch.clientX === centerX && touch.clientY === centerY) {\n      e.preventDefault();\n      ref.focus();\n      context.toggle(false, \"manual\");\n\n      lastEventTime = e.timeStamp;\n    }\n  };\n\n  // Omit `formControlContext.name()` here because it's used in the hidden select.\n  return (\n    <Polymorphic\n      as=\"input\"\n      ref={mergeRefs(el => {\n        context.setInputRef(el);\n        ref = el;\n      }, local.ref)}\n      id={fieldProps.id()}\n      value={context.inputValue()}\n      required={formControlContext.isRequired()}\n      disabled={formControlContext.isDisabled()}\n      readonly={formControlContext.isReadOnly()}\n      placeholder={context.placeholder()}\n      type=\"text\"\n      role=\"combobox\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      spellCheck=\"false\"\n      aria-haspopup=\"listbox\"\n      aria-autocomplete=\"list\"\n      aria-expanded={context.isOpen()}\n      aria-controls={context.isOpen() ? context.listboxId() : undefined}\n      aria-activedescendant={context.activeDescendant()}\n      aria-label={fieldProps.ariaLabel()}\n      aria-labelledby={fieldProps.ariaLabelledBy()}\n      aria-describedby={fieldProps.ariaDescribedBy()}\n      aria-invalid={formControlContext.validationState() === \"invalid\" || undefined}\n      aria-required={formControlContext.isRequired() || undefined}\n      aria-disabled={formControlContext.isDisabled() || undefined}\n      aria-readonly={formControlContext.isReadOnly() || undefined}\n      onInput={onInput}\n      onKeyDown={onKeyDown}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      onTouchEnd={onTouchEnd}\n      {...context.dataset()}\n      {...formControlContext.dataset()}\n      {...others}\n    />\n  );\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { ListState } from \"../list\";\n\nexport interface ListboxContextValue {\n  listState: Accessor<ListState>;\n  generateId: (part: string) => string;\n  shouldUseVirtualFocus: Accessor<boolean | undefined>;\n  shouldSelectOnPressUp: Accessor<boolean | undefined>;\n  shouldFocusOnHover: Accessor<boolean | undefined>;\n  isVirtualized: Accessor<boolean | undefined>;\n}\n\nexport const ListboxContext = createContext<ListboxContextValue>();\n\nexport function useListboxContext() {\n  const context = useContext(ListboxContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useListboxContext` must be used within a `Listbox` component\");\n  }\n\n  return context;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface ListboxItemDataSet {\n  \"data-disabled\": string | undefined;\n  \"data-selected\": string | undefined;\n  \"data-highlighted\": string | undefined;\n}\n\nexport interface ListboxItemContextValue {\n  isSelected: Accessor<boolean>;\n  dataset: Accessor<ListboxItemDataSet>;\n  generateId: (part: string) => string;\n  registerLabelId: (id: string) => () => void;\n  registerDescriptionId: (id: string) => () => void;\n}\n\nexport const ListboxItemContext = createContext<ListboxItemContextValue>();\n\nexport function useListboxItemContext() {\n  const context = useContext(ListboxItemContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/22cb32d329e66c60f55d4fc4025d1d44bb015d71/packages/@react-aria/listbox/src/useOption.ts\n */\n\nimport {\n  callHandler,\n  composeEventHandlers,\n  createGenerateId,\n  focusWithoutScrolling,\n  isMac,\n  isWebKit,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { Accessor, createMemo, createSignal, createUniqueId, JSX, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { CollectionNode, createRegisterId, getItemCount } from \"../primitives\";\nimport { createSelectableItem } from \"../selection\";\nimport { useListboxContext } from \"./listbox-context\";\nimport {\n  ListboxItemContext,\n  ListboxItemContextValue,\n  ListboxItemDataSet,\n} from \"./listbox-item-context\";\n\nexport interface ListboxItemOptions extends AsChildProp {\n  /** The collection node to render. */\n  item: CollectionNode;\n}\n\nexport interface ListboxItemProps extends OverrideComponentProps<\"li\", ListboxItemOptions> {}\n\n/**\n * An item of the listbox.\n */\nexport function ListboxItem(props: ListboxItemProps) {\n  let ref: HTMLElement | undefined;\n\n  const listBoxContext = useListboxContext();\n\n  const defaultId = `${listBoxContext.generateId(\"item\")}-${createUniqueId()}`;\n\n  props = mergeDefaultProps({ id: defaultId }, props);\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"item\",\n    \"aria-label\",\n    \"aria-labelledby\",\n    \"aria-describedby\",\n    \"onPointerMove\",\n    \"onPointerDown\",\n    \"onPointerUp\",\n    \"onClick\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocus\",\n  ]);\n\n  const [labelId, setLabelId] = createSignal<string>();\n  const [descriptionId, setDescriptionId] = createSignal<string>();\n\n  const selectionManager = () => listBoxContext.listState().selectionManager();\n\n  const isHighlighted = () => selectionManager().focusedKey() === local.item.key;\n\n  const selectableItem = createSelectableItem(\n    {\n      key: () => local.item.key,\n      selectionManager: selectionManager,\n      shouldSelectOnPressUp: listBoxContext.shouldSelectOnPressUp,\n      allowsDifferentPressOrigin: () => {\n        return listBoxContext.shouldSelectOnPressUp() && listBoxContext.shouldFocusOnHover();\n      },\n      shouldUseVirtualFocus: listBoxContext.shouldUseVirtualFocus,\n      disabled: () => local.item.disabled,\n    },\n    () => ref\n  );\n\n  const ariaSelected = () => {\n    if (selectionManager().selectionMode() === \"none\") {\n      return undefined;\n    }\n\n    return selectableItem.isSelected();\n  };\n\n  // Safari with VoiceOver on macOS misreads options with aria-labelledby or aria-label as simply \"text\".\n  // We should not map slots to the label and description on Safari and instead just have VoiceOver read the textContent.\n  // https://bugs.webkit.org/show_bug.cgi?id=209279\n  const isNotSafariMacOS = createMemo(() => !(isMac() && isWebKit()));\n\n  const ariaLabel = () => (isNotSafariMacOS() ? local[\"aria-label\"] : undefined);\n  const ariaLabelledBy = () => (isNotSafariMacOS() ? labelId() : undefined);\n  const ariaDescribedBy = () => (isNotSafariMacOS() ? descriptionId() : undefined);\n\n  const ariaPosInSet = () => {\n    if (!listBoxContext.isVirtualized()) {\n      return undefined;\n    }\n\n    const index = listBoxContext.listState().collection().getItem(local.item.key)?.index;\n\n    return index != null ? index + 1 : undefined;\n  };\n\n  const ariaSetSize = () => {\n    if (!listBoxContext.isVirtualized()) {\n      return undefined;\n    }\n\n    return getItemCount(listBoxContext.listState().collection());\n  };\n\n  /**\n   * We focus items on `pointerMove` to achieve the following:\n   *\n   * - Mouse over an item (it focuses)\n   * - Leave mouse where it is and use keyboard to focus a different item\n   * - Wiggle mouse without it leaving previously focused item\n   * - Previously focused item should re-focus\n   *\n   * If we used `mouseOver`/`mouseEnter` it would not re-focus when the mouse\n   * wiggles. This is to match native select implementation.\n   */\n  const onPointerMove: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerMove);\n\n    if (e.pointerType !== \"mouse\") {\n      return;\n    }\n\n    if (!selectableItem.isDisabled() && listBoxContext.shouldFocusOnHover()) {\n      focusWithoutScrolling(e.currentTarget);\n      selectionManager().setFocused(true);\n      selectionManager().setFocusedKey(local.item.key);\n    }\n  };\n\n  const dataset: Accessor<ListboxItemDataSet> = createMemo(() => ({\n    \"data-disabled\": selectableItem.isDisabled() ? \"\" : undefined,\n    \"data-selected\": selectableItem.isSelected() ? \"\" : undefined,\n    \"data-highlighted\": isHighlighted() ? \"\" : undefined,\n  }));\n\n  const context: ListboxItemContextValue = {\n    isSelected: selectableItem.isSelected,\n    dataset,\n    generateId: createGenerateId(() => others.id!),\n    registerLabelId: createRegisterId(setLabelId),\n    registerDescriptionId: createRegisterId(setDescriptionId),\n  };\n\n  return (\n    <ListboxItemContext.Provider value={context}>\n      <Polymorphic\n        as=\"li\"\n        ref={mergeRefs(el => (ref = el), local.ref)}\n        role=\"option\"\n        tabIndex={selectableItem.tabIndex()}\n        aria-disabled={selectableItem.isDisabled()}\n        aria-selected={ariaSelected()}\n        aria-label={ariaLabel()}\n        aria-labelledby={ariaLabelledBy()}\n        aria-describedby={ariaDescribedBy()}\n        aria-posinset={ariaPosInSet()}\n        aria-setsize={ariaSetSize()}\n        data-key={selectableItem.dataKey()}\n        onPointerDown={composeEventHandlers([local.onPointerDown, selectableItem.onPointerDown])}\n        onPointerUp={composeEventHandlers([local.onPointerUp, selectableItem.onPointerUp])}\n        onClick={composeEventHandlers([local.onClick, selectableItem.onClick])}\n        onKeyDown={composeEventHandlers([local.onKeyDown, selectableItem.onKeyDown])}\n        onMouseDown={composeEventHandlers([local.onMouseDown, selectableItem.onMouseDown])}\n        onFocus={composeEventHandlers([local.onFocus, selectableItem.onFocus])}\n        onPointerMove={onPointerMove}\n        {...dataset()}\n        {...others}\n      />\n    </ListboxItemContext.Provider>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/listbox/src/useOption.ts\n */\n\nimport { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useListboxItemContext } from \"./listbox-item-context\";\n\nexport interface ListboxItemDescriptionProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * An optional accessible description to be announced for the item.\n * Useful for items that have more complex content (e.g. icons, multiple lines of text, etc.)\n */\nexport function ListboxItemDescription(props: ListboxItemDescriptionProps) {\n  const context = useListboxItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"description\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerDescriptionId(local.id!)));\n\n  return <Polymorphic as=\"div\" id={local.id} {...context.dataset()} {...others} />;\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Show, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useListboxItemContext } from \"./listbox-item-context\";\n\nexport interface ListboxItemIndicatorOptions extends AsChildProp {\n  /**\n   * Used to force mounting when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface ListboxItemIndicatorProps\n  extends OverrideComponentProps<\"div\", ListboxItemIndicatorOptions> {}\n\n/**\n * The visual indicator rendered when the item is selected.\n * You can style this element directly, or you can use it as a wrapper to put an icon into, or both.\n */\nexport function ListboxItemIndicator(props: ListboxItemIndicatorProps) {\n  const context = useListboxItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"indicator\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"forceMount\"]);\n\n  return (\n    <Show when={local.forceMount || context.isSelected()}>\n      <Polymorphic as=\"div\" aria-hidden=\"true\" {...context.dataset()} {...others} />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/listbox/src/useOption.ts\n */\n\nimport { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { ComponentProps, createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useListboxItemContext } from \"./listbox-item-context\";\n\nexport interface ListboxItemLabelProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * An accessible label to be announced for the item.\n * Useful for items that have more complex content (e.g. icons, multiple lines of text, etc.)\n */\nexport function ListboxItemLabel(props: ListboxItemLabelProps) {\n  const context = useListboxItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"label\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerLabelId(local.id!)));\n\n  return <Polymorphic as=\"div\" id={local.id} {...context.dataset()} {...others} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/22cb32d329e66c60f55d4fc4025d1d44bb015d71/packages/@react-aria/listbox/src/useListBox.ts\n */\n\nimport {\n  access,\n  composeEventHandlers,\n  createGenerateId,\n  Key,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport {\n  Accessor,\n  createMemo,\n  createUniqueId,\n  JSX,\n  Match,\n  Show,\n  splitProps,\n  Switch,\n} from \"solid-js\";\n\nimport { createListState, createSelectableList, ListState } from \"../list\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { Collection, CollectionNode } from \"../primitives\";\nimport { FocusStrategy, KeyboardDelegate, SelectionBehavior, SelectionMode } from \"../selection\";\nimport { ListboxContext, ListboxContextValue } from \"./listbox-context\";\n\nexport interface ListboxRootOptions<Option, OptGroup = never> extends AsChildProp {\n  /** The controlled value of the listbox. */\n  value?: Iterable<string>;\n\n  /**\n   * The value of the listbox when initially rendered.\n   * Useful when you do not need to control the state.\n   */\n  defaultValue?: Iterable<string>;\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: Set<string>) => void;\n\n  /** An array of options to display as the available options. */\n  options?: Array<Option | OptGroup>;\n\n  /** Property name or getter function to use as the value of an option. */\n  optionValue?: keyof Option | ((option: Option) => string);\n\n  /** Property name or getter function to use as the text value of an option for typeahead purpose. */\n  optionTextValue?: keyof Option | ((option: Option) => string);\n\n  /** Property name or getter function to use as the disabled flag of an option. */\n  optionDisabled?: keyof Option | ((option: Option) => boolean);\n\n  /** Property name or getter function that refers to the children options of option group. */\n  optionGroupChildren?: keyof OptGroup | ((optGroup: OptGroup) => Option[]);\n\n  /** The controlled state of the listbox. */\n  state?: ListState;\n\n  /** An optional keyboard delegate implementation for type to select, to override the default. */\n  keyboardDelegate?: KeyboardDelegate;\n\n  /** Whether to autofocus the listbox or an option. */\n  autoFocus?: boolean | FocusStrategy;\n\n  /** Whether focus should wrap around when the end/start is reached. */\n  shouldFocusWrap?: boolean;\n\n  /** Whether the listbox items should use virtual focus instead of being focused directly. */\n  shouldUseVirtualFocus?: boolean;\n\n  /** Whether selection should occur on press up instead of press down. */\n  shouldSelectOnPressUp?: boolean;\n\n  /** Whether options should be focused when the user hovers over them. */\n  shouldFocusOnHover?: boolean;\n\n  /**\n   * The ref attached to the scrollable element, used to provide automatic scrolling on item focus.\n   * If not provided, defaults to the listbox ref.\n   */\n  scrollRef?: Accessor<HTMLElement | undefined>;\n\n  /** How multiple selection should behave in the listbox. */\n  selectionBehavior?: SelectionBehavior;\n\n  /** Whether onValueChange should fire even if the new set of keys is the same as the last. */\n  allowDuplicateSelectionEvents?: boolean;\n\n  /** The type of selection that is allowed in the listbox. */\n  selectionMode?: SelectionMode;\n\n  /** Whether the listbox allows empty selection. */\n  disallowEmptySelection?: boolean;\n\n  /** Whether selection should occur automatically on focus. */\n  selectOnFocus?: boolean;\n\n  /** Whether typeahead is disabled. */\n  disallowTypeAhead?: boolean;\n\n  /** Whether navigation through tab key is enabled. */\n  allowsTabNavigation?: boolean;\n\n  /** Whether the listbox uses virtual scrolling. */\n  virtualized?: boolean;\n\n  /** When NOT virtualized, a map function that receives an _item_ signal representing a listbox item. */\n  renderItem?: (item: CollectionNode<Option>) => JSX.Element;\n\n  /** When NOT virtualized, a map function that receives a _section_ signal representing a listbox section. */\n  renderSection?: (section: CollectionNode<OptGroup>) => JSX.Element;\n\n  /** When virtualized, the Virtualizer function used to scroll to the item of the given key. */\n  scrollToItem?: (key: string) => void;\n\n  /** When virtualized, a map function that receives an _items_ signal representing all listbox items and sections. */\n  children?: (items: Accessor<Collection<CollectionNode<Option | OptGroup>>>) => JSX.Element;\n}\n\nexport interface ListboxRootProps<Option, OptGroup = never>\n  extends OverrideComponentProps<\"ul\", ListboxRootOptions<Option, OptGroup>> {}\n\n/**\n * Listbox presents a list of options and allows a user to select one or more of them.\n */\nexport function ListboxRoot<Option, OptGroup = never>(props: ListboxRootProps<Option, OptGroup>) {\n  let ref: HTMLElement | undefined;\n\n  const defaultId = `listbox-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      selectionMode: \"single\",\n      virtualized: false,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"children\",\n    \"renderItem\",\n    \"renderSection\",\n    \"value\",\n    \"defaultValue\",\n    \"onChange\",\n    \"options\",\n    \"optionValue\",\n    \"optionTextValue\",\n    \"optionDisabled\",\n    \"optionGroupChildren\",\n    \"state\",\n    \"keyboardDelegate\",\n    \"autoFocus\",\n    \"selectionMode\",\n    \"shouldFocusWrap\",\n    \"shouldUseVirtualFocus\",\n    \"shouldSelectOnPressUp\",\n    \"shouldFocusOnHover\",\n    \"allowDuplicateSelectionEvents\",\n    \"disallowEmptySelection\",\n    \"selectionBehavior\",\n    \"selectOnFocus\",\n    \"disallowTypeAhead\",\n    \"allowsTabNavigation\",\n    \"virtualized\",\n    \"scrollToItem\",\n    \"scrollRef\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocusIn\",\n    \"onFocusOut\",\n  ]);\n\n  const listState = createMemo(() => {\n    if (local.state) {\n      return local.state;\n    }\n\n    return createListState({\n      selectedKeys: () => local.value,\n      defaultSelectedKeys: () => local.defaultValue,\n      onSelectionChange: local.onChange,\n      allowDuplicateSelectionEvents: () => access(local.allowDuplicateSelectionEvents),\n      disallowEmptySelection: () => access(local.disallowEmptySelection),\n      selectionBehavior: () => access(local.selectionBehavior),\n      selectionMode: () => access(local.selectionMode),\n      dataSource: () => local.options ?? [],\n      getKey: () => local.optionValue as any,\n      getTextValue: () => local.optionTextValue as any,\n      getDisabled: () => local.optionDisabled as any,\n      getSectionChildren: () => local.optionGroupChildren as any,\n    });\n  });\n\n  const selectableList = createSelectableList(\n    {\n      selectionManager: () => listState().selectionManager(),\n      collection: () => listState().collection(),\n      autoFocus: () => access(local.autoFocus),\n      shouldFocusWrap: () => access(local.shouldFocusWrap),\n      keyboardDelegate: () => local.keyboardDelegate,\n      disallowEmptySelection: () => access(local.disallowEmptySelection),\n      selectOnFocus: () => access(local.selectOnFocus),\n      disallowTypeAhead: () => access(local.disallowTypeAhead),\n      shouldUseVirtualFocus: () => access(local.shouldUseVirtualFocus),\n      allowsTabNavigation: () => access(local.allowsTabNavigation),\n      isVirtualized: () => local.virtualized,\n      scrollToKey: () => local.scrollToItem,\n    },\n    () => ref,\n    () => local.scrollRef?.()\n  );\n\n  const context: ListboxContextValue = {\n    listState,\n    generateId: createGenerateId(() => others.id!),\n    shouldUseVirtualFocus: () => props.shouldUseVirtualFocus,\n    shouldSelectOnPressUp: () => props.shouldSelectOnPressUp,\n    shouldFocusOnHover: () => props.shouldFocusOnHover,\n    isVirtualized: () => local.virtualized,\n  };\n\n  return (\n    <ListboxContext.Provider value={context}>\n      <Polymorphic\n        as=\"ul\"\n        ref={mergeRefs(el => (ref = el), local.ref)}\n        role=\"listbox\"\n        tabIndex={selectableList.tabIndex()}\n        aria-multiselectable={\n          listState().selectionManager().selectionMode() === \"multiple\" ? true : undefined\n        }\n        onKeyDown={composeEventHandlers([local.onKeyDown, selectableList.onKeyDown])}\n        onMouseDown={composeEventHandlers([local.onMouseDown, selectableList.onMouseDown])}\n        onFocusIn={composeEventHandlers([local.onFocusIn, selectableList.onFocusIn])}\n        onFocusOut={composeEventHandlers([local.onFocusOut, selectableList.onFocusOut])}\n        {...others}\n      >\n        <Show when={!local.virtualized} fallback={local.children?.(listState().collection)}>\n          <Key each={[...listState().collection()]} by=\"key\">\n            {item => (\n              <Switch>\n                <Match when={item().type === \"section\"}>{local.renderSection?.(item())}</Match>\n                <Match when={item().type === \"item\"}>{local.renderItem?.(item())}</Match>\n              </Switch>\n            )}\n          </Key>\n        </Show>\n      </Polymorphic>\n    </ListboxContext.Provider>\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\n\nexport interface ListboxSectionProps extends OverrideComponentProps<\"li\", AsChildProp> {}\n\n/**\n * A component used to render the label of a listbox option group.\n * It won't be focusable using arrow keys.\n */\nexport function ListboxSection(props: ListboxSectionProps) {\n  return <Polymorphic as=\"li\" role=\"presentation\" {...props} />;\n}\n","import { mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport * as Listbox from \"../listbox\";\nimport { useComboboxContext } from \"./combobox-context\";\n\nexport interface ComboboxListboxOptions<Option, OptGroup = never>\n  extends Pick<\n    Listbox.ListboxRootOptions<Option, OptGroup>,\n    \"scrollRef\" | \"scrollToItem\" | \"children\"\n  > {}\n\nexport interface ComboboxListboxProps<Option, OptGroup = never>\n  extends Omit<\n    OverrideComponentProps<\"ul\", ComboboxListboxOptions<Option, OptGroup>>,\n    \"onChange\"\n  > {}\n\n/**\n * Contains all the items of a `Combobox`.\n */\nexport function ComboboxListbox<Option = any, OptGroup = never>(\n  props: ComboboxListboxProps<Option, OptGroup>\n) {\n  const formControlContext = useFormControlContext();\n  const context = useComboboxContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"listbox\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\"]);\n\n  const ariaLabelledBy = () => {\n    return formControlContext.getAriaLabelledBy(others.id, context.listboxAriaLabel(), undefined);\n  };\n\n  createEffect(() => onCleanup(context.registerListboxId(others.id!)));\n\n  return (\n    <Listbox.Root\n      ref={mergeRefs(context.setListboxRef, local.ref)}\n      state={context.listState()}\n      autoFocus={context.autoFocus()}\n      shouldUseVirtualFocus\n      shouldSelectOnPressUp\n      shouldFocusOnHover\n      aria-label={context.listboxAriaLabel()}\n      aria-labelledby={ariaLabelledBy()}\n      renderItem={context.renderItem}\n      renderSection={context.renderSection}\n      {...others}\n    />\n  );\n}\n","import { ComponentProps, Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport { useComboboxContext } from \"./combobox-context\";\n\nexport interface ComboboxPortalProps extends ComponentProps<typeof Portal> {}\n\n/**\n * Portals its children into the `body` when the combobox is open.\n */\nexport function ComboboxPortal(props: ComboboxPortalProps) {\n  const context = useComboboxContext();\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <Portal {...props} />\n    </Show>\n  );\n}\n","import { isFunction, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Accessor, children, JSX, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useComboboxContext } from \"./combobox-context\";\n\nexport interface ComboboxControlState<T> {\n  /** The selected options. */\n  selectedOptions: Accessor<T[]>;\n\n  /** A function to remove an option from the selection. */\n  remove: (option: T) => void;\n\n  /** A function to clear the selection. */\n  clear: () => void;\n}\n\nexport interface ComboboxControlOptions<T> {\n  /**\n   * The children of the combobox control.\n   * Can be a `JSX.Element` or a _render prop_ for having access to the internal state.\n   */\n  children?: JSX.Element | ((state: ComboboxControlState<T>) => JSX.Element);\n}\n\nexport interface ComboboxControlProps<T>\n  extends OverrideComponentProps<\"div\", ComboboxControlOptions<T>> {}\n\n/**\n * Contains the combobox input and trigger.\n */\nexport function ComboboxControl<T>(props: ComboboxControlProps<T>) {\n  const formControlContext = useFormControlContext();\n  const context = useComboboxContext();\n\n  const [local, others] = splitProps(props, [\"ref\", \"children\"]);\n\n  const selectionManager = () => context.listState().selectionManager();\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      ref={mergeRefs(context.setControlRef, local.ref)}\n      {...context.dataset()}\n      {...formControlContext.dataset()}\n      {...others}\n    >\n      <ComboboxControlChild\n        state={{\n          selectedOptions: () => context.selectedOptions(),\n          remove: option => context.removeOptionFromSelection(option),\n          clear: () => selectionManager().clearSelection(),\n        }}\n        children={local.children}\n      />\n    </Polymorphic>\n  );\n}\n\ninterface ComboboxControlChildProps<T> extends Pick<ComboboxControlOptions<T>, \"children\"> {\n  state: ComboboxControlState<T>;\n}\n\nfunction ComboboxControlChild<T>(props: ComboboxControlChildProps<T>) {\n  const resolvedChildren = children(() => {\n    const body = props.children;\n    return isFunction(body) ? body(props.state) : body;\n  });\n\n  return <>{resolvedChildren()}</>;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/0a1d0cd4e1b2f77eed7c0ea08fce8a04f8de6921/packages/@react-aria/select/src/HiddenSelect.tsx\n */\n\nimport { callHandler, mergeRefs, visuallyHiddenStyles } from \"@kobalte/utils\";\nimport { ComponentProps, createEffect, createSignal, For, on, Show, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { Collection, CollectionNode } from \"../primitives\";\nimport { SelectionManager } from \"../selection\";\nimport { isSameSelection } from \"../selection/utils\";\n\n// In Safari, the <select> cannot have `display: none` or `hidden` for autofill to work.\n// In Firefox, there must be a <label> to identify the <select> whereas other browsers\n// seem to identify it just by surrounding text.\n// The solution is to use <VisuallyHidden> to hide the elements, which clips the elements to a\n// 1px rectangle. In addition, we hide from screen readers with aria-hidden, and make the <select>\n// non tabbable with tabIndex={-1}.\n//\n// In mobile browsers, there are next/previous buttons above the software keyboard for navigating\n// between fields in a form. These only support native form inputs that are tabbable. In order to\n// support those, an additional hidden input is used to marshall focus to the button. It is tabbable\n// except when the button is focused, so that shift tab works properly to go to the actual previous\n// input in the form. Using the <select> for this also works, but Safari on iOS briefly flashes\n// the native menu on focus, so this isn't ideal. A font-size of 16px or greater is required to\n// prevent Safari from zooming in on the input when it is focused.\n//\n// If the current interaction modality is null, then the user hasn't interacted with the page yet.\n// In this case, we set the tabIndex to -1 on the input element so that automated accessibility\n// checkers don't throw false-positives about focusable elements inside an aria-hidden parent.\n\nexport interface HiddenSelectBaseProps extends ComponentProps<\"select\"> {\n  collection: Collection<CollectionNode>;\n  selectionManager: SelectionManager;\n  isOpen: boolean;\n  isMultiple: boolean;\n  isVirtualized: boolean;\n  focusTrigger: () => void;\n}\n\n/**\n * Renders a hidden native `<select>` element, which can be used to support browser\n * form autofill, mobile form navigation, and native form submission.\n */\nexport function HiddenSelectBase(props: HiddenSelectBaseProps) {\n  let ref: HTMLSelectElement | undefined;\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"onChange\",\n    \"collection\",\n    \"selectionManager\",\n    \"isOpen\",\n    \"isMultiple\",\n    \"isVirtualized\",\n    \"focusTrigger\",\n  ]);\n\n  const formControlContext = useFormControlContext();\n\n  const [isInternalChangeEvent, setIsInternalChangeEvent] = createSignal(false);\n\n  const renderOption = (key: string) => {\n    const item = local.collection.getItem(key);\n\n    return (\n      <Show when={item?.type === \"item\"}>\n        <option value={key} selected={local.selectionManager.isSelected(key)}>\n          {item?.textValue}\n        </option>\n      </Show>\n    );\n  };\n\n  // Dispatch native event on selection change for form libraries.\n  createEffect(\n    on(\n      () => local.selectionManager.selectedKeys(),\n      (keys, prevKeys) => {\n        if (prevKeys && isSameSelection(keys, prevKeys)) {\n          return;\n        }\n\n        setIsInternalChangeEvent(true);\n\n        ref?.dispatchEvent(new Event(\"input\", { bubbles: true, cancelable: true }));\n        ref?.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: true }));\n      },\n      {\n        defer: true,\n      }\n    )\n  );\n\n  // If virtualized, only render the selected options in the hidden <select> so the value can be submitted to a server.\n  // Otherwise, render all options so that browser autofill will work.\n  return (\n    <div style={visuallyHiddenStyles} aria-hidden=\"true\">\n      <input\n        type=\"text\"\n        tabIndex={local.selectionManager.isFocused() || local.isOpen ? -1 : 0}\n        style={{ \"font-size\": \"16px\" }}\n        required={formControlContext.isRequired()}\n        disabled={formControlContext.isDisabled()}\n        readOnly={formControlContext.isReadOnly()}\n        onFocus={() => local.focusTrigger()}\n      />\n      <select\n        ref={mergeRefs(el => (ref = el), local.ref)}\n        tabIndex={-1}\n        multiple={local.isMultiple}\n        name={formControlContext.name()}\n        required={formControlContext.isRequired()}\n        disabled={formControlContext.isDisabled()}\n        size={local.collection.getSize()}\n        value={local.selectionManager.firstSelectedKey() ?? \"\"}\n        onChange={e => {\n          callHandler(e, local.onChange);\n\n          // Prevent internally fired change event to update the selection\n          // which would result in an infinite loop.\n          if (!isInternalChangeEvent()) {\n            // enable form autofill\n            local.selectionManager.setSelectedKeys(\n              new Set([(e.target as HTMLSelectElement).value])\n            );\n          }\n\n          setIsInternalChangeEvent(false);\n        }}\n        {...others}\n      >\n        <option />\n        <Show\n          when={local.isVirtualized}\n          fallback={<For each={[...local.collection.getKeys()]}>{renderOption}</For>}\n        >\n          <For each={[...local.selectionManager.selectedKeys()]}>{renderOption}</For>\n        </Show>\n      </select>\n    </div>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/select/src/HiddenSelect.tsx\n */\n\nimport { ComponentProps } from \"solid-js\";\n\nimport { HiddenSelectBase } from \"../select/hidden-select-base\";\nimport { useComboboxContext } from \"./combobox-context\";\n\nexport type ComboboxHiddenSelectProps = ComponentProps<\"select\">;\n\nexport function ComboboxHiddenSelect(props: ComboboxHiddenSelectProps) {\n  const context = useComboboxContext();\n\n  return (\n    <HiddenSelectBase\n      collection={context.listState().collection()}\n      selectionManager={context.listState().selectionManager()}\n      isOpen={context.isOpen()}\n      isMultiple={context.isMultiple()}\n      isVirtualized={context.isVirtualized()}\n      focusTrigger={() => context.inputRef()?.focus()}\n      {...props}\n    />\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useComboboxContext } from \"./combobox-context\";\n\nexport interface ComboboxIconProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * A small icon often displayed next to the value as a visual affordance for the fact it can be open.\n * It renders a `` by default, but you can use your own icon `children`.\n */\nexport function ComboboxIcon(props: ComboboxIconProps) {\n  const context = useComboboxContext();\n\n  props = mergeDefaultProps({ children: \"\" }, props);\n\n  return <Polymorphic as=\"span\" aria-hidden=\"true\" {...context.dataset()} {...props} />;\n}\n","export const COMBOBOX_INTL_MESSAGES = {\n  \"ar-AE\": {\n    triggerLabel: \" \",\n    countAnnouncement: \"{optionCount, plural, one {# } other {# }} .\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText} \",\n  },\n  \"bg-BG\": {\n    triggerLabel: \" \",\n    countAnnouncement: \"{optionCount, plural, one {# } other {# }}  .\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}, \",\n  },\n  \"cs-CZ\": {\n    triggerLabel: \"Zobrazit doporuen\",\n    countAnnouncement:\n      \"K dispozici {optionCount, plural, one {je # monost} other {jsou/je # monosti/-}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true { (vybrno)} other {}}\",\n    listboxLabel: \"Nvrhy\",\n    selectedAnnouncement: \"{optionText}, vybrno\",\n  },\n  \"da-DK\": {\n    triggerLabel: \"Vis forslag\",\n    countAnnouncement:\n      \"{optionCount, plural, one {# mulighed tilgngelig} other {# muligheder tilgngelige}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, valgt} other {}}\",\n    listboxLabel: \"Forslag\",\n    selectedAnnouncement: \"{optionText}, valgt\",\n  },\n  \"de-DE\": {\n    triggerLabel: \"Empfehlungen anzeigen\",\n    countAnnouncement: \"{optionCount, plural, one {# Option} other {# Optionen}} verfgbar.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, ausgewhlt} other {}}\",\n    listboxLabel: \"Empfehlungen\",\n    selectedAnnouncement: \"{optionText}, ausgewhlt\",\n  },\n  \"el-GR\": {\n    triggerLabel: \" \",\n    countAnnouncement: \"{optionCount, plural, one {# } other {#  }} .\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}, \",\n  },\n  \"en-US\": {\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, selected} other {}}\",\n    countAnnouncement: \"{optionCount, plural, one {# option} other {# options}} available.\",\n    selectedAnnouncement: \"{optionText}, selected\",\n    triggerLabel: \"Show suggestions\",\n    listboxLabel: \"Suggestions\",\n  },\n  \"es-ES\": {\n    triggerLabel: \"Mostrar sugerencias\",\n    countAnnouncement: \"{optionCount, plural, one {# opcin} other {# opciones}} disponible(s).\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, seleccionado} other {}}\",\n    listboxLabel: \"Sugerencias\",\n    selectedAnnouncement: \"{optionText}, seleccionado\",\n  },\n  \"et-EE\": {\n    triggerLabel: \"Kuva soovitused\",\n    countAnnouncement: \"{optionCount, plural, one {# valik} other {# valikud}} saadaval.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, valitud} other {}}\",\n    listboxLabel: \"Soovitused\",\n    selectedAnnouncement: \"{optionText}, valitud\",\n  },\n  \"fi-FI\": {\n    triggerLabel: \"Nyt ehdotukset\",\n    countAnnouncement:\n      \"{optionCount, plural, one {# vaihtoehto} other {# vaihtoehdot}} saatavilla.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, valittu} other {}}\",\n    listboxLabel: \"Ehdotukset\",\n    selectedAnnouncement: \"{optionText}, valittu\",\n  },\n  \"fr-FR\": {\n    triggerLabel: \"Afficher les suggestions\",\n    countAnnouncement: \"{optionCount, plural, one {# option} other {# options}} disponible(s).\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, slectionn(s)} other {}}\",\n    listboxLabel: \"Suggestions\",\n    selectedAnnouncement: \"{optionText}, slectionn\",\n  },\n  \"he-IL\": {\n    triggerLabel: \" \",\n    countAnnouncement: \"{optionCount, plural, one { #} other {# }}  .\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}, \",\n  },\n  \"hr-HR\": {\n    triggerLabel: \"Prikai prijedloge\",\n    countAnnouncement: \"Dostupno jo: {optionCount, plural, one {# opcija} other {# opcije/a}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, odabranih} other {}}\",\n    listboxLabel: \"Prijedlozi\",\n    selectedAnnouncement: \"{optionText}, odabrano\",\n  },\n  \"hu-HU\": {\n    triggerLabel: \"Javaslatok megjelentse\",\n    countAnnouncement:\n      \"{optionCount, plural, one {# lehetsg} other {# lehetsg}} ll rendelkezsre.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, kijellve} other {}}\",\n    listboxLabel: \"Javaslatok\",\n    selectedAnnouncement: \"{optionText}, kijellve\",\n  },\n  \"it-IT\": {\n    triggerLabel: \"Mostra suggerimenti\",\n    countAnnouncement:\n      \"{optionCount, plural, one {# opzione disponibile} other {# opzioni disponibili}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, selezionato} other {}}\",\n    listboxLabel: \"Suggerimenti\",\n    selectedAnnouncement: \"{optionText}, selezionato\",\n  },\n  \"ja-JP\": {\n    triggerLabel: \"\",\n    countAnnouncement:\n      \"{optionCount, plural, one {# } other {# }}\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {} other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}\",\n  },\n  \"ko-KR\": {\n    triggerLabel: \"  \",\n    countAnnouncement:\n      \"{optionCount, plural, one {# } other {# }}   .\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}, \",\n  },\n  \"lt-LT\": {\n    triggerLabel: \"Rodyti pasilymus\",\n    countAnnouncement: \"Yra {optionCount, plural, one {# parinktis} other {# parinktys (-i)}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, pasirinkta} other {}}\",\n    listboxLabel: \"Pasilymai\",\n    selectedAnnouncement: \"{optionText}, pasirinkta\",\n  },\n  \"lv-LV\": {\n    triggerLabel: \"Rdt ieteikumus\",\n    countAnnouncement:\n      \"Pieejamo opciju skaits: {optionCount, plural, one {# opcija} other {# opcijas}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, atlasta} other {}}\",\n    listboxLabel: \"Ieteikumi\",\n    selectedAnnouncement: \"{optionText}, atlasta\",\n  },\n  \"nb-NO\": {\n    triggerLabel: \"Vis forslag\",\n    countAnnouncement: \"{optionCount, plural, one {# alternativ} other {# alternativer}} finnes.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, valgt} other {}}\",\n    listboxLabel: \"Forslag\",\n    selectedAnnouncement: \"{optionText}, valgt\",\n  },\n  \"nl-NL\": {\n    triggerLabel: \"Suggesties weergeven\",\n    countAnnouncement: \"{optionCount, plural, one {# optie} other {# opties}} beschikbaar.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, geselecteerd} other {}}\",\n    listboxLabel: \"Suggesties\",\n    selectedAnnouncement: \"{optionText}, geselecteerd\",\n  },\n  \"pl-PL\": {\n    triggerLabel: \"Wywietlaj sugestie\",\n    countAnnouncement:\n      \"dostpna/dostpne(-nych) {optionCount, plural, one {# opcja} other {# opcje(-i)}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, wybrano} other {}}\",\n    listboxLabel: \"Sugestie\",\n    selectedAnnouncement: \"{optionText}, wybrano\",\n  },\n  \"pt-BR\": {\n    triggerLabel: \"Mostrar sugestes\",\n    countAnnouncement: \"{optionCount, plural, one {# opo} other {# opes}} disponvel.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, selecionado} other {}}\",\n    listboxLabel: \"Sugestes\",\n    selectedAnnouncement: \"{optionText}, selecionado\",\n  },\n  \"pt-PT\": {\n    triggerLabel: \"Apresentar sugestes\",\n    countAnnouncement: \"{optionCount, plural, one {# opo} other {# opes}} disponvel.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, selecionado} other {}}\",\n    listboxLabel: \"Sugestes\",\n    selectedAnnouncement: \"{optionText}, selecionado\",\n  },\n  \"ro-RO\": {\n    triggerLabel: \"Afiare sugestii\",\n    countAnnouncement: \"{optionCount, plural, one {# opiune} other {# opiuni}} disponibile.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, selectat} other {}}\",\n    listboxLabel: \"Sugestii\",\n    selectedAnnouncement: \"{optionText}, selectat\",\n  },\n  \"ru-RU\": {\n    triggerLabel: \" \",\n    countAnnouncement: \"{optionCount, plural, one {# } other {# }} .\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}, \",\n  },\n  \"sk-SK\": {\n    triggerLabel: \"Zobrazi nvrhy\",\n    countAnnouncement: \"{optionCount, plural, one {# monos} other {# monosti/-}} k dispozcii.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, vybrat} other {}}\",\n    listboxLabel: \"Nvrhy\",\n    selectedAnnouncement: \"{optionText}, vybrat\",\n  },\n  \"sl-SI\": {\n    triggerLabel: \"Prikai predloge\",\n    countAnnouncement: \"Na voljo je {optionCount, plural, one {# opcija} other {# opcije}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, izbrano} other {}}\",\n    listboxLabel: \"Predlogi\",\n    selectedAnnouncement: \"{optionText}, izbrano\",\n  },\n  \"sr-SP\": {\n    triggerLabel: \"Prikai predloge\",\n    countAnnouncement: \"Dostupno jo: {optionCount, plural, one {# opcija} other {# opcije/a}}.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, izabranih} other {}}\",\n    listboxLabel: \"Predlozi\",\n    selectedAnnouncement: \"{optionText}, izabrano\",\n  },\n  \"sv-SE\": {\n    triggerLabel: \"Visa frslag\",\n    countAnnouncement:\n      \"{optionCount, plural, one {# alternativ} other {# alternativ}} tillgngliga.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, valda} other {}}\",\n    listboxLabel: \"Frslag\",\n    selectedAnnouncement: \"{optionText}, valda\",\n  },\n  \"tr-TR\": {\n    triggerLabel: \"nerileri gster\",\n    countAnnouncement:\n      \"{optionCount, plural, one {# seenek} other {# seenekler}} kullanlabilir.\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, seildi} other {}}\",\n    listboxLabel: \"neriler\",\n    selectedAnnouncement: \"{optionText}, seildi\",\n  },\n  \"uk-UA\": {\n    triggerLabel: \" \",\n    countAnnouncement: \"{optionCount, plural, one {# } other {# (-)}} .\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}, \",\n  },\n  \"zh-CN\": {\n    triggerLabel: \"\",\n    countAnnouncement: \" {optionCount, plural, one {# } other {# }}\",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}, \",\n  },\n  \"zh-TW\": {\n    triggerLabel: \"\",\n    countAnnouncement: \"{optionCount, plural, one {# } other {# }} \",\n    focusAnnouncement: \"{optionText}{isSelected, select, true {, } other {}}\",\n    listboxLabel: \"\",\n    selectedAnnouncement: \"{optionText}, \",\n  },\n};\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/ba727bdc0c4a57626131e84d9c9b661d0b65b754/packages/@react-stately/combobox/src/useComboBoxState.ts\n * https://github.com/adobe/react-spectrum/blob/ba727bdc0c4a57626131e84d9c9b661d0b65b754/packages/@react-aria/combobox/src/useComboBox.ts\n */\n\nimport {\n  access,\n  createGenerateId,\n  focusWithoutScrolling,\n  isAppleDevice,\n  isFunction,\n  mergeDefaultProps,\n  OverrideComponentProps,\n  ValidationState,\n} from \"@kobalte/utils\";\nimport {\n  Accessor,\n  Component,\n  createEffect,\n  createMemo,\n  createSignal,\n  createUniqueId,\n  JSX,\n  on,\n  onMount,\n  splitProps,\n} from \"solid-js\";\n\nimport { createFormControl, FORM_CONTROL_PROP_NAMES, FormControlContext } from \"../form-control\";\nimport { createMessageFormatter } from \"../i18n\";\nimport { createListState, ListKeyboardDelegate } from \"../list\";\nimport { announce } from \"../live-announcer\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { PopperRoot, PopperRootOptions } from \"../popper\";\nimport {\n  CollectionNode,\n  createControllableSignal,\n  createDisclosureState,\n  createFormResetListener,\n  createPresence,\n  createRegisterId,\n  getItemCount,\n} from \"../primitives\";\nimport {\n  createSelectableCollection,\n  FocusStrategy,\n  KeyboardDelegate,\n  Selection,\n  SelectionBehavior,\n  SelectionMode,\n} from \"../selection\";\nimport { COMBOBOX_INTL_MESSAGES } from \"./combobox.intl\";\nimport { ComboboxContext, ComboboxContextValue, ComboboxDataSet } from \"./combobox-context\";\nimport { ComboboxTriggerMode } from \"./types\";\n\nexport interface ComboboxBaseItemComponentProps<T> {\n  /** The item to render. */\n  item: CollectionNode<T>;\n}\n\nexport interface ComboboxBaseSectionComponentProps<T> {\n  /** The section to render. */\n  section: CollectionNode<T>;\n}\n\nexport interface ComboboxBaseOptions<Option, OptGroup = never>\n  extends Omit<PopperRootOptions, \"anchorRef\" | \"contentRef\" | \"onCurrentPlacementChange\">,\n    AsChildProp {\n  /** The controlled open state of the combobox. */\n  open?: boolean;\n\n  /**\n   * The default open state when initially rendered.\n   * Useful when you do not need to control the open state.\n   */\n  defaultOpen?: boolean;\n\n  /**\n   * Event handler called when the open state of the combobox changes.\n   * Returns the new open state and the action that caused the opening of the menu.\n   */\n  onOpenChange?: (isOpen: boolean, triggerMode?: ComboboxTriggerMode) => void;\n\n  /** Handler that is called when the combobox input value changes. */\n  onInputChange?: (value: string) => void;\n\n  /** The controlled value of the combobox. */\n  value?: Option[];\n\n  /**\n   * The value of the combobox when initially rendered.\n   * Useful when you do not need to control the value.\n   */\n  defaultValue?: Option[];\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: Option[]) => void;\n\n  /** The interaction required to display the combobox menu. */\n  triggerMode?: ComboboxTriggerMode;\n\n  /** The content that will be rendered when no value or defaultValue is set. */\n  placeholder?: JSX.Element;\n\n  /** An array of options to display as the available options. */\n  options: Array<Option | OptGroup>;\n\n  /**\n   * Property name or getter function to use as the value of an option.\n   * This is the value that will be submitted when the combobox is part of a `<form>`.\n   */\n  optionValue?: keyof Option | ((option: Option) => string | number);\n\n  /** Property name or getter function to use as the text value of an option for typeahead purpose. */\n  optionTextValue?: keyof Option | ((option: Option) => string);\n\n  /**\n   * Property name or getter function to use as the label of an option.\n   * This is the string representation of the option to display in the `Combobox.Input`.\n   */\n  optionLabel?: keyof Option | ((option: Option) => string);\n\n  /** Property name or getter function to use as the disabled flag of an option. */\n  optionDisabled?: keyof Option | ((option: Option) => boolean);\n\n  /** Property name or getter function that refers to the children options of an option group. */\n  optionGroupChildren?: keyof OptGroup | ((optGroup: OptGroup) => Option[]);\n\n  /** An optional keyboard delegate to override the default. */\n  keyboardDelegate?: KeyboardDelegate;\n\n  /** Whether focus should wrap around when the end/start is reached. */\n  shouldFocusWrap?: boolean;\n\n  /** Whether the combobox allows the menu to be open when the collection is empty. */\n  allowsEmptyCollection?: boolean;\n\n  /** The type of selection that is allowed in the select. */\n  selectionMode?: Exclude<SelectionMode, \"none\">;\n\n  /** How multiple selection should behave in the select. */\n  selectionBehavior?: SelectionBehavior;\n\n  /** Whether onValueChange should fire even if the new set of keys is the same as the last. */\n  allowDuplicateSelectionEvents?: boolean;\n\n  /** Whether the combobox allows empty selection. */\n  disallowEmptySelection?: boolean;\n\n  /**\n   * When `selectionMode` is \"multiple\".\n   * Whether the last selected option should be removed when the user press the Backspace key and the input is empty.\n   */\n  removeOnBackspace?: boolean;\n\n  /** Whether the combobox uses virtual scrolling. */\n  virtualized?: boolean;\n\n  /** When NOT virtualized, the component to render as an item in the `Combobox.Listbox`. */\n  itemComponent?: Component<ComboboxBaseItemComponentProps<Option>>;\n\n  /** When NOT virtualized, the component to render as a section in the `Combobox.Listbox`. */\n  sectionComponent?: Component<ComboboxBaseSectionComponentProps<OptGroup>>;\n\n  /**\n   * Whether the combobox should be the only visible content for screen readers.\n   * When set to `true`:\n   * - interaction with outside elements will be disabled.\n   * - scroll will be locked.\n   * - focus will be locked inside the select content.\n   * - elements outside the combobox content will not be visible for screen readers.\n   */\n  modal?: boolean;\n\n  /** Whether the scroll should be locked even if the combobox is not modal. */\n  preventScroll?: boolean;\n\n  /**\n   * Used to force mounting the combobox (portal, positioner and content) when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n\n  /**\n   * The name of the combobox.\n   * Submitted with its owning form as part of a name/value pair.\n   */\n  name?: string;\n\n  /** Whether the combobox should display its \"valid\" or \"invalid\" visual styling. */\n  validationState?: ValidationState;\n\n  /** Whether the user must select an item before the owning form can be submitted. */\n  required?: boolean;\n\n  /** Whether the combobox is disabled. */\n  disabled?: boolean;\n\n  /** Whether the combobox is read only. */\n  readOnly?: boolean;\n\n  /** The children of the combobox. */\n  children?: JSX.Element;\n}\n\nexport interface ComboboxBaseProps<Option, OptGroup = never>\n  extends OverrideComponentProps<\"div\", ComboboxBaseOptions<Option, OptGroup>>,\n    AsChildProp {}\n\n/**\n * Base component for a combobox, provide context for its children.\n */\nexport function ComboboxBase<Option, OptGroup = never>(props: ComboboxBaseProps<Option, OptGroup>) {\n  const defaultId = `combobox-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      selectionMode: \"single\",\n      disallowEmptySelection: true,\n      allowDuplicateSelectionEvents: true,\n      removeOnBackspace: true,\n      gutter: 8,\n      sameWidth: true,\n      modal: false,\n      preventScroll: false,\n      triggerMode: \"input\",\n      allowsEmptyCollection: false,\n    },\n    props\n  );\n\n  const [local, popperProps, formControlProps, others] = splitProps(\n    props,\n    [\n      \"itemComponent\",\n      \"sectionComponent\",\n      \"open\",\n      \"defaultOpen\",\n      \"onOpenChange\",\n      \"onInputChange\",\n      \"value\",\n      \"defaultValue\",\n      \"onChange\",\n      \"triggerMode\",\n      \"placeholder\",\n      \"options\",\n      \"optionValue\",\n      \"optionTextValue\",\n      \"optionLabel\",\n      \"optionDisabled\",\n      \"optionGroupChildren\",\n      \"keyboardDelegate\",\n      \"allowDuplicateSelectionEvents\",\n      \"disallowEmptySelection\",\n      \"shouldFocusWrap\",\n      \"allowsEmptyCollection\",\n      \"removeOnBackspace\",\n      \"selectionBehavior\",\n      \"selectionMode\",\n      \"virtualized\",\n      \"modal\",\n      \"preventScroll\",\n      \"forceMount\",\n    ],\n    [\n      \"getAnchorRect\",\n      \"placement\",\n      \"gutter\",\n      \"shift\",\n      \"flip\",\n      \"slide\",\n      \"overlap\",\n      \"sameWidth\",\n      \"fitViewport\",\n      \"hideWhenDetached\",\n      \"detachedPadding\",\n      \"arrowPadding\",\n      \"overflowPadding\",\n    ],\n    FORM_CONTROL_PROP_NAMES\n  );\n\n  const [listboxId, setListboxId] = createSignal<string>();\n\n  const [controlRef, setControlRef] = createSignal<HTMLDivElement>();\n  const [inputRef, setInputRef] = createSignal<HTMLInputElement>();\n  const [triggerRef, setTriggerRef] = createSignal<HTMLButtonElement>();\n  const [contentRef, setContentRef] = createSignal<HTMLDivElement>();\n  const [listboxRef, setListboxRef] = createSignal<HTMLUListElement>();\n\n  const [focusStrategy, setFocusStrategy] = createSignal<FocusStrategy | boolean>(false);\n\n  const [isInputFocused, setIsInputFocusedState] = createSignal(false);\n\n  const [lastDisplayedOptions, setLastDisplayedOptions] = createSignal(local.options);\n\n  const messageFormatter = createMessageFormatter(() => COMBOBOX_INTL_MESSAGES);\n\n  // Track what action is attempting to open the combobox.\n  let openTriggerMode: ComboboxTriggerMode | undefined = \"focus\";\n\n  const getOptionValue = (option: Option) => {\n    const optionValue = local.optionValue;\n\n    if (optionValue == null) {\n      // If no `optionValue`, the option itself is the value (ex: string[] of options).\n      return String(option);\n    }\n\n    // Get the value from the option object as a string.\n    return String(isFunction(optionValue) ? optionValue(option) : option[optionValue]);\n  };\n\n  const getOptionLabel = (option: Option) => {\n    const optionLabel = local.optionLabel;\n\n    if (optionLabel == null) {\n      // If no `optionLabel`, the option itself is the label (ex: string[] of options).\n      return String(option);\n    }\n\n    // Get the label from the option object as a string.\n    return String(isFunction(optionLabel) ? optionLabel(option) : option[optionLabel]);\n  };\n\n  // Only options without option groups.\n  const flattenOptions = createMemo(() => {\n    const optionGroupChildren = local.optionGroupChildren;\n\n    // The combobox doesn't contains option groups.\n    if (optionGroupChildren == null) {\n      return local.options as Option[];\n    }\n\n    if (isFunction(optionGroupChildren)) {\n      return local.options.flatMap(\n        item => optionGroupChildren(item as OptGroup) ?? (item as Option)\n      );\n    }\n\n    return local.options.flatMap(\n      item => ((item as OptGroup)[optionGroupChildren] as Option[]) ?? (item as Option)\n    );\n  });\n\n  const getOptionsFromValues = (values: Set<string>): Option[] => {\n    return [...values]\n      .map(value => flattenOptions().find(option => getOptionValue(option) === value))\n      .filter(option => option != null) as Option[];\n  };\n\n  const disclosureState = createDisclosureState({\n    open: () => local.open,\n    defaultOpen: () => local.defaultOpen,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen, openTriggerMode),\n  });\n\n  const [inputValue, setInputValue] = createControllableSignal<string>({\n    defaultValue: () => \"\",\n    onChange: value => {\n      local.onInputChange?.(value);\n\n      // Remove selection when input is cleared and value is uncontrolled (in single selection mode).\n      // If controlled, this is the application developer's responsibility.\n      if (\n        value === \"\" &&\n        local.selectionMode === \"single\" &&\n        !listState.selectionManager().isEmpty() &&\n        local.value === undefined\n      ) {\n        // Bypass `disallowEmptySelection`.\n        listState.selectionManager().setSelectedKeys([]);\n      }\n\n      // Clear focused key when input value changes.\n      listState.selectionManager().setFocusedKey(undefined);\n    },\n  });\n\n  const displayedOptions = createMemo(() => {\n    return disclosureState.isOpen() ? local.options : lastDisplayedOptions();\n  });\n\n  const listState = createListState({\n    selectedKeys: () => local.value && local.value.map(getOptionValue),\n    defaultSelectedKeys: () => local.defaultValue && local.defaultValue.map(getOptionValue),\n    onSelectionChange: keys => {\n      local.onChange?.(getOptionsFromValues(keys));\n\n      if (local.selectionMode === \"single\") {\n        // Only close if an option is selected.\n        // Prevents the combobox to close and reopen when the input is cleared.\n        if (disclosureState.isOpen() && keys.size > 0) {\n          close();\n        }\n\n        resetInputValue();\n      } else {\n        setInputValue(\"\");\n      }\n\n      const inputEl = inputRef();\n\n      if (inputEl) {\n        // Move cursor to the end of the input.\n        inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n\n        focusWithoutScrolling(inputEl);\n      }\n    },\n    allowDuplicateSelectionEvents: () => access(local.allowDuplicateSelectionEvents),\n    disallowEmptySelection: () => local.disallowEmptySelection,\n    selectionBehavior: () => access(local.selectionBehavior),\n    selectionMode: () => local.selectionMode,\n    dataSource: displayedOptions,\n    getKey: () => local.optionValue as any,\n    getTextValue: () => local.optionTextValue as any,\n    getDisabled: () => local.optionDisabled as any,\n    getSectionChildren: () => local.optionGroupChildren as any,\n  });\n\n  const selectedOptions = createMemo(() => {\n    return getOptionsFromValues(listState.selectionManager().selectedKeys());\n  });\n\n  const removeOptionFromSelection = (option: Option) => {\n    listState.selectionManager().toggleSelection(getOptionValue(option));\n  };\n\n  const contentPresence = createPresence(() => local.forceMount || disclosureState.isOpen());\n\n  const open = (focusStrategy: FocusStrategy | boolean, triggerMode?: ComboboxTriggerMode) => {\n    // Don't open if there is no option.\n    if (!local.allowsEmptyCollection && local.options.length <= 0) {\n      return;\n    }\n\n    openTriggerMode = triggerMode;\n    setFocusStrategy(focusStrategy);\n    disclosureState.open();\n\n    let focusedKey = listState.selectionManager().firstSelectedKey();\n\n    if (focusedKey == null) {\n      if (focusStrategy === \"first\") {\n        focusedKey = listState.collection().getFirstKey();\n      } else if (focusStrategy === \"last\") {\n        focusedKey = listState.collection().getLastKey();\n      }\n    }\n\n    listState.selectionManager().setFocused(true);\n    listState.selectionManager().setFocusedKey(focusedKey);\n  };\n\n  const close = () => {\n    // If combobox is going to close, so we can freeze the displayed options\n    // when the user clicks outside the popover to close the combobox.\n    // Prevents the popover contents from updating as the combobox closes.\n    setLastDisplayedOptions(local.options);\n\n    disclosureState.close();\n\n    listState.selectionManager().setFocused(false);\n    listState.selectionManager().setFocusedKey(undefined);\n  };\n\n  const toggle = (focusStrategy: FocusStrategy | boolean, triggerMode?: ComboboxTriggerMode) => {\n    if (disclosureState.isOpen()) {\n      close();\n    } else {\n      open(focusStrategy, triggerMode);\n    }\n  };\n\n  const { formControlContext } = createFormControl(formControlProps);\n\n  createFormResetListener(inputRef, () => {\n    const defaultSelectedKeys = local.defaultValue\n      ? [...local.defaultValue].map(getOptionValue)\n      : new Selection();\n\n    listState.selectionManager().setSelectedKeys(defaultSelectedKeys);\n  });\n\n  // By default, a KeyboardDelegate is provided which uses the DOM to query layout information (e.g. for page up/page down).\n  const delegate = createMemo(() => {\n    const keyboardDelegate = access(local.keyboardDelegate);\n\n    if (keyboardDelegate) {\n      return keyboardDelegate;\n    }\n\n    return new ListKeyboardDelegate(listState.collection, listboxRef, undefined);\n  });\n\n  // Use `createSelectableCollection` to get the keyboard handlers to apply to the input.\n  const selectableCollection = createSelectableCollection(\n    {\n      selectionManager: () => listState.selectionManager(),\n      keyboardDelegate: delegate,\n      disallowTypeAhead: true,\n      disallowEmptySelection: true,\n      shouldFocusWrap: () => local.shouldFocusWrap,\n      // Prevent item scroll behavior from being applied here, handled in the Listbox component.\n      isVirtualized: true,\n    },\n    inputRef\n  );\n\n  const setIsInputFocused = (isFocused: boolean) => {\n    if (isFocused && local.triggerMode === \"focus\") {\n      open(false, \"focus\");\n    }\n\n    setIsInputFocusedState(isFocused);\n    listState.selectionManager().setFocused(isFocused);\n  };\n\n  const activeDescendant = createMemo(() => {\n    const focusedKey = listState.selectionManager().focusedKey();\n\n    if (focusedKey) {\n      return listboxRef()?.querySelector(`[data-key=\"${focusedKey}\"]`)?.id;\n    }\n\n    return undefined;\n  });\n\n  const resetInputValue = () => {\n    if (local.selectionMode === \"single\") {\n      const selectedOption = selectedOptions().at(0);\n      setInputValue(selectedOption ? getOptionLabel(selectedOption) : \"\");\n    } else {\n      setInputValue(\"\");\n    }\n  };\n\n  const renderItem = (item: CollectionNode) => {\n    return local.itemComponent?.({ item });\n  };\n\n  const renderSection = (section: CollectionNode) => {\n    return local.sectionComponent?.({ section });\n  };\n\n  onMount(() => {\n    if (local.selectionMode === \"single\") {\n      // Set input to match current selected key if any.\n      resetInputValue();\n    }\n  });\n\n  // VoiceOver has issues with announcing aria-activedescendant properly on change.\n  // We use a live region announcer to announce focus changes manually.\n  let lastAnnouncedFocusedKey = \"\";\n\n  createEffect(() => {\n    const focusedKey = listState.selectionManager().focusedKey() ?? \"\";\n    const focusedItem = listState.collection().getItem(focusedKey);\n\n    if (isAppleDevice() && focusedItem != null && focusedKey !== lastAnnouncedFocusedKey) {\n      const isSelected = listState.selectionManager().isSelected(focusedKey);\n\n      const announcement = messageFormatter().format(\"focusAnnouncement\", {\n        optionText: focusedItem?.textValue || \"\",\n        isSelected,\n      });\n\n      announce(announcement);\n    }\n\n    if (focusedKey) {\n      lastAnnouncedFocusedKey = focusedKey;\n    }\n  });\n\n  // Announce the number of available suggestions when it changes.\n  let lastOptionCount = getItemCount(listState.collection());\n  let lastOpen = disclosureState.isOpen();\n\n  createEffect(() => {\n    const optionCount = getItemCount(listState.collection());\n    const isOpen = disclosureState.isOpen();\n\n    // Only announce the number of options available when the menu opens if there is no\n    // focused item, otherwise screen readers will typically read e.g. \"1 of 6\".\n    // The exception is VoiceOver since this isn't included in the message above.\n    const didOpenWithoutFocusedItem =\n      isOpen !== lastOpen && (listState.selectionManager().focusedKey() == null || isAppleDevice());\n\n    if (isOpen && (didOpenWithoutFocusedItem || optionCount !== lastOptionCount)) {\n      const announcement = messageFormatter().format(\"countAnnouncement\", { optionCount });\n      announce(announcement);\n    }\n\n    lastOptionCount = optionCount;\n    lastOpen = isOpen;\n  });\n\n  // Announce when a selection occurs for VoiceOver.\n  // Other screen readers typically do this automatically.\n  let lastAnnouncedSelectedKey = \"\";\n\n  createEffect(() => {\n    const lastSelectedKey = [...listState.selectionManager().selectedKeys()].pop() ?? \"\";\n    const lastSelectedItem = listState.collection().getItem(lastSelectedKey);\n\n    if (\n      isAppleDevice() &&\n      isInputFocused() &&\n      lastSelectedItem &&\n      lastSelectedKey !== lastAnnouncedSelectedKey\n    ) {\n      const announcement = messageFormatter().format(\"selectedAnnouncement\", {\n        optionText: lastSelectedItem?.textValue || \"\",\n      });\n\n      announce(announcement);\n    }\n\n    if (lastSelectedKey) {\n      lastAnnouncedSelectedKey = lastSelectedKey;\n    }\n  });\n\n  const dataset: Accessor<ComboboxDataSet> = createMemo(() => ({\n    \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n    \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n  }));\n\n  const context: ComboboxContextValue = {\n    dataset,\n    isOpen: disclosureState.isOpen,\n    isDisabled: () => formControlContext.isDisabled() ?? false,\n    isMultiple: () => access(local.selectionMode) === \"multiple\",\n    isVirtualized: () => local.virtualized ?? false,\n    isModal: () => local.modal ?? false,\n    preventScroll: () => local.preventScroll ?? false,\n    allowsEmptyCollection: () => local.allowsEmptyCollection ?? false,\n    shouldFocusWrap: () => local.shouldFocusWrap ?? false,\n    removeOnBackspace: () => local.removeOnBackspace ?? true,\n    selectedOptions,\n    isInputFocused,\n    contentPresence,\n    autoFocus: focusStrategy,\n    inputValue,\n    triggerMode: () => local.triggerMode!,\n    activeDescendant,\n    controlRef,\n    inputRef,\n    triggerRef,\n    contentRef,\n    listState: () => listState,\n    keyboardDelegate: delegate,\n    listboxId,\n    triggerAriaLabel: () => messageFormatter().format(\"triggerLabel\"),\n    listboxAriaLabel: () => messageFormatter().format(\"listboxLabel\"),\n    setIsInputFocused,\n    resetInputValue,\n    setInputValue,\n    setControlRef,\n    setInputRef,\n    setTriggerRef,\n    setContentRef,\n    setListboxRef,\n    open,\n    close,\n    toggle,\n    placeholder: () => local.placeholder,\n    renderItem,\n    renderSection,\n    removeOptionFromSelection,\n    onInputKeyDown: e => selectableCollection.onKeyDown(e),\n    generateId: createGenerateId(() => access(formControlProps.id)!),\n    registerListboxId: createRegisterId(setListboxId),\n  };\n\n  return (\n    <FormControlContext.Provider value={formControlContext}>\n      <ComboboxContext.Provider value={context}>\n        <PopperRoot anchorRef={controlRef} contentRef={contentRef} {...popperProps}>\n          <Polymorphic\n            as=\"div\"\n            role=\"group\"\n            id={access(formControlProps.id)}\n            {...formControlContext.dataset()}\n            {...dataset()}\n            {...others}\n          />\n        </PopperRoot>\n      </ComboboxContext.Provider>\n    </FormControlContext.Provider>\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\nimport { createMemo, splitProps } from \"solid-js\";\n\nimport { AsChildProp } from \"../polymorphic\";\nimport { ComboboxBase, ComboboxBaseOptions } from \"./combobox-base\";\n\nexport interface ComboboxSingleSelectionOptions<T> {\n  /** The controlled value of the combobox. */\n  value?: T;\n\n  /**\n   * The value of the combobox when initially rendered.\n   * Useful when you do not need to control the value.\n   */\n  defaultValue?: T;\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: T) => void;\n\n  /** Whether the combobox allow multiple selection. */\n  multiple?: false;\n}\n\nexport interface ComboboxMultipleSelectionOptions<T> {\n  /** The controlled value of the combobox. */\n  value?: T[];\n\n  /**\n   * The value of the combobox when initially rendered.\n   * Useful when you do not need to control the value.\n   */\n  defaultValue?: T[];\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: T[]) => void;\n\n  /** Whether the combobox allow multiple selection. */\n  multiple: true;\n}\n\nexport type ComboboxRootOptions<Option, OptGroup = never> = (\n  | ComboboxSingleSelectionOptions<Option>\n  | ComboboxMultipleSelectionOptions<Option>\n) &\n  AsChildProp &\n  Omit<\n    ComboboxBaseOptions<Option, OptGroup>,\n    \"value\" | \"defaultValue\" | \"onChange\" | \"selectionMode\"\n  >;\n\nexport type ComboboxRootProps<Option, OptGroup = never> = OverrideComponentProps<\n  \"div\",\n  ComboboxRootOptions<Option, OptGroup>\n>;\n\n/**\n * A combo box combines a text input with a listbox, allowing users to filter a list of options to items matching a query.\n */\nexport function ComboboxRoot<Option, OptGroup = never>(props: ComboboxRootProps<Option, OptGroup>) {\n  const [local, others] = splitProps(props, [\"value\", \"defaultValue\", \"onChange\", \"multiple\"]);\n\n  const value = createMemo(() => {\n    if (local.value == null) {\n      return undefined;\n    }\n\n    return local.multiple ? (local.value as Option[]) : [local.value as Option];\n  });\n\n  const defaultValue = createMemo(() => {\n    if (local.defaultValue == null) {\n      return undefined;\n    }\n\n    return local.multiple ? (local.defaultValue as Option[]) : [local.defaultValue as Option];\n  });\n\n  const onChange = (value: Option[]) => {\n    local.onChange?.(local.multiple ? value : (value[0] as any));\n  };\n\n  return (\n    <ComboboxBase\n      value={value()}\n      defaultValue={defaultValue()}\n      onChange={onChange}\n      selectionMode={local.multiple ? \"multiple\" : \"single\"}\n      disallowEmptySelection={!local.multiple}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/ba727bdc0c4a57626131e84d9c9b661d0b65b754/packages/@react-stately/combobox/src/useComboBoxState.ts\n * https://github.com/adobe/react-spectrum/blob/ba727bdc0c4a57626131e84d9c9b661d0b65b754/packages/@react-aria/combobox/src/useComboBox.ts\n */\n\nimport { callHandler, mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { useFormControlContext } from \"../form-control\";\nimport { useComboboxContext } from \"./combobox-context\";\n\nexport interface ComboboxTriggerProps\n  extends OverrideComponentProps<\"button\", Button.ButtonRootOptions> {}\n\nexport function ComboboxTrigger(props: ComboboxTriggerProps) {\n  const formControlContext = useFormControlContext();\n  const context = useComboboxContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"trigger\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"disabled\",\n    \"onPointerDown\",\n    \"onClick\",\n    \"aria-labelledby\",\n  ]);\n\n  const isDisabled = () => {\n    return (\n      local.disabled ||\n      context.isDisabled() ||\n      formControlContext.isDisabled() ||\n      formControlContext.isReadOnly()\n    );\n  };\n\n  const onPointerDown: JSX.EventHandlerUnion<HTMLButtonElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    e.currentTarget.dataset.pointerType = e.pointerType;\n\n    // For consistency with native, open the combobox on mouse down (main button), but touch up.\n    if (!isDisabled() && e.pointerType !== \"touch\" && e.button === 0) {\n      // prevent trigger from stealing focus from the active item after opening.\n      e.preventDefault();\n\n      context.toggle(false, \"manual\");\n    }\n  };\n\n  const onClick: JSX.EventHandlerUnion<HTMLButtonElement, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    if (!isDisabled()) {\n      if (e.currentTarget.dataset.pointerType === \"touch\") {\n        context.toggle(false, \"manual\");\n      }\n\n      // Focus the input field in case it isn't focused yet.\n      context.inputRef()?.focus();\n    }\n  };\n\n  const ariaLabelledBy = () => {\n    return formControlContext.getAriaLabelledBy(\n      others.id,\n      context.triggerAriaLabel(),\n      local[\"aria-labelledby\"]\n    );\n  };\n\n  return (\n    <Button.Root\n      ref={mergeRefs(context.setTriggerRef, local.ref)}\n      disabled={isDisabled()}\n      tabIndex=\"-1\"\n      aria-haspopup=\"listbox\"\n      aria-expanded={context.isOpen()}\n      aria-controls={context.isOpen() ? context.listboxId() : undefined}\n      aria-label={context.triggerAriaLabel()}\n      aria-labelledby={ariaLabelledBy()}\n      onPointerDown={onPointerDown}\n      onClick={onClick}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { ListState } from \"../list\";\nimport { Placement } from \"../popper/utils\";\nimport { CollectionItemWithRef, CreatePresenceResult } from \"../primitives\";\nimport { FocusStrategy } from \"../selection\";\nimport { GraceIntent, Side } from \"./utils\";\n\nexport interface MenuDataSet {\n  \"data-expanded\": string | undefined;\n  \"data-closed\": string | undefined;\n}\n\nexport interface MenuContextValue {\n  dataset: Accessor<MenuDataSet>;\n  isOpen: Accessor<boolean>;\n  contentPresence: CreatePresenceResult;\n  currentPlacement: Accessor<Placement>;\n  pointerGraceTimeoutId: Accessor<number>;\n  autoFocus: Accessor<FocusStrategy | boolean | undefined>;\n  listState: Accessor<ListState>;\n  parentMenuContext: Accessor<MenuContextValue | undefined>;\n  triggerRef: Accessor<HTMLElement | undefined>;\n  contentRef: Accessor<HTMLElement | undefined>;\n  triggerId: Accessor<string | undefined>;\n  contentId: Accessor<string | undefined>;\n  setTriggerRef: (el: HTMLElement) => void;\n  setContentRef: (el: HTMLDivElement) => void;\n  open: (focusStrategy: FocusStrategy | boolean) => void;\n  close: (recursively?: boolean) => void;\n  toggle: (focusStrategy: FocusStrategy | boolean) => void;\n  focusContent: () => void;\n  onItemEnter: (e: PointerEvent) => void;\n  onItemLeave: (e: PointerEvent) => void;\n  onTriggerLeave: (e: PointerEvent) => void;\n  setPointerDir: (dir: Side) => void;\n  setPointerGraceTimeoutId: (id: number) => void;\n  setPointerGraceIntent: (intent: GraceIntent | null) => void;\n  registerNestedMenu: (element: Element) => () => void;\n  registerItemToParentDomCollection: ((item: CollectionItemWithRef) => () => void) | undefined;\n  registerTriggerId: (id: string) => () => void;\n  registerContentId: (id: string) => () => void;\n}\n\nexport const MenuContext = createContext<MenuContextValue>();\n\nexport function useOptionalMenuContext() {\n  return useContext(MenuContext);\n}\n\nexport function useMenuContext() {\n  const context = useOptionalMenuContext();\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useMenuContext` must be used within a `Menu` component\");\n  }\n\n  return context;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface MenuRootContextValue {\n  isModal: Accessor<boolean>;\n  preventScroll: Accessor<boolean>;\n  forceMount: Accessor<boolean>;\n  generateId: (part: string) => string;\n}\n\nexport const MenuRootContext = createContext<MenuRootContextValue>();\n\nexport function useMenuRootContext() {\n  const context = useContext(MenuRootContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component\");\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\n\nimport { isPointInPolygon, Polygon } from \"@kobalte/utils\";\n\nimport { BasePlacement, Placement } from \"../popper/utils\";\n\nexport type Side = \"left\" | \"right\";\nexport type GraceIntent = { area: Polygon; side: Side };\n\n/**\n * Construct a polygon based on pointer clientX/clientY and an element bounding rect.\n */\nexport function getPointerGraceArea(placement: Placement, event: PointerEvent, contentEl: Element) {\n  const basePlacement = placement.split(\"-\")[0] as BasePlacement;\n\n  const contentRect = contentEl.getBoundingClientRect();\n\n  const polygon: Polygon = [];\n\n  const pointerX = event.clientX;\n  const pointerY = event.clientY;\n\n  switch (basePlacement) {\n    case \"top\":\n      polygon.push([pointerX, pointerY + 5]);\n      polygon.push([contentRect.left, contentRect.bottom]);\n      polygon.push([contentRect.left, contentRect.top]);\n      polygon.push([contentRect.right, contentRect.top]);\n      polygon.push([contentRect.right, contentRect.bottom]);\n      break;\n    case \"right\":\n      polygon.push([pointerX - 5, pointerY]);\n      polygon.push([contentRect.left, contentRect.top]);\n      polygon.push([contentRect.right, contentRect.top]);\n      polygon.push([contentRect.right, contentRect.bottom]);\n      polygon.push([contentRect.left, contentRect.bottom]);\n      break;\n    case \"bottom\":\n      polygon.push([pointerX, pointerY - 5]);\n      polygon.push([contentRect.right, contentRect.top]);\n      polygon.push([contentRect.right, contentRect.bottom]);\n      polygon.push([contentRect.left, contentRect.bottom]);\n      polygon.push([contentRect.left, contentRect.top]);\n      break;\n    case \"left\":\n      polygon.push([pointerX + 5, pointerY]);\n      polygon.push([contentRect.right, contentRect.bottom]);\n      polygon.push([contentRect.left, contentRect.bottom]);\n      polygon.push([contentRect.left, contentRect.top]);\n      polygon.push([contentRect.right, contentRect.top]);\n      break;\n  }\n\n  return polygon;\n}\n\nexport function isPointerInGraceArea(event: PointerEvent, area?: Polygon) {\n  if (!area) {\n    return false;\n  }\n\n  return isPointInPolygon([event.clientX, event.clientY], area);\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\n\nimport { focusWithoutScrolling, mergeDefaultProps, removeItemFromArray } from \"@kobalte/utils\";\nimport {\n  Accessor,\n  createEffect,\n  createMemo,\n  createSignal,\n  onCleanup,\n  ParentProps,\n  splitProps,\n} from \"solid-js\";\n\nimport { createListState } from \"../list\";\nimport { PopperRoot, PopperRootOptions } from \"../popper\";\nimport { Placement } from \"../popper/utils\";\nimport {\n  CollectionItemWithRef,\n  createDisclosureState,\n  createHideOutside,\n  createPresence,\n  createRegisterId,\n} from \"../primitives\";\nimport {\n  createDomCollection,\n  useOptionalDomCollectionContext,\n} from \"../primitives/create-dom-collection\";\nimport { FocusStrategy } from \"../selection\";\nimport { MenuContext, MenuContextValue, MenuDataSet, useOptionalMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\nimport { GraceIntent, isPointerInGraceArea, Side } from \"./utils\";\n\nexport interface MenuOptions\n  extends Omit<PopperRootOptions, \"anchorRef\" | \"contentRef\" | \"onCurrentPlacementChange\"> {\n  /** The controlled open state of the menu. */\n  open?: boolean;\n\n  /**\n   * The default open state when initially rendered.\n   * Useful when you do not need to control the open state.\n   */\n  defaultOpen?: boolean;\n\n  /** Event handler called when the open state of the menu changes. */\n  onOpenChange?: (isOpen: boolean) => void;\n}\n\nexport interface MenuProps extends ParentProps<MenuOptions> {}\n\n/**\n * Container for menu items and nested menu, provide context for its children.\n */\nexport function Menu(props: MenuProps) {\n  const rootContext = useMenuRootContext();\n  const parentDomCollectionContext = useOptionalDomCollectionContext();\n  const parentMenuContext = useOptionalMenuContext();\n\n  props = mergeDefaultProps(\n    {\n      placement: \"bottom-start\",\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"open\", \"defaultOpen\", \"onOpenChange\"]);\n\n  let pointerGraceTimeoutId = 0;\n  let pointerGraceIntent: GraceIntent | null = null;\n  let pointerDir: Side = \"right\";\n\n  const [triggerId, setTriggerId] = createSignal<string>();\n  const [contentId, setContentId] = createSignal<string>();\n\n  const [triggerRef, setTriggerRef] = createSignal<HTMLElement>();\n  const [contentRef, setContentRef] = createSignal<HTMLDivElement>();\n\n  const [focusStrategy, setFocusStrategy] = createSignal<FocusStrategy | boolean>(true);\n  const [currentPlacement, setCurrentPlacement] = createSignal<Placement>(others.placement!);\n  const [nestedMenus, setNestedMenus] = createSignal<Element[]>([]);\n\n  const [items, setItems] = createSignal<CollectionItemWithRef[]>([]);\n\n  const { DomCollectionProvider } = createDomCollection({ items, onItemsChange: setItems });\n\n  const disclosureState = createDisclosureState({\n    open: () => local.open,\n    defaultOpen: () => local.defaultOpen,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n  });\n\n  const contentPresence = createPresence(\n    () => rootContext.forceMount() || disclosureState.isOpen()\n  );\n\n  const listState = createListState({\n    selectionMode: \"none\",\n    dataSource: items,\n  });\n\n  const open = (focusStrategy: FocusStrategy | boolean) => {\n    setFocusStrategy(focusStrategy);\n    disclosureState.open();\n  };\n\n  const close = (recursively = false) => {\n    disclosureState.close();\n\n    if (recursively && parentMenuContext) {\n      parentMenuContext.close(true);\n    }\n  };\n\n  const toggle = (focusStrategy: FocusStrategy | boolean) => {\n    setFocusStrategy(focusStrategy);\n    disclosureState.toggle();\n  };\n\n  const focusContent = () => {\n    const content = contentRef();\n\n    if (content) {\n      focusWithoutScrolling(content);\n      listState.selectionManager().setFocused(true);\n      listState.selectionManager().setFocusedKey(undefined);\n    }\n  };\n\n  const registerNestedMenu = (element: Element) => {\n    setNestedMenus(prev => [...prev, element]);\n\n    const parentUnregister = parentMenuContext?.registerNestedMenu(element);\n\n    return () => {\n      setNestedMenus(prev => removeItemFromArray(prev, element));\n      parentUnregister?.();\n    };\n  };\n\n  const isPointerMovingToSubmenu = (e: PointerEvent) => {\n    const isMovingTowards = pointerDir === pointerGraceIntent?.side;\n    return isMovingTowards && isPointerInGraceArea(e, pointerGraceIntent?.area);\n  };\n\n  const onItemEnter = (e: PointerEvent) => {\n    if (isPointerMovingToSubmenu(e)) {\n      e.preventDefault();\n    }\n  };\n\n  const onItemLeave = (e: PointerEvent) => {\n    if (isPointerMovingToSubmenu(e)) {\n      return;\n    }\n\n    focusContent();\n  };\n\n  const onTriggerLeave = (e: PointerEvent) => {\n    if (isPointerMovingToSubmenu(e)) {\n      e.preventDefault();\n    }\n  };\n\n  // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n  createHideOutside({\n    isDisabled: () => {\n      // Apply only on root menu when opened and modal.\n      return !(parentMenuContext == null && disclosureState.isOpen() && rootContext.isModal());\n    },\n    targets: () => [contentRef(), ...nestedMenus()].filter(Boolean) as Element[],\n  });\n\n  createEffect(() => {\n    const contentEl = contentRef();\n\n    if (!contentEl || !parentMenuContext) {\n      return;\n    }\n\n    const parentUnregister = parentMenuContext.registerNestedMenu(contentEl);\n\n    onCleanup(() => {\n      parentUnregister();\n    });\n  });\n\n  const dataset: Accessor<MenuDataSet> = createMemo(() => ({\n    \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n    \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n  }));\n\n  const context: MenuContextValue = {\n    dataset,\n    isOpen: disclosureState.isOpen,\n    contentPresence,\n    currentPlacement,\n    pointerGraceTimeoutId: () => pointerGraceTimeoutId,\n    autoFocus: focusStrategy,\n    listState: () => listState,\n    parentMenuContext: () => parentMenuContext,\n    triggerRef,\n    contentRef,\n    triggerId,\n    contentId,\n    setTriggerRef,\n    setContentRef,\n    open,\n    close,\n    toggle,\n    focusContent,\n    onItemEnter,\n    onItemLeave,\n    onTriggerLeave,\n    setPointerDir: (dir: Side) => (pointerDir = dir),\n    setPointerGraceTimeoutId: (id: number) => (pointerGraceTimeoutId = id),\n    setPointerGraceIntent: (intent: GraceIntent | null) => (pointerGraceIntent = intent),\n    registerNestedMenu,\n    registerItemToParentDomCollection: parentDomCollectionContext?.registerItem,\n    registerTriggerId: createRegisterId(setTriggerId),\n    registerContentId: createRegisterId(setContentId),\n  };\n\n  return (\n    <DomCollectionProvider>\n      <MenuContext.Provider value={context}>\n        <PopperRoot\n          anchorRef={triggerRef}\n          contentRef={contentRef}\n          onCurrentPlacementChange={setCurrentPlacement}\n          {...others}\n        />\n      </MenuContext.Provider>\n    </DomCollectionProvider>\n  );\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface MenuItemDataSet {\n  \"data-indeterminate\": string | undefined;\n  \"data-checked\": string | undefined;\n  \"data-disabled\": string | undefined;\n  \"data-highlighted\": string | undefined;\n}\n\nexport interface MenuItemContextValue {\n  isChecked: Accessor<boolean | undefined>;\n  dataset: Accessor<MenuItemDataSet>;\n  setLabelRef: (el: HTMLElement) => void;\n  generateId: (part: string) => string;\n  registerLabel: (id: string) => () => void;\n  registerDescription: (id: string) => () => void;\n}\n\nexport const MenuItemContext = createContext<MenuItemContextValue>();\n\nexport function useMenuItemContext() {\n  const context = useContext(MenuItemContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useMenuItemContext` must be used within a `Menu.Item` component\");\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\n\nimport {\n  callHandler,\n  composeEventHandlers,\n  createGenerateId,\n  focusWithoutScrolling,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { Accessor, createMemo, createSignal, createUniqueId, JSX, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { CollectionItemWithRef, createRegisterId } from \"../primitives\";\nimport { createDomCollectionItem } from \"../primitives/create-dom-collection\";\nimport { createSelectableItem } from \"../selection\";\nimport { useMenuContext } from \"./menu-context\";\nimport { MenuItemContext, MenuItemContextValue, MenuItemDataSet } from \"./menu-item.context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n\nexport interface MenuItemBaseOptions extends AsChildProp {\n  /**\n   * Optional text used for typeahead purposes.\n   * By default, the typeahead behavior will use the .textContent of the Menu.ItemLabel part\n   * if provided, or fallback to the .textContent of the Menu.Item.\n   * Use this when the content is complex, or you have non-textual content inside.\n   */\n  textValue?: string;\n\n  /** Whether the menu item is disabled. */\n  disabled?: boolean;\n\n  /** Whether the menu item is checked (item radio or item checkbox). */\n  checked?: boolean;\n\n  /**\n   * When using menu item checkbox, whether the checked state is in an indeterminate mode.\n   * Indeterminism is presentational only.\n   * The indeterminate visual representation remains regardless of user interaction.\n   */\n  indeterminate?: boolean;\n\n  /** Whether the menu should close when the menu item is activated/selected. */\n  closeOnSelect?: boolean;\n\n  /** Event handler called when the user selects an item (via mouse or keyboard). */\n  onSelect?: () => void;\n}\n\nexport interface MenuItemBaseProps extends OverrideComponentProps<\"div\", MenuItemBaseOptions> {}\n\n/**\n * Base component for a menu item.\n */\nexport function MenuItemBase(props: MenuItemBaseProps) {\n  let ref: HTMLDivElement | undefined;\n\n  const rootContext = useMenuRootContext();\n  const menuContext = useMenuContext();\n\n  props = mergeDefaultProps(\n    {\n      id: rootContext.generateId(`item-${createUniqueId()}`),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"textValue\",\n    \"disabled\",\n    \"closeOnSelect\",\n    \"checked\",\n    \"indeterminate\",\n    \"onSelect\",\n    \"onPointerMove\",\n    \"onPointerLeave\",\n    \"onPointerDown\",\n    \"onPointerUp\",\n    \"onClick\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocus\",\n  ]);\n\n  const [labelId, setLabelId] = createSignal<string>();\n  const [descriptionId, setDescriptionId] = createSignal<string>();\n  const [labelRef, setLabelRef] = createSignal<HTMLElement>();\n\n  const selectionManager = () => menuContext.listState().selectionManager();\n\n  const key = () => others.id!;\n\n  const isHighlighted = () => selectionManager().focusedKey() === key();\n\n  const onSelect = () => {\n    local.onSelect?.();\n\n    if (local.closeOnSelect) {\n      menuContext.close(true);\n    }\n  };\n\n  createDomCollectionItem<CollectionItemWithRef>({\n    getItem: () => ({\n      ref: () => ref,\n      type: \"item\",\n      key: key(),\n      textValue: local.textValue ?? labelRef()?.textContent ?? ref?.textContent ?? \"\",\n      disabled: local.disabled ?? false,\n    }),\n  });\n\n  const selectableItem = createSelectableItem(\n    {\n      key,\n      selectionManager: selectionManager,\n      shouldSelectOnPressUp: true,\n      allowsDifferentPressOrigin: true,\n      disabled: () => local.disabled,\n    },\n    () => ref\n  );\n\n  /**\n   * We focus items on `pointerMove` to achieve the following:\n   *\n   * - Mouse over an item (it focuses)\n   * - Leave mouse where it is and use keyboard to focus a different item\n   * - Wiggle mouse without it leaving previously focused item\n   * - Previously focused item should re-focus\n   *\n   * If we used `mouseOver`/`mouseEnter` it would not re-focus when the mouse\n   * wiggles. This is to match native menu implementation.\n   */\n  const onPointerMove: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerMove);\n\n    if (e.pointerType !== \"mouse\") {\n      return;\n    }\n\n    if (local.disabled) {\n      menuContext.onItemLeave(e);\n    } else {\n      menuContext.onItemEnter(e);\n\n      if (!e.defaultPrevented) {\n        focusWithoutScrolling(e.currentTarget);\n        menuContext.listState().selectionManager().setFocused(true);\n        menuContext.listState().selectionManager().setFocusedKey(key());\n      }\n    }\n  };\n\n  const onPointerLeave: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerLeave);\n\n    if (e.pointerType !== \"mouse\") {\n      return;\n    }\n\n    menuContext.onItemLeave(e);\n  };\n\n  const onPointerUp: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerUp);\n\n    // Selection occurs on pointer up (main button).\n    if (!local.disabled && e.button === 0) {\n      onSelect();\n    }\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    // Ignore repeating events, which may have started on the menu trigger before moving\n    // focus to the menu item. We want to wait for a second complete key press sequence.\n    if (e.repeat) {\n      return;\n    }\n\n    if (local.disabled) {\n      return;\n    }\n\n    switch (e.key) {\n      case \"Enter\":\n      case \" \":\n        onSelect();\n        break;\n    }\n  };\n\n  const ariaChecked = createMemo(() => {\n    if (local.indeterminate) {\n      return \"mixed\";\n    }\n\n    if (local.checked == null) {\n      return undefined;\n    }\n\n    return local.checked;\n  });\n\n  const dataset: Accessor<MenuItemDataSet> = createMemo(() => ({\n    \"data-indeterminate\": local.indeterminate ? \"\" : undefined,\n    \"data-checked\": local.checked && !local.indeterminate ? \"\" : undefined,\n    \"data-disabled\": local.disabled ? \"\" : undefined,\n    \"data-highlighted\": isHighlighted() ? \"\" : undefined,\n  }));\n\n  const context: MenuItemContextValue = {\n    isChecked: () => local.checked,\n    dataset,\n    setLabelRef,\n    generateId: createGenerateId(() => others.id!),\n    registerLabel: createRegisterId(setLabelId),\n    registerDescription: createRegisterId(setDescriptionId),\n  };\n\n  return (\n    <MenuItemContext.Provider value={context}>\n      <Polymorphic\n        as=\"div\"\n        ref={mergeRefs(el => (ref = el), local.ref)}\n        tabIndex={selectableItem.tabIndex()}\n        aria-checked={ariaChecked()}\n        aria-disabled={local.disabled}\n        aria-labelledby={labelId()}\n        aria-describedby={descriptionId()}\n        data-key={selectableItem.dataKey()}\n        onPointerDown={composeEventHandlers([local.onPointerDown, selectableItem.onPointerDown])}\n        onPointerUp={composeEventHandlers([onPointerUp, selectableItem.onPointerUp])}\n        onClick={composeEventHandlers([local.onClick, selectableItem.onClick])}\n        onKeyDown={composeEventHandlers([onKeyDown, selectableItem.onKeyDown])}\n        onMouseDown={composeEventHandlers([local.onMouseDown, selectableItem.onMouseDown])}\n        onFocus={composeEventHandlers([local.onFocus, selectableItem.onFocus])}\n        onPointerMove={onPointerMove}\n        onPointerLeave={onPointerLeave}\n        {...dataset()}\n        {...others}\n      />\n    </MenuItemContext.Provider>\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport { createToggleState } from \"../primitives\";\nimport { MenuItemBase, MenuItemBaseOptions } from \"./menu-item-base\";\n\nexport interface MenuCheckboxItemOptions extends Omit<MenuItemBaseOptions, \"checked\"> {\n  /** The controlled checked state of the menu item checkbox. */\n  checked?: boolean;\n\n  /**\n   * The default checked state when initially rendered.\n   * Useful when you do not need to control the checked state.\n   */\n  defaultChecked?: boolean;\n\n  /** Event handler called when the checked state of the menu item checkbox changes. */\n  onChange?: (isChecked: boolean) => void;\n}\n\nexport interface MenuCheckboxItemProps\n  extends OverrideComponentProps<\"div\", MenuCheckboxItemOptions> {}\n\n/**\n * An item that can be controlled and rendered like a checkbox.\n */\nexport function MenuCheckboxItem(props: MenuCheckboxItemProps) {\n  props = mergeDefaultProps(\n    {\n      closeOnSelect: false,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"checked\", \"defaultChecked\", \"onChange\", \"onSelect\"]);\n\n  const state = createToggleState({\n    isSelected: () => local.checked,\n    defaultIsSelected: () => local.defaultChecked,\n    onSelectedChange: checked => local.onChange?.(checked),\n    isDisabled: () => others.disabled,\n  });\n\n  const onSelect = () => {\n    local.onSelect?.();\n    state.toggle();\n  };\n\n  return (\n    <MenuItemBase\n      role=\"menuitemcheckbox\"\n      checked={state.isSelected()}\n      onSelect={onSelect}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\n\nimport {\n  callHandler,\n  composeEventHandlers,\n  contains,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createEffect, createUniqueId, JSX, onCleanup, Show, splitProps } from \"solid-js\";\n\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { createSelectableList } from \"../list\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { PopperPositioner } from \"../popper\";\nimport {\n  createFocusScope,\n  FocusOutsideEvent,\n  InteractOutsideEvent,\n  PointerDownOutsideEvent,\n} from \"../primitives\";\nimport { useMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n\nexport interface MenuContentBaseOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n\n  /**\n   * Event handler called when focus moves into the component after opening.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onOpenAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when focus moves to the trigger after closing.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onCloseAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when the escape key is down.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n\n  /**\n   * Event handler called when a pointer event occurs outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n\n  /**\n   * Event handler called when the focus moves outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n\n  /**\n   * Event handler called when an interaction (pointer or focus event) happens outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onInteractOutside?: (event: InteractOutsideEvent) => void;\n}\n\nexport interface MenuContentBaseProps\n  extends OverrideComponentProps<\"div\", MenuContentBaseOptions> {}\n\nexport function MenuContentBase(props: MenuContentBaseProps) {\n  let ref: HTMLElement | undefined;\n\n  const rootContext = useMenuRootContext();\n  const context = useMenuContext();\n\n  props = mergeDefaultProps(\n    {\n      id: rootContext.generateId(`content-${createUniqueId()}`),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"id\",\n    \"style\",\n    \"onOpenAutoFocus\",\n    \"onCloseAutoFocus\",\n    \"onEscapeKeyDown\",\n    \"onFocusOutside\",\n    \"onPointerEnter\",\n    \"onPointerMove\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocusIn\",\n    \"onFocusOut\",\n  ]);\n\n  let lastPointerX = 0;\n\n  // Only the root menu can apply \"modal\" behavior (block pointer-events and trap focus).\n  const isRootModalContent = () => {\n    return context.parentMenuContext() == null && rootContext.isModal();\n  };\n\n  const selectableList = createSelectableList(\n    {\n      selectionManager: context.listState().selectionManager,\n      collection: context.listState().collection,\n      autoFocus: context.autoFocus,\n      deferAutoFocus: true, // ensure all menu items are mounted and collection is not empty before trying to autofocus.\n      shouldFocusWrap: true,\n      disallowTypeAhead: () => !context.listState().selectionManager().isFocused(),\n    },\n    () => ref\n  );\n\n  createFocusScope(\n    {\n      trapFocus: () => isRootModalContent() && context.isOpen(),\n      onMountAutoFocus: local.onOpenAutoFocus,\n      onUnmountAutoFocus: local.onCloseAutoFocus,\n    },\n    () => ref\n  );\n\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    // Submenu key events bubble through portals. We only care about keys in this menu.\n    if (!contains(e.currentTarget, e.target)) {\n      return;\n    }\n\n    // Menus should not be navigated using tab key, so we prevent it.\n    if (e.key === \"Tab\" && context.isOpen()) {\n      e.preventDefault();\n    }\n  };\n\n  const onEscapeKeyDown = (e: KeyboardEvent) => {\n    local.onEscapeKeyDown?.(e);\n\n    // `createSelectableList` prevent escape key down,\n    // which prevent our `onDismiss` in `DismissableLayer` to run,\n    // so we force \"close on escape\" here.\n    context.close(true);\n  };\n\n  const onFocusOutside = (e: FocusOutsideEvent) => {\n    local.onFocusOutside?.(e);\n\n    if (rootContext.isModal()) {\n      // When focus is trapped, a `focusout` event may still happen.\n      // We make sure we don't trigger our `onDismiss` in such case.\n      e.preventDefault();\n    }\n  };\n\n  const onPointerEnter: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerEnter);\n\n    if (!context.isOpen()) {\n      return;\n    }\n\n    // Remove visual focus from parent menu content.\n    context.parentMenuContext()?.listState().selectionManager().setFocused(false);\n    context.parentMenuContext()?.listState().selectionManager().setFocusedKey(undefined);\n  };\n\n  const onPointerMove: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerMove);\n\n    if (e.pointerType !== \"mouse\") {\n      return;\n    }\n\n    const target = e.target as HTMLElement;\n    const pointerXHasChanged = lastPointerX !== e.clientX;\n\n    // We don't use `event.movementX` for this check because Safari will\n    // always return `0` on a pointer event.\n    if (contains(e.currentTarget, target) && pointerXHasChanged) {\n      context.setPointerDir(e.clientX > lastPointerX ? \"right\" : \"left\");\n      lastPointerX = e.clientX;\n    }\n  };\n\n  createEffect(() => onCleanup(context.registerContentId(local.id!)));\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer\n          ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n            ref = el;\n          }, local.ref)}\n          role=\"menu\"\n          id={local.id}\n          tabIndex={selectableList.tabIndex()}\n          disableOutsidePointerEvents={isRootModalContent() && context.isOpen()}\n          excludedElements={[context.triggerRef]}\n          bypassTopMostLayerCheck\n          style={{\n            \"--kb-menu-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n          }}\n          aria-labelledby={context.triggerId()}\n          onEscapeKeyDown={onEscapeKeyDown}\n          onFocusOutside={onFocusOutside}\n          onDismiss={context.close}\n          onKeyDown={composeEventHandlers([local.onKeyDown, selectableList.onKeyDown, onKeyDown])}\n          onMouseDown={composeEventHandlers([local.onMouseDown, selectableList.onMouseDown])}\n          onFocusIn={composeEventHandlers([local.onFocusIn, selectableList.onFocusIn])}\n          onFocusOut={composeEventHandlers([local.onFocusOut, selectableList.onFocusOut])}\n          onPointerEnter={onPointerEnter}\n          onPointerMove={onPointerMove}\n          {...context.dataset()}\n          {...others}\n        />\n      </PopperPositioner>\n    </Show>\n  );\n}\n","import { mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport { createPreventScroll } from \"../primitives\";\nimport { MenuContentBase, MenuContentBaseOptions } from \"./menu-content-base\";\nimport { useMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n\nexport interface MenuContentOptions extends MenuContentBaseOptions {}\n\nexport interface MenuContentProps extends OverrideComponentProps<\"div\", MenuContentOptions> {}\n\nexport function MenuContent(props: MenuContentProps) {\n  let ref: HTMLElement | undefined;\n\n  const rootContext = useMenuRootContext();\n  const context = useMenuContext();\n\n  const [local, others] = splitProps(props, [\"ref\"]);\n\n  createPreventScroll({\n    ownerRef: () => ref,\n    isDisabled: () => !(context.isOpen() && (rootContext.isModal() || rootContext.preventScroll())),\n  });\n\n  return <MenuContentBase ref={mergeRefs(el => (ref = el), local.ref)} {...others} />;\n}\n","import { createContext, useContext } from \"solid-js\";\n\nexport interface MenuGroupContextValue {\n  generateId: (part: string) => string;\n  registerLabelId: (id: string) => () => void;\n}\n\nexport const MenuGroupContext = createContext<MenuGroupContextValue>();\n\nexport function useMenuGroupContext() {\n  const context = useContext(MenuGroupContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/e6808d1b5e80cef7af7e63974f658043593b2e1e/packages/@react-aria/menu/src/useMenuSection.ts\n */\n\nimport { createGenerateId, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createSignal, createUniqueId } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createRegisterId } from \"../primitives\";\nimport { MenuGroupContext, MenuGroupContextValue } from \"./menu-group-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n\nexport interface MenuGroupProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * A container used to group multiple `Menu.Item`s.\n */\nexport function MenuGroup(props: MenuGroupProps) {\n  const rootContext = useMenuRootContext();\n\n  props = mergeDefaultProps(\n    {\n      id: rootContext.generateId(`group-${createUniqueId()}`),\n    },\n    props\n  );\n\n  const [labelId, setLabelId] = createSignal<string>();\n\n  const context: MenuGroupContextValue = {\n    generateId: createGenerateId(() => props.id!),\n    registerLabelId: createRegisterId(setLabelId),\n  };\n\n  return (\n    <MenuGroupContext.Provider value={context}>\n      <Polymorphic as=\"div\" role=\"group\" aria-labelledby={labelId()} {...props} />\n    </MenuGroupContext.Provider>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/e6808d1b5e80cef7af7e63974f658043593b2e1e/packages/@react-aria/menu/src/useMenuSection.ts\n */\n\nimport { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useMenuGroupContext } from \"./menu-group-context\";\n\nexport interface MenuGroupLabelProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * A component used to render the label of a `Menu.Group`.\n * It won't be focusable using arrow keys.\n */\nexport function MenuGroupLabel(props: MenuGroupLabelProps) {\n  const context = useMenuGroupContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"label\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerLabelId(local.id!)));\n\n  return <Polymorphic as=\"span\" id={local.id} aria-hidden=\"true\" {...others} />;\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useMenuContext } from \"./menu-context\";\n\nexport interface MenuIconProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * A small icon often displayed inside the menu trigger as a visual affordance for the fact it can be open.\n * It renders a `` by default, but you can use your own icon by providing a `children`.\n */\nexport function MenuIcon(props: MenuIconProps) {\n  const context = useMenuContext();\n\n  props = mergeDefaultProps({ children: \"\" }, props);\n\n  return <Polymorphic as=\"span\" aria-hidden=\"true\" {...context.dataset()} {...props} />;\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { MenuItemBase, MenuItemBaseOptions } from \"./menu-item-base\";\n\nexport interface MenuItemOptions extends Omit<MenuItemBaseOptions, \"checked\" | \"indeterminate\"> {}\n\nexport interface MenuItemProps extends OverrideComponentProps<\"div\", MenuItemOptions> {}\n\n/**\n * An item of the menu.\n */\nexport function MenuItem(props: MenuItemProps) {\n  return <MenuItemBase role=\"menuitem\" closeOnSelect {...props} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/listbox/src/useOption.ts\n */\n\nimport { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useMenuItemContext } from \"./menu-item.context\";\n\nexport interface MenuItemDescriptionProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * An optional accessible description to be announced for the menu item.\n * Useful for menu items that have more complex content (e.g. icons, multiple lines of text, etc.)\n */\nexport function MenuItemDescription(props: MenuItemDescriptionProps) {\n  const context = useMenuItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"description\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerDescription(local.id!)));\n\n  return <Polymorphic as=\"div\" id={local.id} {...context.dataset()} {...others} />;\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Show, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useMenuItemContext } from \"./menu-item.context\";\n\nexport interface MenuItemIndicatorOptions extends AsChildProp {\n  /**\n   * Used to force mounting when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface MenuItemIndicatorProps\n  extends OverrideComponentProps<\"div\", MenuItemIndicatorOptions> {}\n\n/**\n * The visual indicator rendered when the parent menu `CheckboxItem` or `RadioItem` is checked.\n * You can style this element directly, or you can use it as a wrapper to put an icon into, or both.\n */\nexport function MenuItemIndicator(props: MenuItemIndicatorProps) {\n  const context = useMenuItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"indicator\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"forceMount\"]);\n\n  return (\n    <Show when={local.forceMount || context.isChecked()}>\n      <Polymorphic as=\"div\" {...context.dataset()} {...others} />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/listbox/src/useOption.ts\n */\n\nimport { mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useMenuItemContext } from \"./menu-item.context\";\n\nexport interface MenuItemLabelProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * An accessible label to be announced for the menu item.\n * Useful for menu items that have more complex content (e.g. icons, multiple lines of text, etc.)\n */\nexport function MenuItemLabel(props: MenuItemLabelProps) {\n  const context = useMenuItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"label\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\", \"id\"]);\n\n  createEffect(() => onCleanup(context.registerLabel(local.id!)));\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      ref={mergeRefs(context.setLabelRef, local.ref)}\n      id={local.id}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { ComponentProps, Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport { useMenuContext } from \"./menu-context\";\n\nexport interface MenuPortalProps extends ComponentProps<typeof Portal> {}\n\n/**\n * Portals its children into the `body` when the menu is open.\n */\nexport function MenuPortal(props: MenuPortalProps) {\n  const context = useMenuContext();\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <Portal {...props} />\n    </Show>\n  );\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface MenuRadioGroupContextValue {\n  isDisabled: Accessor<boolean | undefined>;\n  isSelectedValue: (value: string) => boolean;\n  setSelectedValue: (value: string) => void;\n}\n\nexport const MenuRadioGroupContext = createContext<MenuRadioGroupContextValue>();\n\nexport function useMenuRadioGroupContext() {\n  const context = useContext(MenuRadioGroupContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-aria/radio/src/useRadioGroup.ts\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-stately/radio/src/useRadioGroupState.ts\n */\n\nimport { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createUniqueId, splitProps } from \"solid-js\";\n\nimport { AsChildProp } from \"../polymorphic\";\nimport { createControllableSignal } from \"../primitives\";\nimport { MenuGroup } from \"./menu-group\";\nimport { MenuRadioGroupContext, MenuRadioGroupContextValue } from \"./menu-radio-group-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n\nexport interface MenuRadioGroupOptions extends AsChildProp {\n  /** The controlled value of the item radio to check. */\n  value?: string;\n\n  /**\n   * The value of the item radio that should be checked when initially rendered.\n   * Useful when you do not need to control the state of the menu radio group.\n   */\n  defaultValue?: string;\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: string) => void;\n\n  /** Whether the menu radio group is disabled. */\n  disabled?: boolean;\n}\n\nexport interface MenuRadioGroupProps extends OverrideComponentProps<\"div\", MenuRadioGroupOptions> {}\n\n/**\n * A container used to group multiple `Menu.RadioItem`s and manage the selection.\n */\nexport function MenuRadioGroup(props: MenuRadioGroupProps) {\n  const rootContext = useMenuRootContext();\n\n  const defaultId = rootContext.generateId(`radiogroup-${createUniqueId()}`);\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"value\", \"defaultValue\", \"onChange\", \"disabled\"]);\n\n  const [selected, setSelected] = createControllableSignal<string>({\n    value: () => local.value,\n    defaultValue: () => local.defaultValue,\n    onChange: value => local.onChange?.(value),\n  });\n\n  const context: MenuRadioGroupContextValue = {\n    isDisabled: () => local.disabled,\n    isSelectedValue: (value: string) => value === selected(),\n    setSelectedValue: setSelected,\n  };\n\n  return (\n    <MenuRadioGroupContext.Provider value={context}>\n      <MenuGroup {...others} />\n    </MenuRadioGroupContext.Provider>\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport { MenuItemBase, MenuItemBaseOptions } from \"./menu-item-base\";\nimport { useMenuRadioGroupContext } from \"./menu-radio-group-context\";\n\nexport interface MenuRadioItemOptions\n  extends Omit<MenuItemBaseOptions, \"checked\" | \"indeterminate\"> {\n  /** The value of the menu item radio. */\n  value: string;\n}\n\nexport interface MenuRadioItemProps extends OverrideComponentProps<\"div\", MenuRadioItemOptions> {}\n\n/**\n * An item that can be controlled and rendered like a radio.\n */\nexport function MenuRadioItem(props: MenuRadioItemProps) {\n  const context = useMenuRadioGroupContext();\n\n  props = mergeDefaultProps({ closeOnSelect: false }, props);\n\n  const [local, others] = splitProps(props, [\"value\", \"onSelect\"]);\n\n  const onSelect = () => {\n    local.onSelect?.();\n    context.setSelectedValue(local.value);\n  };\n\n  return (\n    <MenuItemBase\n      role=\"menuitemradio\"\n      checked={context.isSelectedValue(local.value)}\n      onSelect={onSelect}\n      {...others}\n    />\n  );\n}\n","import { createGenerateId, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createUniqueId, ParentProps, splitProps } from \"solid-js\";\n\nimport { createDisclosureState } from \"../primitives\";\nimport { Menu, MenuOptions } from \"./menu\";\nimport { MenuRootContext, MenuRootContextValue } from \"./menu-root-context\";\n\nexport interface MenuRootOptions extends MenuOptions {\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n\n  /**\n   * Whether the menu should be the only visible content for screen readers.\n   * When set to `true`:\n   * - interaction with outside elements will be disabled.\n   * - scroll will be locked.\n   * - focus will be locked inside the menu content.\n   * - elements outside the menu content will not be visible for screen readers.\n   */\n  modal?: boolean;\n\n  /** Whether the scroll should be locked even if the menu is not modal. */\n  preventScroll?: boolean;\n\n  /**\n   * Used to force mounting the menu (portal, positioner and content) when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface MenuRootProps extends ParentProps<MenuRootOptions> {}\n\n/**\n * Root component for a menu, provide context for its children.\n * Used to build dropdown menu, context menu and menubar.\n */\nexport function MenuRoot(props: MenuRootProps) {\n  const defaultId = `menu-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      modal: true,\n      preventScroll: false,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"id\",\n    \"modal\",\n    \"preventScroll\",\n    \"forceMount\",\n    \"open\",\n    \"defaultOpen\",\n    \"onOpenChange\",\n  ]);\n\n  const disclosureState = createDisclosureState({\n    open: () => local.open,\n    defaultOpen: () => local.defaultOpen,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n  });\n\n  const context: MenuRootContextValue = {\n    isModal: () => local.modal ?? true,\n    preventScroll: () => local.preventScroll ?? false,\n    forceMount: () => local.forceMount ?? false,\n    generateId: createGenerateId(() => local.id!),\n  };\n\n  return (\n    <MenuRootContext.Provider value={context}>\n      <Menu open={disclosureState.isOpen()} onOpenChange={disclosureState.setIsOpen} {...others} />\n    </MenuRootContext.Provider>\n  );\n}\n","import { ParentProps } from \"solid-js\";\n\nimport { useLocale } from \"../i18n\";\nimport { Menu, MenuOptions } from \"./menu\";\n\nexport interface MenuSubOptions extends Omit<MenuOptions, \"placement\" | \"flip\" | \"sameWidth\"> {}\n\nexport interface MenuSubProps extends ParentProps<MenuSubOptions> {}\n\n/**\n * Contains all the parts of a submenu.\n */\nexport function MenuSub(props: MenuSubProps) {\n  const { direction } = useLocale();\n\n  return <Menu placement={direction() === \"rtl\" ? \"left-start\" : \"right-start\"} flip {...props} />;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\n\nimport {\n  callHandler,\n  contains,\n  focusWithoutScrolling,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport { Direction, useLocale } from \"../i18n\";\nimport { FocusOutsideEvent } from \"../primitives\";\nimport { MenuContentBase, MenuContentBaseOptions } from \"./menu-content-base\";\nimport { useMenuContext } from \"./menu-context\";\n\nexport interface MenuSubContentOptions\n  extends Omit<MenuContentBaseOptions, \"onOpenAutoFocus\" | \"onCloseAutoFocus\"> {}\n\nconst SUB_CLOSE_KEYS: Record<Direction, string[]> = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"],\n};\n\nexport interface MenuSubContentProps extends OverrideComponentProps<\"div\", MenuSubContentOptions> {}\n\n/**\n * The component that pops out when a submenu is open.\n */\nexport function MenuSubContent(props: MenuSubContentProps) {\n  const context = useMenuContext();\n\n  const [local, others] = splitProps(props, [\"onFocusOutside\", \"onKeyDown\", \"onFocusOut\"]);\n\n  const { direction } = useLocale();\n\n  const onOpenAutoFocus = (e: Event) => {\n    // when opening a submenu, focus content for keyboard users only (handled by `MenuSubTrigger`).\n    e.preventDefault();\n  };\n\n  const onCloseAutoFocus = (e: Event) => {\n    // The menu might close because of focusing another menu item in the parent menu.\n    // We don't want it to refocus the trigger in that case, so we handle trigger focus ourselves.\n    e.preventDefault();\n  };\n\n  const onFocusOutside = (e: FocusOutsideEvent) => {\n    local.onFocusOutside?.(e);\n\n    const target = e.target as HTMLElement | null;\n\n    // We prevent closing when the trigger is focused to avoid triggering a re-open animation\n    // on pointer interaction.\n    if (!contains(context.triggerRef(), target)) {\n      context.close();\n    }\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    // Submenu key events bubble through portals. We only care about keys in this menu.\n    const isKeyDownInside = contains(e.currentTarget, e.target);\n    const isCloseKey = SUB_CLOSE_KEYS[direction()].includes(e.key);\n    const isSubMenu = context.parentMenuContext() != null;\n\n    if (isKeyDownInside && isCloseKey && isSubMenu) {\n      context.close();\n\n      // We focus manually because we prevented it in `onCloseAutoFocus`.\n      focusWithoutScrolling(context.triggerRef());\n    }\n  };\n\n  return (\n    <MenuContentBase\n      onOpenAutoFocus={onOpenAutoFocus}\n      onCloseAutoFocus={onCloseAutoFocus}\n      onFocusOutside={onFocusOutside}\n      onKeyDown={onKeyDown}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/menu/src/useMenuSubTrigger.ts\n *\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\n\nimport {\n  callHandler,\n  composeEventHandlers,\n  focusWithoutScrolling,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createEffect, createUniqueId, JSX, on, onCleanup, splitProps } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n\nimport { Direction, useLocale } from \"../i18n\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createSelectableItem } from \"../selection\";\nimport { useMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\nimport { getPointerGraceArea, Side } from \"./utils\";\n\nexport interface MenuSubTriggerOptions extends AsChildProp {\n  /**\n   * Optional text used for typeahead purposes.\n   * By default, the typeahead behavior will use the .textContent of the Menu.SubTrigger.\n   * Use this when the content is complex, or you have non-textual content inside.\n   */\n  textValue?: string;\n\n  /** Whether the sub menu trigger is disabled. */\n  disabled?: boolean;\n}\n\nconst SELECTION_KEYS = [\"Enter\", \" \"];\nconst SUB_OPEN_KEYS: Record<Direction, string[]> = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"],\n};\n\nexport interface MenuSubTriggerProps extends OverrideComponentProps<\"div\", MenuSubTriggerOptions> {}\n\n/**\n * An item that opens a submenu.\n */\nexport function MenuSubTrigger(props: MenuSubTriggerProps) {\n  let ref: HTMLDivElement | undefined;\n\n  const rootContext = useMenuRootContext();\n  const context = useMenuContext();\n\n  props = mergeDefaultProps(\n    {\n      id: rootContext.generateId(`sub-trigger-${createUniqueId()}`),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"id\",\n    \"textValue\",\n    \"disabled\",\n    \"onPointerMove\",\n    \"onPointerLeave\",\n    \"onPointerDown\",\n    \"onPointerUp\",\n    \"onClick\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocus\",\n  ]);\n\n  let openTimeoutId: number | null = null;\n\n  const clearOpenTimeout = () => {\n    if (isServer) {\n      return;\n    }\n\n    if (openTimeoutId) {\n      window.clearTimeout(openTimeoutId);\n    }\n\n    openTimeoutId = null;\n  };\n\n  const { direction } = useLocale();\n\n  const key = () => local.id!;\n\n  const parentSelectionManager = () => {\n    const parentMenuContext = context.parentMenuContext();\n\n    if (parentMenuContext == null) {\n      throw new Error(\"[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component\");\n    }\n\n    return parentMenuContext.listState().selectionManager();\n  };\n\n  const collection = () => context.listState().collection();\n\n  const isHighlighted = () => parentSelectionManager().focusedKey() === key();\n\n  const selectableItem = createSelectableItem(\n    {\n      key,\n      selectionManager: parentSelectionManager,\n      shouldSelectOnPressUp: true,\n      allowsDifferentPressOrigin: true,\n      disabled: () => local.disabled,\n    },\n    () => ref\n  );\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    if (!context.isOpen() && !local.disabled) {\n      context.open(true);\n    }\n  };\n\n  const onPointerMove: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerMove);\n\n    if (e.pointerType !== \"mouse\") {\n      return;\n    }\n\n    const parentMenuContext = context.parentMenuContext();\n\n    parentMenuContext?.onItemEnter(e);\n\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    if (local.disabled) {\n      parentMenuContext?.onItemLeave(e);\n      return;\n    }\n\n    if (!context.isOpen() && !openTimeoutId) {\n      context.parentMenuContext()?.setPointerGraceIntent(null);\n\n      openTimeoutId = window.setTimeout(() => {\n        context.open(false);\n        clearOpenTimeout();\n      }, 100);\n    }\n\n    parentMenuContext?.onItemEnter(e);\n\n    if (!e.defaultPrevented) {\n      // Remove visual focus from sub menu content.\n      if (context.listState().selectionManager().isFocused()) {\n        context.listState().selectionManager().setFocused(false);\n        context.listState().selectionManager().setFocusedKey(undefined);\n      }\n\n      // Restore visual focus to parent menu content.\n      focusWithoutScrolling(e.currentTarget);\n      parentMenuContext?.listState().selectionManager().setFocused(true);\n      parentMenuContext?.listState().selectionManager().setFocusedKey(key());\n    }\n  };\n\n  const onPointerLeave: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerLeave);\n\n    if (e.pointerType !== \"mouse\") {\n      return;\n    }\n\n    clearOpenTimeout();\n\n    const parentMenuContext = context.parentMenuContext();\n\n    const contentEl = context.contentRef();\n\n    if (contentEl) {\n      parentMenuContext?.setPointerGraceIntent({\n        area: getPointerGraceArea(context.currentPlacement(), e, contentEl),\n        // Safe because sub menu always open \"left\" or \"right\".\n        side: context.currentPlacement().split(\"-\")[0] as Side,\n      });\n\n      window.clearTimeout(parentMenuContext?.pointerGraceTimeoutId());\n\n      const pointerGraceTimeoutId = window.setTimeout(() => {\n        parentMenuContext?.setPointerGraceIntent(null);\n      }, 300);\n\n      parentMenuContext?.setPointerGraceTimeoutId(pointerGraceTimeoutId);\n    } else {\n      parentMenuContext?.onTriggerLeave(e);\n\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      // There's 100ms where the user may leave an item before the submenu was opened.\n      parentMenuContext?.setPointerGraceIntent(null);\n    }\n\n    parentMenuContext?.onItemLeave(e);\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    // Ignore repeating events, which may have started on the menu trigger before moving\n    // focus to the menu item. We want to wait for a second complete key press sequence.\n    if (e.repeat) {\n      return;\n    }\n\n    if (local.disabled) {\n      return;\n    }\n\n    // For consistency with native, open the menu on key down.\n    if (SUB_OPEN_KEYS[direction()].includes(e.key)) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      // Clear focus on parent menu (e.g. the menu containing the trigger).\n      parentSelectionManager().setFocused(false);\n      parentSelectionManager().setFocusedKey(undefined);\n\n      if (!context.isOpen()) {\n        context.open(\"first\");\n      }\n\n      // We focus manually because we prevented it in MenuSubContent's `onOpenAutoFocus`.\n      context.focusContent();\n      context.listState().selectionManager().setFocused(true);\n      context.listState().selectionManager().setFocusedKey(collection().getFirstKey());\n    }\n  };\n\n  createEffect(() => {\n    // Not able to register the trigger as a menu item on parent menu means\n    // `Menu.SubTrigger` is not used in the correct place, so throw an error.\n    if (context.registerItemToParentDomCollection == null) {\n      throw new Error(\"[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component\");\n    }\n\n    // Register the item trigger on the parent menu that contains it.\n    const unregister = context.registerItemToParentDomCollection({\n      ref: () => ref,\n      type: \"item\",\n      key: key(),\n      textValue: local.textValue ?? ref?.textContent ?? \"\",\n      disabled: local.disabled ?? false,\n    });\n\n    onCleanup(unregister);\n  });\n\n  createEffect(\n    on(\n      () => context.parentMenuContext()?.pointerGraceTimeoutId(),\n      pointerGraceTimer => {\n        onCleanup(() => {\n          window.clearTimeout(pointerGraceTimer);\n          context.parentMenuContext()?.setPointerGraceIntent(null);\n        });\n      }\n    )\n  );\n\n  createEffect(() => onCleanup(context.registerTriggerId(local.id!)));\n\n  onCleanup(() => {\n    clearOpenTimeout();\n  });\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      ref={mergeRefs(el => {\n        context.setTriggerRef(el);\n        ref = el;\n      }, local.ref)}\n      id={local.id}\n      role=\"menuitem\"\n      tabIndex={selectableItem.tabIndex()}\n      aria-haspopup=\"true\"\n      aria-expanded={context.isOpen()}\n      aria-controls={context.isOpen() ? context.contentId() : undefined}\n      aria-disabled={local.disabled}\n      data-key={selectableItem.dataKey()}\n      data-highlighted={isHighlighted() ? \"\" : undefined}\n      data-disabled={local.disabled ? \"\" : undefined}\n      onPointerDown={composeEventHandlers([local.onPointerDown, selectableItem.onPointerDown])}\n      onPointerUp={composeEventHandlers([local.onPointerUp, selectableItem.onPointerUp])}\n      onClick={composeEventHandlers([onClick, selectableItem.onClick])}\n      onKeyDown={composeEventHandlers([onKeyDown, selectableItem.onKeyDown])}\n      onMouseDown={composeEventHandlers([local.onMouseDown, selectableItem.onMouseDown])}\n      onFocus={composeEventHandlers([local.onFocus, selectableItem.onFocus])}\n      onPointerMove={onPointerMove}\n      onPointerLeave={onPointerLeave}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/menu/src/useMenuTrigger.ts\n */\n\nimport { callHandler, mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, JSX, onCleanup, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { useMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n\nexport interface MenuTriggerOptions extends Button.ButtonRootOptions {}\n\nexport interface MenuTriggerProps extends OverrideComponentProps<\"button\", MenuTriggerOptions> {}\n\n/**\n * The button that toggles the menu.\n */\nexport function MenuTrigger(props: MenuTriggerProps) {\n  const rootContext = useMenuRootContext();\n  const context = useMenuContext();\n\n  props = mergeDefaultProps(\n    {\n      id: rootContext.generateId(\"trigger\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"id\",\n    \"disabled\",\n    \"onPointerDown\",\n    \"onClick\",\n    \"onKeyDown\",\n  ]);\n\n  const onPointerDown: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    e.currentTarget.dataset.pointerType = e.pointerType;\n\n    // For consistency with native, open the select on mouse down (main button), but touch up.\n    if (!local.disabled && e.pointerType !== \"touch\" && e.button === 0) {\n      context.toggle(true);\n    }\n  };\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    if (!local.disabled && e.currentTarget.dataset.pointerType === \"touch\") {\n      context.toggle(true);\n    }\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<HTMLButtonElement, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    if (local.disabled) {\n      return;\n    }\n\n    // For consistency with native, open the menu on key down.\n    switch (e.key) {\n      case \"Enter\":\n      case \" \":\n      case \"ArrowDown\":\n        e.stopPropagation();\n        e.preventDefault();\n        context.toggle(\"first\");\n        break;\n      case \"ArrowUp\":\n        e.stopPropagation();\n        e.preventDefault();\n        context.toggle(\"last\");\n        break;\n    }\n  };\n\n  createEffect(() => onCleanup(context.registerTriggerId(local.id!)));\n\n  return (\n    <Button.Root\n      ref={mergeRefs(context.setTriggerRef, local.ref)}\n      id={local.id}\n      disabled={local.disabled}\n      aria-haspopup=\"true\"\n      aria-expanded={context.isOpen()}\n      aria-controls={context.isOpen() ? context.contentId() : undefined}\n      onPointerDown={onPointerDown}\n      onClick={onClick}\n      onKeyDown={onKeyDown}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/6b51339cca0b8344507d3c8e81e7ad05d6e75f9b/packages/@react-aria/separator/src/useSeparator.ts\n */\n\nimport { mergeDefaultProps, mergeRefs, Orientation, OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createTagName } from \"../primitives\";\n\nexport interface SeparatorRootOptions extends AsChildProp {\n  /** The orientation of the separator. */\n  orientation?: Orientation;\n}\n\nexport interface SeparatorRootProps extends OverrideComponentProps<\"hr\", SeparatorRootOptions> {}\n\n/**\n * A separator visually or semantically separates content.\n */\nexport function SeparatorRoot(props: SeparatorRootProps) {\n  let ref: HTMLElement | undefined;\n\n  props = mergeDefaultProps(\n    {\n      orientation: \"horizontal\",\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\", \"orientation\"]);\n\n  const tagName = createTagName(\n    () => ref,\n    () => \"hr\"\n  );\n\n  return (\n    <Polymorphic\n      as=\"hr\"\n      ref={mergeRefs(el => (ref = el), local.ref)}\n      role={tagName() !== \"hr\" ? \"separator\" : undefined}\n      aria-orientation={local.orientation === \"vertical\" ? \"vertical\" : undefined}\n      data-orientation={local.orientation}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/context-menu/src/ContextMenu.tsx\n */\n\nimport { OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport { MenuContent, MenuContentOptions } from \"../menu\";\nimport { useMenuRootContext } from \"../menu/menu-root-context\";\nimport { InteractOutsideEvent } from \"../primitives\";\n\nexport interface ContextMenuContentProps\n  extends OverrideComponentProps<\"div\", MenuContentOptions> {}\n\nexport function ContextMenuContent(props: ContextMenuContentProps) {\n  const rootContext = useMenuRootContext();\n\n  const [local, others] = splitProps(props, [\"onCloseAutoFocus\", \"onInteractOutside\"]);\n\n  let hasInteractedOutside = false;\n\n  const onCloseAutoFocus = (e: Event) => {\n    local.onCloseAutoFocus?.(e);\n\n    if (!e.defaultPrevented && hasInteractedOutside) {\n      e.preventDefault();\n    }\n\n    hasInteractedOutside = false;\n  };\n\n  const onInteractOutside = (e: InteractOutsideEvent) => {\n    local.onInteractOutside?.(e);\n\n    if (!e.defaultPrevented && !rootContext.isModal()) {\n      hasInteractedOutside = true;\n    }\n  };\n\n  return (\n    <MenuContent\n      onCloseAutoFocus={onCloseAutoFocus}\n      onInteractOutside={onInteractOutside}\n      {...others}\n    />\n  );\n}\n","import { createContext, Setter, useContext } from \"solid-js\";\n\nexport interface ContextMenuContextValue {\n  setAnchorRect: Setter<{ x: number; y: number }>;\n}\n\nexport const ContextMenuContext = createContext<ContextMenuContextValue>();\n\nexport function useOptionalContextMenuContext() {\n  return useContext(ContextMenuContext);\n}\n\nexport function useContextMenuContext() {\n  const context = useOptionalContextMenuContext();\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useContextMenuContext` must be used within a `ContextMenu` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/context-menu/src/ContextMenu.tsx\n */\n\nimport { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createSignal, createUniqueId, ParentProps, splitProps } from \"solid-js\";\n\nimport { useLocale } from \"../i18n\";\nimport { MenuRoot, MenuRootOptions } from \"../menu\";\nimport { createDisclosureState } from \"../primitives\";\nimport { ContextMenuContext, ContextMenuContextValue } from \"./context-menu-context\";\n\nexport interface ContextMenuRootOptions\n  extends Omit<MenuRootOptions, \"open\" | \"defaultOpen\" | \"getAnchorRect\"> {}\n\nexport interface ContextMenuRootProps extends ParentProps<ContextMenuRootOptions> {}\n\n/**\n * Displays a menu located at the pointer, triggered by a right-click or a long-press.\n */\nexport function ContextMenuRoot(props: ContextMenuRootProps) {\n  const defaultId = `contextmenu-${createUniqueId()}`;\n\n  const { direction } = useLocale();\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      placement: direction() === \"rtl\" ? \"left-start\" : \"right-start\",\n      gutter: 2,\n      shift: 2,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"onOpenChange\"]);\n\n  const [anchorRect, setAnchorRect] = createSignal({ x: 0, y: 0 });\n\n  const disclosureState = createDisclosureState({\n    defaultOpen: false,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n  });\n\n  const context: ContextMenuContextValue = {\n    setAnchorRect,\n  };\n\n  return (\n    <ContextMenuContext.Provider value={context}>\n      <MenuRoot\n        open={disclosureState.isOpen()}\n        onOpenChange={disclosureState.setIsOpen}\n        getAnchorRect={anchorRect}\n        {...others}\n      />\n    </ContextMenuContext.Provider>\n  );\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/context-menu/src/ContextMenu.tsx\n */\n\nimport { callHandler, mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, onCleanup, splitProps } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n\nimport { useMenuContext } from \"../menu/menu-context\";\nimport { useMenuRootContext } from \"../menu/menu-root-context\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useContextMenuContext } from \"./context-menu-context\";\n\nexport interface ContextMenuTriggerOptions extends AsChildProp {\n  /** Whether the context menu trigger is disabled. */\n  disabled?: boolean;\n\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface ContextMenuTriggerProps\n  extends OverrideComponentProps<\"div\", ContextMenuTriggerOptions> {}\n\nexport function ContextMenuTrigger(props: ContextMenuTriggerProps) {\n  const rootContext = useMenuRootContext();\n  const menuContext = useMenuContext();\n  const context = useContextMenuContext();\n\n  props = mergeDefaultProps(\n    {\n      id: rootContext.generateId(\"trigger\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"style\",\n    \"disabled\",\n    \"onContextMenu\",\n    \"onPointerDown\",\n    \"onPointerMove\",\n    \"onPointerCancel\",\n    \"onPointerUp\",\n  ]);\n\n  let longPressTimoutId = 0;\n\n  const clearLongPressTimeout = () => {\n    if (isServer) {\n      return;\n    }\n\n    window.clearTimeout(longPressTimoutId);\n  };\n\n  onCleanup(() => {\n    clearLongPressTimeout();\n  });\n\n  const onContextMenu: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    // If trigger is disabled, enable the native Context Menu.\n    if (local.disabled) {\n      callHandler(e, local.onContextMenu);\n      return;\n    }\n\n    // Clearing the long press here because some platforms already support\n    // long press to trigger a `contextmenu` event.\n    clearLongPressTimeout();\n\n    e.preventDefault();\n\n    context.setAnchorRect({ x: e.clientX, y: e.clientY });\n\n    if (menuContext.isOpen()) {\n      // If the menu is already open, focus the menu itself.\n      menuContext.focusContent();\n    } else {\n      menuContext.open(true);\n    }\n  };\n\n  const isTouchOrPen = (e: PointerEvent) => e.pointerType === \"touch\" || e.pointerType === \"pen\";\n\n  const onPointerDown: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    if (!local.disabled && isTouchOrPen(e)) {\n      // Clear the long press here in case there's multiple touch points.\n      clearLongPressTimeout();\n      longPressTimoutId = window.setTimeout(() => menuContext.open(false), 700);\n    }\n  };\n\n  const onPointerMove: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerMove);\n\n    if (!local.disabled && isTouchOrPen(e)) {\n      clearLongPressTimeout();\n    }\n  };\n\n  const onPointerCancel: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerCancel);\n\n    if (!local.disabled && isTouchOrPen(e)) {\n      clearLongPressTimeout();\n    }\n  };\n\n  const onPointerUp: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerUp);\n\n    if (!local.disabled && isTouchOrPen(e)) {\n      clearLongPressTimeout();\n    }\n  };\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      ref={mergeRefs(menuContext.setTriggerRef, local.ref)}\n      style={{\n        // prevent iOS context menu from appearing\n        \"-webkit-touch-callout\": \"none\",\n        ...local.style,\n      }}\n      data-disabled={local.disabled ? \"\" : undefined}\n      onContextMenu={onContextMenu}\n      onPointerDown={onPointerDown}\n      onPointerMove={onPointerMove}\n      onPointerCancel={onPointerCancel}\n      onPointerUp={onPointerUp}\n      {...menuContext.dataset()}\n      {...others}\n    />\n  );\n}\n","import { focusWithoutScrolling, OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport { MenuContent, MenuContentOptions } from \"../menu\";\nimport { useMenuContext } from \"../menu/menu-context\";\nimport { useMenuRootContext } from \"../menu/menu-root-context\";\nimport { InteractOutsideEvent } from \"../primitives\";\n\nexport interface DropdownMenuContentProps\n  extends OverrideComponentProps<\"div\", MenuContentOptions> {}\n\n/**\n * Contains the content to be rendered when the dropdown menu is open.\n */\nexport function DropdownMenuContent(props: DropdownMenuContentProps) {\n  const rootContext = useMenuRootContext();\n  const context = useMenuContext();\n\n  const [local, others] = splitProps(props, [\"onCloseAutoFocus\", \"onInteractOutside\"]);\n\n  let hasInteractedOutside = false;\n\n  const onCloseAutoFocus = (e: Event) => {\n    local.onCloseAutoFocus?.(e);\n\n    if (!hasInteractedOutside) {\n      focusWithoutScrolling(context.triggerRef());\n    }\n\n    hasInteractedOutside = false;\n\n    // Always prevent autofocus because we either focus manually or want user agent focus\n    e.preventDefault();\n  };\n\n  const onInteractOutside = (e: InteractOutsideEvent) => {\n    local.onInteractOutside?.(e);\n\n    if (!rootContext.isModal() || e.detail.isContextMenu) {\n      hasInteractedOutside = true;\n    }\n  };\n\n  return (\n    <MenuContent\n      onCloseAutoFocus={onCloseAutoFocus}\n      onInteractOutside={onInteractOutside}\n      {...others}\n    />\n  );\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createUniqueId, ParentProps } from \"solid-js\";\n\nimport { MenuRoot, MenuRootOptions } from \"../menu\";\n\nexport interface DropdownMenuRootOptions extends MenuRootOptions {}\n\nexport interface DropdownMenuRootProps extends ParentProps<DropdownMenuRootOptions> {}\n\n/**\n * Displays a menu to the user such as a set of actions or functions triggered by a button.\n */\nexport function DropdownMenuRoot(props: DropdownMenuRootProps) {\n  const defaultId = `dropdownmenu-${createUniqueId()}`;\n\n  props = mergeDefaultProps({ id: defaultId }, props);\n\n  return <MenuRoot {...props} />;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { CreatePresenceResult } from \"../primitives\";\n\nexport interface HoverCardDataSet {\n  \"data-expanded\": string | undefined;\n  \"data-closed\": string | undefined;\n}\n\nexport interface HoverCardContextValue {\n  dataset: Accessor<HoverCardDataSet>;\n  isOpen: Accessor<boolean>;\n  contentPresence: CreatePresenceResult;\n  openWithDelay: () => void;\n  closeWithDelay: () => void;\n  cancelOpening: () => void;\n  cancelClosing: () => void;\n  close: () => void;\n  isTargetOnHoverCard: (target: Node | null) => boolean;\n  setTriggerRef: (el: HTMLElement) => void;\n  setContentRef: (el: HTMLElement) => void;\n}\n\nexport const HoverCardContext = createContext<HoverCardContextValue>();\n\nexport function useHoverCardContext() {\n  const context = useContext(HoverCardContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useHoverCardContext` must be used within a `HoverCard` component\");\n  }\n\n  return context;\n}\n","import { mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, Show, splitProps } from \"solid-js\";\n\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { PopperPositioner } from \"../popper\";\nimport { useHoverCardContext } from \"./hover-card-context\";\n\nexport interface HoverCardContentOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface HoverCardContentProps\n  extends OverrideComponentProps<\"div\", HoverCardContentOptions> {}\n\n/**\n * Contains the content to be rendered when the hovercard is open.\n */\nexport function HoverCardContent(props: HoverCardContentProps) {\n  const context = useHoverCardContext();\n\n  const [local, others] = splitProps(props, [\"ref\", \"style\"]);\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer\n          ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n          }, local.ref)}\n          disableOutsidePointerEvents={false}\n          style={{\n            \"--kb-hovercard-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n          }}\n          onFocusOutside={e => e.preventDefault()}\n          onDismiss={context.close}\n          {...context.dataset()}\n          {...others}\n        />\n      </PopperPositioner>\n    </Show>\n  );\n}\n","import { ComponentProps, Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport { useHoverCardContext } from \"./hover-card-context\";\n\nexport interface HoverCardPortalProps extends ComponentProps<typeof Portal> {}\n\n/**\n * Portals its children into the `body` when the hovercard is open.\n */\nexport function HoverCardPortal(props: HoverCardPortalProps) {\n  const context = useHoverCardContext();\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <Portal {...props} />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/hovercard/__utils/polygon.ts\n * https://github.com/ariakit/ariakit/blob/f2a96973de523d67e41eec983263936c489ef3e2/packages/ariakit/src/hovercard/__utils/debug-polygon.ts\n */\n\nimport { Polygon } from \"@kobalte/utils\";\n\nimport { BasePlacement, Placement } from \"../popper/utils\";\n\n/**\n * Construct a polygon based on the floating element placement relative to the anchor.\n */\nexport function getHoverCardSafeArea(placement: Placement, anchorEl: Element, floatingEl: Element) {\n  const basePlacement = placement.split(\"-\")[0] as BasePlacement;\n\n  const anchorRect = anchorEl.getBoundingClientRect();\n  const floatingRect = floatingEl.getBoundingClientRect();\n\n  const polygon: Polygon = [];\n\n  const anchorCenterX = anchorRect.left + anchorRect.width / 2;\n  const anchorCenterY = anchorRect.top + anchorRect.height / 2;\n\n  switch (basePlacement) {\n    case \"top\":\n      polygon.push([anchorRect.left, anchorCenterY]);\n      polygon.push([floatingRect.left, floatingRect.bottom]);\n      polygon.push([floatingRect.left, floatingRect.top]);\n      polygon.push([floatingRect.right, floatingRect.top]);\n      polygon.push([floatingRect.right, floatingRect.bottom]);\n      polygon.push([anchorRect.right, anchorCenterY]);\n      break;\n    case \"right\":\n      polygon.push([anchorCenterX, anchorRect.top]);\n      polygon.push([floatingRect.left, floatingRect.top]);\n      polygon.push([floatingRect.right, floatingRect.top]);\n      polygon.push([floatingRect.right, floatingRect.bottom]);\n      polygon.push([floatingRect.left, floatingRect.bottom]);\n      polygon.push([anchorCenterX, anchorRect.bottom]);\n      break;\n    case \"bottom\":\n      polygon.push([anchorRect.left, anchorCenterY]);\n      polygon.push([floatingRect.left, floatingRect.top]);\n      polygon.push([floatingRect.left, floatingRect.bottom]);\n      polygon.push([floatingRect.right, floatingRect.bottom]);\n      polygon.push([floatingRect.right, floatingRect.top]);\n      polygon.push([anchorRect.right, anchorCenterY]);\n      break;\n    case \"left\":\n      polygon.push([anchorCenterX, anchorRect.top]);\n      polygon.push([floatingRect.right, floatingRect.top]);\n      polygon.push([floatingRect.left, floatingRect.top]);\n      polygon.push([floatingRect.left, floatingRect.bottom]);\n      polygon.push([floatingRect.right, floatingRect.bottom]);\n      polygon.push([anchorCenterX, anchorRect.bottom]);\n      break;\n  }\n\n  return polygon;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/hovercard/hovercard.tsx\n */\n\nimport {\n  contains,\n  createGlobalListeners,\n  getEventPoint,\n  isPointInPolygon,\n  mergeDefaultProps,\n} from \"@kobalte/utils\";\nimport {\n  Accessor,\n  createEffect,\n  createMemo,\n  createSignal,\n  createUniqueId,\n  onCleanup,\n  ParentProps,\n  splitProps,\n} from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n\nimport { PopperRoot, PopperRootOptions } from \"../popper\";\nimport { Placement } from \"../popper/utils\";\nimport { createDisclosureState, createPresence } from \"../primitives\";\nimport { HoverCardContext, HoverCardContextValue, HoverCardDataSet } from \"./hover-card-context\";\nimport { getHoverCardSafeArea } from \"./utils\";\n\nexport interface HoverCardRootOptions\n  extends Omit<PopperRootOptions, \"anchorRef\" | \"contentRef\" | \"onCurrentPlacementChange\"> {\n  /** The controlled open state of the hovercard. */\n  open?: boolean;\n\n  /**\n   * The default open state when initially rendered.\n   * Useful when you do not need to control the open state.\n   */\n  defaultOpen?: boolean;\n\n  /** Event handler called when the open state of the hovercard changes. */\n  onOpenChange?: (isOpen: boolean) => void;\n\n  /** The duration from when the mouse enters the trigger until the hovercard opens. */\n  openDelay?: number;\n\n  /** The duration from when the mouse leaves the trigger or content until the hovercard closes. */\n  closeDelay?: number;\n\n  /** Whether to close the hovercard even if the user cursor is inside the safe area between the trigger and hovercard. */\n  ignoreSafeArea?: boolean;\n\n  /**\n   * Used to force mounting the hovercard (portal and content) when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n}\n\nexport interface HoverCardRootProps extends ParentProps<HoverCardRootOptions> {}\n\n/**\n * A popover that allows sighted users to preview content available behind a link.\n */\nexport function HoverCardRoot(props: HoverCardRootProps) {\n  const defaultId = `hovercard-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      openDelay: 700,\n      closeDelay: 300,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"id\",\n    \"open\",\n    \"defaultOpen\",\n    \"onOpenChange\",\n    \"openDelay\",\n    \"closeDelay\",\n    \"ignoreSafeArea\",\n    \"forceMount\",\n  ]);\n\n  let openTimeoutId: number | undefined;\n  let closeTimeoutId: number | undefined;\n\n  const [triggerRef, setTriggerRef] = createSignal<HTMLElement>();\n  const [contentRef, setContentRef] = createSignal<HTMLElement>();\n\n  const [currentPlacement, setCurrentPlacement] = createSignal<Placement>(others.placement!);\n\n  const disclosureState = createDisclosureState({\n    open: () => local.open,\n    defaultOpen: () => local.defaultOpen,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n  });\n\n  const contentPresence = createPresence(() => local.forceMount || disclosureState.isOpen());\n\n  const { addGlobalListener, removeGlobalListener } = createGlobalListeners();\n\n  const openWithDelay = () => {\n    if (isServer) {\n      return;\n    }\n\n    openTimeoutId = window.setTimeout(() => {\n      openTimeoutId = undefined;\n      disclosureState.open();\n    }, local.openDelay);\n  };\n\n  const closeWithDelay = () => {\n    if (isServer) {\n      return;\n    }\n\n    closeTimeoutId = window.setTimeout(() => {\n      closeTimeoutId = undefined;\n      disclosureState.close();\n    }, local.closeDelay);\n  };\n\n  const cancelOpening = () => {\n    if (isServer) {\n      return;\n    }\n\n    window.clearTimeout(openTimeoutId);\n    openTimeoutId = undefined;\n  };\n\n  const cancelClosing = () => {\n    if (isServer) {\n      return;\n    }\n\n    window.clearTimeout(closeTimeoutId);\n    closeTimeoutId = undefined;\n  };\n\n  const isTargetOnHoverCard = (target: Node | null) => {\n    return contains(triggerRef(), target) || contains(contentRef(), target);\n  };\n\n  const getPolygonSafeArea = (placement: Placement) => {\n    const triggerEl = triggerRef();\n    const contentEl = contentRef();\n\n    if (!triggerEl || !contentEl) {\n      return;\n    }\n\n    return getHoverCardSafeArea(placement, triggerEl, contentEl);\n  };\n\n  const onHoverOutside = (event: PointerEvent) => {\n    const target = event.target as Node | null;\n\n    // Don't close if the mouse is moving through valid hovercard element.\n    if (isTargetOnHoverCard(target)) {\n      cancelClosing();\n      return;\n    }\n\n    if (!local.ignoreSafeArea) {\n      const polygon = getPolygonSafeArea(currentPlacement());\n\n      //Don't close if the current's event mouse position is inside the polygon safe area.\n      if (polygon && isPointInPolygon(getEventPoint(event), polygon)) {\n        cancelClosing();\n        return;\n      }\n    }\n\n    // If there's already a scheduled timeout to hide the hovercard, we do nothing.\n    if (closeTimeoutId) {\n      return;\n    }\n\n    // Otherwise, hide the hovercard after the close delay.\n    closeWithDelay();\n  };\n\n  createEffect(() => {\n    if (!disclosureState.isOpen()) {\n      return;\n    }\n\n    // Checks whether the mouse is moving outside the hovercard.\n    // If yes, hide the card after the close delay.\n    addGlobalListener(document, \"pointermove\", onHoverOutside, true);\n\n    onCleanup(() => {\n      removeGlobalListener(document, \"pointermove\", onHoverOutside, true);\n    });\n  });\n\n  // cleanup all timeout on unmount.\n  onCleanup(() => {\n    cancelOpening();\n    cancelClosing();\n  });\n\n  const dataset: Accessor<HoverCardDataSet> = createMemo(() => ({\n    \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n    \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n  }));\n\n  const context: HoverCardContextValue = {\n    dataset,\n    isOpen: disclosureState.isOpen,\n    contentPresence,\n    openWithDelay,\n    closeWithDelay,\n    cancelOpening,\n    cancelClosing,\n    close: disclosureState.close,\n    isTargetOnHoverCard,\n    setTriggerRef,\n    setContentRef,\n  };\n\n  return (\n    <HoverCardContext.Provider value={context}>\n      <PopperRoot\n        anchorRef={triggerRef}\n        contentRef={contentRef}\n        onCurrentPlacementChange={setCurrentPlacement}\n        {...others}\n      />\n    </HoverCardContext.Provider>\n  );\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/hovercard/hovercard-anchor.ts\n */\n\nimport { callHandler, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, onCleanup, splitProps } from \"solid-js\";\n\nimport * as Link from \"../link\";\nimport { useHoverCardContext } from \"./hover-card-context\";\n\nexport interface HoverCardTriggerProps extends OverrideComponentProps<\"a\", Link.LinkRootOptions> {}\n\n/**\n * The link that opens the hovercard when hovered.\n */\nexport function HoverCardTrigger(props: HoverCardTriggerProps) {\n  const context = useHoverCardContext();\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"onPointerEnter\",\n    \"onPointerLeave\",\n    \"onFocus\",\n    \"onBlur\",\n    \"onTouchStart\",\n  ]);\n\n  const onPointerEnter: JSX.EventHandlerUnion<HTMLAnchorElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerEnter);\n\n    if (e.pointerType === \"touch\" || others.disabled || e.defaultPrevented) {\n      return;\n    }\n\n    context.cancelClosing();\n\n    if (!context.isOpen()) {\n      context.openWithDelay();\n    }\n  };\n\n  const onPointerLeave: JSX.EventHandlerUnion<HTMLAnchorElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerLeave);\n\n    if (e.pointerType === \"touch\") {\n      return;\n    }\n\n    context.cancelOpening();\n  };\n\n  const onFocus: JSX.EventHandlerUnion<HTMLAnchorElement, FocusEvent> = e => {\n    callHandler(e, local.onFocus);\n\n    if (others.disabled || e.defaultPrevented) {\n      return;\n    }\n\n    context.cancelClosing();\n\n    if (!context.isOpen()) {\n      context.openWithDelay();\n    }\n  };\n\n  const onBlur: JSX.EventHandlerUnion<HTMLAnchorElement, FocusEvent> = e => {\n    callHandler(e, local.onBlur);\n\n    context.cancelOpening();\n\n    const relatedTarget = e.relatedTarget as Node | null;\n\n    if (context.isTargetOnHoverCard(relatedTarget)) {\n      return;\n    }\n\n    context.closeWithDelay();\n  };\n\n  onCleanup(context.cancelOpening);\n\n  return (\n    <Link.Root\n      ref={mergeRefs(context.setTriggerRef, local.ref)}\n      onPointerEnter={onPointerEnter}\n      onPointerLeave={onPointerLeave}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { ImageLoadingStatus } from \"./types\";\n\nexport interface ImageContextValue {\n  fallbackDelay: Accessor<number | undefined>;\n  imageLoadingStatus: Accessor<ImageLoadingStatus>;\n  onImageLoadingStatusChange: (status: ImageLoadingStatus) => void;\n}\n\nexport const ImageContext = createContext<ImageContextValue>();\n\nexport function useImageContext() {\n  const context = useContext(ImageContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useImageContext` must be used within an `Image.Root` component\");\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/avatar/src/Avatar.tsx\n */\n\nimport { OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, createSignal, onCleanup, Show } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useImageContext } from \"./image-context\";\n\nexport interface ImageFallbackProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * An element that renders when the image hasn't loaded.\n * This means whilst it's loading, or if there was an error.\n */\nexport function ImageFallback(props: ImageFallbackProps) {\n  const context = useImageContext();\n\n  const [canRender, setCanRender] = createSignal(context.fallbackDelay() === undefined);\n\n  createEffect(() => {\n    const delayMs = context.fallbackDelay();\n\n    if (delayMs !== undefined) {\n      const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n      onCleanup(() => window.clearTimeout(timerId));\n    }\n  });\n\n  return (\n    <Show when={canRender() && context.imageLoadingStatus() !== \"loaded\"}>\n      <Polymorphic as=\"span\" {...props} />\n    </Show>\n  );\n}\n","/* eslint-disable jsx-a11y/alt-text */\n\n/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/avatar/src/Avatar.tsx\n */\n\nimport { ComponentProps, createEffect, createSignal, on, onCleanup, Show } from \"solid-js\";\n\nimport { useImageContext } from \"./image-context\";\nimport { ImageLoadingStatus } from \"./types\";\n\nexport interface ImageImgProps extends ComponentProps<\"img\"> {}\n\n/**\n * The image to render. By default, it will only render when it has loaded.\n */\nexport function ImageImg(props: ImageImgProps) {\n  const context = useImageContext();\n\n  const [loadingStatus, setLoadingStatus] = createSignal<ImageLoadingStatus>(\"idle\");\n\n  createEffect(\n    on(\n      () => props.src,\n      src => {\n        if (!src) {\n          setLoadingStatus(\"error\");\n          return;\n        }\n\n        let isMounted = true;\n        const image = new window.Image();\n\n        const updateStatus = (status: ImageLoadingStatus) => () => {\n          if (!isMounted) {\n            return;\n          }\n\n          setLoadingStatus(status);\n        };\n\n        setLoadingStatus(\"loading\");\n        image.onload = updateStatus(\"loaded\");\n        image.onerror = updateStatus(\"error\");\n        image.src = src;\n\n        onCleanup(() => {\n          isMounted = false;\n        });\n      }\n    )\n  );\n\n  createEffect(() => {\n    const imageLoadingStatus = loadingStatus();\n\n    if (imageLoadingStatus !== \"idle\") {\n      context.onImageLoadingStatusChange(imageLoadingStatus);\n    }\n  });\n\n  return (\n    <Show when={loadingStatus() === \"loaded\"}>\n      <img {...props} />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/avatar/src/Avatar.tsx\n */\n\nimport { OverrideComponentProps } from \"@kobalte/utils\";\nimport { createSignal, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { ImageContext, ImageContextValue } from \"./image-context\";\nimport { ImageLoadingStatus } from \"./types\";\n\nexport interface ImageRootOptions extends AsChildProp {\n  /**\n   * The delay (in ms) before displaying the image fallback.\n   * Useful if you notice a flash during loading for delaying rendering,\n   * so it only appears for those with slower internet connections.\n   */\n  fallbackDelay?: number;\n\n  /**\n   * A callback providing information about the loading status of the image.\n   * This is useful in case you want to control more precisely what to render as the image is loading.\n   */\n  onLoadingStatusChange?: (status: ImageLoadingStatus) => void;\n}\n\nexport interface ImageRootProps extends OverrideComponentProps<\"span\", ImageRootOptions> {}\n\n/**\n * An image element with an optional fallback for loading and error status.\n */\nexport function ImageRoot(props: ImageRootProps) {\n  const [local, others] = splitProps(props, [\"fallbackDelay\", \"onLoadingStatusChange\"]);\n\n  const [imageLoadingStatus, setImageLoadingStatus] = createSignal<ImageLoadingStatus>(\"idle\");\n\n  const context: ImageContextValue = {\n    fallbackDelay: () => local.fallbackDelay,\n    imageLoadingStatus,\n    onImageLoadingStatusChange: status => {\n      setImageLoadingStatus(status);\n      local.onLoadingStatusChange?.(status);\n    },\n  };\n\n  return (\n    <ImageContext.Provider value={context}>\n      <Polymorphic as=\"span\" {...others} />\n    </ImageContext.Provider>\n  );\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { CreatePresenceResult } from \"../primitives\";\n\nexport interface PopoverDataSet {\n  \"data-expanded\": string | undefined;\n  \"data-closed\": string | undefined;\n}\n\nexport interface PopoverContextValue {\n  dataset: Accessor<PopoverDataSet>;\n  isOpen: Accessor<boolean>;\n  isModal: Accessor<boolean>;\n  preventScroll: Accessor<boolean>;\n  contentPresence: CreatePresenceResult;\n  triggerRef: Accessor<HTMLElement | undefined>;\n  contentId: Accessor<string | undefined>;\n  titleId: Accessor<string | undefined>;\n  descriptionId: Accessor<string | undefined>;\n  setDefaultAnchorRef: (el: HTMLElement) => void;\n  setTriggerRef: (el: HTMLElement) => void;\n  setContentRef: (el: HTMLElement) => void;\n  close: () => void;\n  toggle: () => void;\n  generateId: (part: string) => string;\n  registerContentId: (id: string) => () => void;\n  registerTitleId: (id: string) => () => void;\n  registerDescriptionId: (id: string) => () => void;\n}\n\nexport const PopoverContext = createContext<PopoverContextValue>();\n\nexport function usePopoverContext() {\n  const context = useContext(PopoverContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `usePopoverContext` must be used within a `Popover` component\");\n  }\n\n  return context;\n}\n","import { mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { usePopoverContext } from \"./popover-context\";\n\nexport interface PopoverAnchorProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * An optional element to position the `Popover.Content` against.\n * If this part is not used, the content will position alongside the `Popover.Trigger`.\n */\nexport function PopoverAnchor(props: PopoverAnchorProps) {\n  const context = usePopoverContext();\n\n  const [local, others] = splitProps(props, [\"ref\"]);\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      ref={mergeRefs(context.setDefaultAnchorRef, local.ref)}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { callHandler, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { COMMON_INTL_MESSAGES, createMessageFormatter } from \"../i18n\";\nimport { usePopoverContext } from \"./popover-context\";\n\nexport interface PopoverCloseButtonProps\n  extends OverrideComponentProps<\"button\", Button.ButtonRootOptions> {}\n\n/**\n * The button that closes the popover.\n */\nexport function PopoverCloseButton(props: PopoverCloseButtonProps) {\n  const context = usePopoverContext();\n\n  const [local, others] = splitProps(props, [\"aria-label\", \"onClick\"]);\n\n  const messageFormatter = createMessageFormatter(() => COMMON_INTL_MESSAGES);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n    context.close();\n  };\n\n  return (\n    <Button.Root\n      aria-label={local[\"aria-label\"] || messageFormatter().format(\"dismiss\")}\n      onClick={onClick}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import {\n  contains,\n  focusWithoutScrolling,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createEffect, JSX, onCleanup, Show, splitProps } from \"solid-js\";\n\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { PopperPositioner } from \"../popper\";\nimport {\n  createFocusScope,\n  createHideOutside,\n  createPreventScroll,\n  FocusOutsideEvent,\n  InteractOutsideEvent,\n  PointerDownOutsideEvent,\n} from \"../primitives\";\nimport { usePopoverContext } from \"./popover-context\";\n\nexport interface PopoverContentOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n\n  /**\n   * Event handler called when focus moves into the component after opening.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onOpenAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when focus moves to the trigger after closing.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onCloseAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when the escape key is down.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n\n  /**\n   * Event handler called when a pointer event occurs outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n\n  /**\n   * Event handler called when the focus moves outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n\n  /**\n   * Event handler called when an interaction (pointer or focus event) happens outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onInteractOutside?: (event: InteractOutsideEvent) => void;\n}\n\nexport interface PopoverContentProps extends OverrideComponentProps<\"div\", PopoverContentOptions> {}\n\n/**\n * Contains the content to be rendered when the popover is open.\n */\nexport function PopoverContent(props: PopoverContentProps) {\n  let ref: HTMLElement | undefined;\n\n  const context = usePopoverContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"content\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"style\",\n    \"onOpenAutoFocus\",\n    \"onCloseAutoFocus\",\n    \"onPointerDownOutside\",\n    \"onFocusOutside\",\n    \"onInteractOutside\",\n  ]);\n\n  let isRightClickOutside = false;\n  let hasInteractedOutside = false;\n  let hasPointerDownOutside = false;\n\n  const onCloseAutoFocus = (e: Event) => {\n    local.onCloseAutoFocus?.(e);\n\n    if (context.isModal()) {\n      e.preventDefault();\n\n      if (!isRightClickOutside) {\n        focusWithoutScrolling(context.triggerRef());\n      }\n    } else {\n      if (!e.defaultPrevented) {\n        if (!hasInteractedOutside) {\n          focusWithoutScrolling(context.triggerRef());\n        }\n\n        // Always prevent autofocus because we either focus manually or want user agent focus\n        e.preventDefault();\n      }\n\n      hasInteractedOutside = false;\n      hasPointerDownOutside = false;\n    }\n  };\n\n  const onPointerDownOutside = (e: PointerDownOutsideEvent) => {\n    local.onPointerDownOutside?.(e);\n\n    if (context.isModal()) {\n      isRightClickOutside = e.detail.isContextMenu;\n    }\n  };\n\n  const onFocusOutside = (e: FocusOutsideEvent) => {\n    local.onFocusOutside?.(e);\n\n    // When focus is trapped, a `focusout` event may still happen.\n    // We make sure we don't trigger our `onDismiss` in such case.\n    if (context.isOpen() && context.isModal()) {\n      e.preventDefault();\n    }\n  };\n\n  const onInteractOutside = (e: InteractOutsideEvent) => {\n    local.onInteractOutside?.(e);\n\n    if (context.isModal()) {\n      return;\n    }\n\n    // Non-modal behavior below\n\n    if (!e.defaultPrevented) {\n      hasInteractedOutside = true;\n\n      if (e.detail.originalEvent.type === \"pointerdown\") {\n        hasPointerDownOutside = true;\n      }\n    }\n\n    // Prevent dismissing when clicking the trigger.\n    // As the trigger is already setup to close, without doing so would\n    // cause it to close and immediately open.\n    if (contains(context.triggerRef(), e.target as HTMLElement)) {\n      e.preventDefault();\n    }\n\n    // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n    // we will get the pointer down outside event on the trigger, but then a subsequent\n    // focus outside event on the container, we ignore any focus outside event when we've\n    // already had a pointer down outside event.\n    if (e.detail.originalEvent.type === \"focusin\" && hasPointerDownOutside) {\n      e.preventDefault();\n    }\n  };\n\n  // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n  createHideOutside({\n    isDisabled: () => !(context.isOpen() && context.isModal()),\n    targets: () => (ref ? [ref] : []),\n  });\n\n  createPreventScroll({\n    ownerRef: () => ref,\n    isDisabled: () => !(context.isOpen() && (context.isModal() || context.preventScroll())),\n  });\n\n  createFocusScope(\n    {\n      trapFocus: () => context.isOpen() && context.isModal(),\n      onMountAutoFocus: local.onOpenAutoFocus,\n      onUnmountAutoFocus: onCloseAutoFocus,\n    },\n    () => ref\n  );\n\n  createEffect(() => onCleanup(context.registerContentId(others.id!)));\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer\n          ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n            ref = el;\n          }, local.ref)}\n          role=\"dialog\"\n          tabIndex={-1}\n          disableOutsidePointerEvents={context.isOpen() && context.isModal()}\n          excludedElements={[context.triggerRef]}\n          style={{\n            \"--kb-popover-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n          }}\n          aria-labelledby={context.titleId()}\n          aria-describedby={context.descriptionId()}\n          onPointerDownOutside={onPointerDownOutside}\n          onFocusOutside={onFocusOutside}\n          onInteractOutside={onInteractOutside}\n          onDismiss={context.close}\n          {...context.dataset()}\n          {...others}\n        />\n      </PopperPositioner>\n    </Show>\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { usePopoverContext } from \"./popover-context\";\n\nexport interface PopoverDescriptionProps extends OverrideComponentProps<\"p\", AsChildProp> {}\n\n/**\n * An optional accessible description to be announced when the popover is open.\n */\nexport function PopoverDescription(props: PopoverDescriptionProps) {\n  const context = usePopoverContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"description\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerDescriptionId(local.id!)));\n\n  return <Polymorphic as=\"p\" id={local.id} {...context.dataset()} {...others} />;\n}\n","import { ComponentProps, Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport { usePopoverContext } from \"./popover-context\";\n\nexport interface PopoverPortalProps extends ComponentProps<typeof Portal> {}\n\n/**\n * Portals its children into the `body` when the popover is open.\n */\nexport function PopoverPortal(props: PopoverPortalProps) {\n  const context = usePopoverContext();\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <Portal {...props} />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/232bc79018ec20967fec1e097a9474aba3bb5be7/packages/ariakit/src/popover/popover-state.ts\n */\n\nimport { createGenerateId, mergeDefaultProps } from \"@kobalte/utils\";\nimport {\n  Accessor,\n  createMemo,\n  createSignal,\n  createUniqueId,\n  ParentProps,\n  splitProps,\n} from \"solid-js\";\n\nimport { PopperRoot, PopperRootOptions } from \"../popper\";\nimport { createDisclosureState, createPresence, createRegisterId } from \"../primitives\";\nimport { PopoverContext, PopoverContextValue, PopoverDataSet } from \"./popover-context\";\n\nexport interface PopoverRootOptions\n  extends Omit<PopperRootOptions, \"anchorRef\" | \"contentRef\" | \"onCurrentPlacementChange\"> {\n  /**\n   * A ref for the anchor element.\n   * Useful if you want to use an element outside `Popover` as the popover anchor.\n   */\n  anchorRef?: Accessor<HTMLElement | undefined>;\n\n  /** The controlled open state of the popover. */\n  open?: boolean;\n\n  /**\n   * The default open state when initially rendered.\n   * Useful when you do not need to control the open state.\n   */\n  defaultOpen?: boolean;\n\n  /** Event handler called when the open state of the popover changes. */\n  onOpenChange?: (isOpen: boolean) => void;\n\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n\n  /**\n   * Whether the popover should be the only visible content for screen readers.\n   * When set to `true`:\n   * - interaction with outside elements will be disabled.\n   * - scroll will be locked.\n   * - focus will be locked inside the popover content.\n   * - elements outside the popover content will not be visible for screen readers.\n   */\n  modal?: boolean;\n\n  /** Whether the scroll should be locked even if the popover is not modal. */\n  preventScroll?: boolean;\n\n  /**\n   * Used to force mounting the popover (portal, positioner and content) when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface PopoverRootProps extends ParentProps<PopoverRootOptions> {}\n\n/**\n * A popover is a dialog positioned relative to an anchor element.\n */\nexport function PopoverRoot(props: PopoverRootProps) {\n  const defaultId = `popover-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      modal: false,\n      preventScroll: false,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"id\",\n    \"open\",\n    \"defaultOpen\",\n    \"onOpenChange\",\n    \"modal\",\n    \"preventScroll\",\n    \"forceMount\",\n    \"anchorRef\",\n  ]);\n\n  const [defaultAnchorRef, setDefaultAnchorRef] = createSignal<HTMLElement>();\n  const [triggerRef, setTriggerRef] = createSignal<HTMLElement>();\n  const [contentRef, setContentRef] = createSignal<HTMLElement>();\n\n  const [contentId, setContentId] = createSignal<string>();\n  const [titleId, setTitleId] = createSignal<string>();\n  const [descriptionId, setDescriptionId] = createSignal<string>();\n\n  const disclosureState = createDisclosureState({\n    open: () => local.open,\n    defaultOpen: () => local.defaultOpen,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n  });\n\n  const anchorRef = () => {\n    return local.anchorRef?.() ?? defaultAnchorRef() ?? triggerRef();\n  };\n\n  const contentPresence = createPresence(() => local.forceMount || disclosureState.isOpen());\n\n  const dataset: Accessor<PopoverDataSet> = createMemo(() => ({\n    \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n    \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n  }));\n\n  const context: PopoverContextValue = {\n    dataset,\n    isOpen: disclosureState.isOpen,\n    isModal: () => local.modal ?? false,\n    preventScroll: () => local.preventScroll ?? false,\n    contentPresence,\n    triggerRef,\n    contentId,\n    titleId,\n    descriptionId,\n    setDefaultAnchorRef,\n    setTriggerRef,\n    setContentRef,\n    close: disclosureState.close,\n    toggle: disclosureState.toggle,\n    generateId: createGenerateId(() => local.id!),\n    registerContentId: createRegisterId(setContentId),\n    registerTitleId: createRegisterId(setTitleId),\n    registerDescriptionId: createRegisterId(setDescriptionId),\n  };\n\n  return (\n    <PopoverContext.Provider value={context}>\n      <PopperRoot anchorRef={anchorRef} contentRef={contentRef} {...others} />\n    </PopoverContext.Provider>\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { usePopoverContext } from \"./popover-context\";\n\nexport interface PopoverTitleProps extends OverrideComponentProps<\"h2\", AsChildProp> {}\n\n/**\n * An accessible title to be announced when the popover is open.\n */\nexport function PopoverTitle(props: PopoverTitleProps) {\n  const context = usePopoverContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"title\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerTitleId(local.id!)));\n\n  return <Polymorphic as=\"h2\" id={local.id} {...context.dataset()} {...others} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/810579b671791f1593108f62cdc1893de3a220e3/packages/@react-aria/overlays/src/useOverlayTrigger.ts\n */\n\nimport { callHandler, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { usePopoverContext } from \"./popover-context\";\n\nexport interface PopoverTriggerProps\n  extends OverrideComponentProps<\"button\", Button.ButtonRootOptions> {}\n\n/**\n * The button that opens the popover.\n */\nexport function PopoverTrigger(props: PopoverTriggerProps) {\n  const context = usePopoverContext();\n\n  const [local, others] = splitProps(props, [\"ref\", \"onClick\", \"onPointerDown\"]);\n\n  const onPointerDown: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    // Prevent popover from opening then closing immediately when inside an overlay in safari.\n    e.preventDefault();\n  };\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n    context.toggle();\n  };\n\n  return (\n    <Button.Root\n      ref={mergeRefs(context.setTriggerRef, local.ref)}\n      aria-haspopup=\"dialog\"\n      aria-expanded={context.isOpen()}\n      aria-controls={context.isOpen() ? context.contentId() : undefined}\n      onPointerDown={onPointerDown}\n      onClick={onClick}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface ProgressDataSet {\n  \"data-progress\": \"loading\" | \"complete\" | undefined;\n  \"data-indeterminate\": string | undefined;\n}\n\nexport interface ProgressContextValue {\n  dataset: Accessor<ProgressDataSet>;\n  value: Accessor<number>;\n  valuePercent: Accessor<number>;\n  valueLabel: Accessor<string | undefined>;\n  progressFillWidth: Accessor<string | undefined>;\n  labelId: Accessor<string | undefined>;\n  generateId: (part: string) => string;\n  registerLabelId: (id: string) => () => void;\n}\n\nexport const ProgressContext = createContext<ProgressContextValue>();\n\nexport function useProgressContext() {\n  const context = useContext(ProgressContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useProgressContext` must be used within a `Progress.Root` component\"\n    );\n  }\n\n  return context;\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useProgressContext } from \"./progress-context\";\n\nexport interface ProgressFillOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface ProgressFillProps extends OverrideComponentProps<\"div\", ProgressFillOptions> {}\n\n/**\n * The component that visually represents the progress value.\n * Used to visually show the fill of `Progress.Track`.\n */\nexport function ProgressFill(props: ProgressFillProps) {\n  const context = useProgressContext();\n\n  const [local, others] = splitProps(props, [\"style\"]);\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      style={{\n        \"--kb-progress-fill-width\": context.progressFillWidth(),\n        ...local.style,\n      }}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useProgressContext } from \"./progress-context\";\n\nexport interface ProgressLabelProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * An accessible label that gives the user information on the progress.\n */\nexport function ProgressLabel(props: ProgressLabelProps) {\n  const context = useProgressContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"label\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerLabelId(local.id!)));\n\n  return <Polymorphic as=\"span\" id={local.id} {...context.dataset()} {...others} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/1ddcde7b4fef9af7f08e11bb78d71fe60bbcc64b/packages/@react-aria/progress/src/useProgressBar.ts\n */\n\nimport { clamp, createGenerateId, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Accessor, createMemo, createSignal, createUniqueId, splitProps } from \"solid-js\";\n\nimport { createNumberFormatter } from \"../i18n\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createRegisterId } from \"../primitives\";\nimport { ProgressContext, ProgressContextValue, ProgressDataSet } from \"./progress-context\";\n\ninterface GetValueLabelParams {\n  value: number;\n  min: number;\n  max: number;\n}\n\nexport interface ProgressRootOptions extends AsChildProp {\n  /**\n   * The progress value.\n   * @default 0\n   */\n  value?: number;\n\n  /**\n   * The minimum progress value.\n   * @default 0\n   */\n  minValue?: number;\n\n  /**\n   * The maximum progress value.\n   * @default 100\n   */\n  maxValue?: number;\n\n  /** Whether the progress is in an indeterminate state. */\n  indeterminate?: boolean;\n\n  /**\n   * A function to get the accessible label text representing the current value in a human-readable format.\n   * If not provided, the value label will be read as a percentage of the max value.\n   */\n  getValueLabel?: (params: GetValueLabelParams) => string;\n}\n\nexport interface ProgressRootProps extends OverrideComponentProps<\"div\", ProgressRootOptions> {}\n\n/**\n * Progress show either determinate or indeterminate progress of an operation over time.\n */\nexport function ProgressRoot(props: ProgressRootProps) {\n  const defaultId = `progress-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      value: 0,\n      minValue: 0,\n      maxValue: 100,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"value\",\n    \"minValue\",\n    \"maxValue\",\n    \"indeterminate\",\n    \"getValueLabel\",\n  ]);\n\n  const [labelId, setLabelId] = createSignal<string>();\n\n  const defaultFormatter = createNumberFormatter(() => ({ style: \"percent\" }));\n\n  const value = () => {\n    return clamp(local.value!, local.minValue!, local.maxValue!);\n  };\n\n  const valuePercent = () => {\n    return (value() - local.minValue!) / (local.maxValue! - local.minValue!);\n  };\n\n  const valueLabel = () => {\n    if (local.indeterminate) {\n      return undefined;\n    }\n\n    if (local.getValueLabel) {\n      return local.getValueLabel({\n        value: value(),\n        min: local.minValue!,\n        max: local.maxValue!,\n      });\n    }\n\n    return defaultFormatter().format(valuePercent());\n  };\n\n  const progressFillWidth = () => {\n    return local.indeterminate ? undefined : `${Math.round(valuePercent() * 100)}%`;\n  };\n\n  const dataset: Accessor<ProgressDataSet> = createMemo(() => {\n    let dataProgress: ProgressDataSet[\"data-progress\"] = undefined;\n\n    if (!local.indeterminate) {\n      dataProgress = valuePercent() === 1 ? \"complete\" : \"loading\";\n    }\n\n    return {\n      \"data-progress\": dataProgress,\n      \"data-indeterminate\": local.indeterminate ? \"\" : undefined,\n    };\n  });\n\n  const context: ProgressContextValue = {\n    dataset,\n    value,\n    valuePercent,\n    valueLabel,\n    labelId,\n    progressFillWidth,\n    generateId: createGenerateId(() => others.id!),\n    registerLabelId: createRegisterId(setLabelId),\n  };\n\n  return (\n    <ProgressContext.Provider value={context}>\n      <Polymorphic\n        as=\"div\"\n        role=\"progressbar\"\n        aria-valuenow={local.indeterminate ? undefined : value()}\n        aria-valuemin={local.minValue!}\n        aria-valuemax={local.maxValue!}\n        aria-valuetext={valueLabel()}\n        aria-labelledby={labelId()}\n        {...dataset()}\n        {...others}\n      />\n    </ProgressContext.Provider>\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useProgressContext } from \"./progress-context\";\n\nexport interface ProgressTrackProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The component that visually represents the progress track.\n * Act as a container for `Progress.Fill`.\n */\nexport function ProgressTrack(props: ProgressTrackProps) {\n  const context = useProgressContext();\n\n  return <Polymorphic as=\"div\" {...context.dataset()} {...props} />;\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useProgressContext } from \"./progress-context\";\n\nexport interface ProgressValueLabelProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The accessible label text representing the current value in a human-readable format.\n */\nexport function ProgressValueLabel(props: ProgressValueLabelProps) {\n  const context = useProgressContext();\n\n  return <Polymorphic as=\"div\" children={context.valueLabel()} {...context.dataset()} {...props} />;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface RadioGroupContextValue {\n  ariaDescribedBy: Accessor<string | undefined>;\n  isSelectedValue: (value: string) => boolean;\n  setSelectedValue: (value: string) => void;\n}\n\nexport const RadioGroupContext = createContext<RadioGroupContextValue>();\n\nexport function useRadioGroupContext() {\n  const context = useContext(RadioGroupContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useRadioGroupContext` must be used within a `RadioGroup` component\"\n    );\n  }\n\n  return context;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface RadioGroupItemDataSet {\n  \"data-valid\": string | undefined;\n  \"data-invalid\": string | undefined;\n  \"data-required\": string | undefined;\n  \"data-disabled\": string | undefined;\n  \"data-readonly\": string | undefined;\n  \"data-checked\": string | undefined;\n}\n\nexport interface RadioGroupItemContextValue {\n  value: Accessor<string>;\n  dataset: Accessor<RadioGroupItemDataSet>;\n  isSelected: Accessor<boolean>;\n  isDisabled: Accessor<boolean>;\n  inputId: Accessor<string | undefined>;\n  labelId: Accessor<string | undefined>;\n  descriptionId: Accessor<string | undefined>;\n  inputRef: Accessor<HTMLInputElement | undefined>;\n  select: () => void;\n  generateId: (part: string) => string;\n  registerInput: (id: string) => () => void;\n  registerLabel: (id: string) => () => void;\n  registerDescription: (id: string) => () => void;\n  setIsFocused: (isFocused: boolean) => void;\n  setInputRef: (el: HTMLInputElement) => void;\n}\n\nexport const RadioGroupItemContext = createContext<RadioGroupItemContextValue>();\n\nexport function useRadioGroupItemContext() {\n  const context = useContext(RadioGroupItemContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useRadioGroupItemContext` must be used within a `RadioGroup.Item` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-aria/radio/src/useRadio.ts\n */\n\nimport {\n  callHandler,\n  createGenerateId,\n  mergeDefaultProps,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { Accessor, createMemo, createSignal, createUniqueId, JSX, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createRegisterId } from \"../primitives\";\nimport { useRadioGroupContext } from \"./radio-group-context\";\nimport {\n  RadioGroupItemContext,\n  RadioGroupItemContextValue,\n  RadioGroupItemDataSet,\n} from \"./radio-group-item-context\";\n\nexport interface RadioGroupItemOptions {\n  /**\n   * The value of the radio button, used when submitting an HTML form.\n   * See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio#Value).\n   */\n  value: string;\n\n  /** Whether the radio button is disabled or not. */\n  disabled?: boolean;\n}\n\nexport interface RadioGroupItemProps extends OverrideComponentProps<\"div\", RadioGroupItemOptions> {}\n\n/**\n * The root container for a radio button.\n */\nexport function RadioGroupItem(props: RadioGroupItemProps) {\n  const formControlContext = useFormControlContext();\n  const radioGroupContext = useRadioGroupContext();\n\n  const defaultId = `${formControlContext.generateId(\"item\")}-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"value\", \"disabled\", \"onPointerDown\"]);\n\n  const [inputId, setInputId] = createSignal<string>();\n  const [labelId, setLabelId] = createSignal<string>();\n  const [descriptionId, setDescriptionId] = createSignal<string>();\n\n  const [inputRef, setInputRef] = createSignal<HTMLInputElement>();\n  const [isFocused, setIsFocused] = createSignal(false);\n\n  const isSelected = createMemo(() => {\n    return radioGroupContext.isSelectedValue(local.value);\n  });\n\n  const isDisabled = createMemo(() => {\n    return local.disabled || formControlContext.isDisabled() || false;\n  });\n\n  const onPointerDown: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    // For consistency with native, prevent the input blurs on pointer down.\n    if (isFocused()) {\n      e.preventDefault();\n    }\n  };\n\n  const dataset: Accessor<RadioGroupItemDataSet> = createMemo(() => ({\n    ...formControlContext.dataset(),\n    \"data-disabled\": isDisabled() ? \"\" : undefined,\n    \"data-checked\": isSelected() ? \"\" : undefined,\n  }));\n\n  const context: RadioGroupItemContextValue = {\n    value: () => local.value,\n    dataset,\n    isSelected,\n    isDisabled,\n    inputId,\n    labelId,\n    descriptionId,\n    inputRef,\n    select: () => radioGroupContext.setSelectedValue(local.value),\n    generateId: createGenerateId(() => others.id!),\n    registerInput: createRegisterId(setInputId),\n    registerLabel: createRegisterId(setLabelId),\n    registerDescription: createRegisterId(setDescriptionId),\n    setIsFocused,\n    setInputRef,\n  };\n\n  return (\n    <RadioGroupItemContext.Provider value={context}>\n      <Polymorphic as=\"div\" role=\"group\" onPointerDown={onPointerDown} {...dataset()} {...others} />\n    </RadioGroupItemContext.Provider>\n  );\n}\n","import { callHandler, EventKey, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useRadioGroupItemContext } from \"./radio-group-item-context\";\n\nexport interface RadioGroupItemControlProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The element that visually represents a radio button.\n */\nexport function RadioGroupItemControl(props: RadioGroupItemControlProps) {\n  const context = useRadioGroupItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"control\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"onClick\", \"onKeyDown\"]);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    context.select();\n    context.inputRef()?.focus();\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    if (e.key === EventKey.Space) {\n      context.select();\n      context.inputRef()?.focus();\n    }\n  };\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      onClick={onClick}\n      onKeyDown={onKeyDown}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useRadioGroupItemContext } from \"./radio-group-item-context\";\n\nexport interface RadioGroupItemDescriptionProps\n  extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The description that gives the user more information on the radio button.\n */\nexport function RadioGroupItemDescription(props: RadioGroupItemDescriptionProps) {\n  const context = useRadioGroupItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"description\"),\n    },\n    props\n  );\n\n  createEffect(() => onCleanup(context.registerDescription(props.id!)));\n\n  return <Polymorphic as=\"div\" {...context.dataset()} {...props} />;\n}\n","import { mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Show, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createPresence } from \"../primitives\";\nimport { useRadioGroupItemContext } from \"./radio-group-item-context\";\n\nexport interface RadioGroupItemIndicatorOptions extends AsChildProp {\n  /**\n   * Used to force mounting when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface RadioGroupItemIndicatorProps\n  extends OverrideComponentProps<\"div\", RadioGroupItemIndicatorOptions> {}\n\n/**\n * The visual indicator rendered when the radio item is in a checked state.\n * You can style this element directly, or you can use it as a wrapper to put an icon into, or both.\n */\nexport function RadioGroupItemIndicator(props: RadioGroupItemIndicatorProps) {\n  const context = useRadioGroupItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"indicator\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\", \"forceMount\"]);\n\n  const presence = createPresence(() => local.forceMount || context.isSelected());\n\n  return (\n    <Show when={presence.isPresent()}>\n      <Polymorphic\n        as=\"div\"\n        ref={mergeRefs(presence.setRef, local.ref)}\n        {...context.dataset()}\n        {...others}\n      />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-aria/radio/src/useRadio.ts\n */\n\nimport {\n  callHandler,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n  visuallyHiddenStyles,\n} from \"@kobalte/utils\";\nimport { createEffect, JSX, onCleanup, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { useRadioGroupContext } from \"./radio-group-context\";\nimport { useRadioGroupItemContext } from \"./radio-group-item-context\";\n\nexport interface RadioGroupItemInputOptions {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface RadioGroupItemInputProps\n  extends OverrideComponentProps<\"input\", RadioGroupItemInputOptions> {}\n\n/**\n * The native html input that is visually hidden in the radio button.\n */\nexport function RadioGroupItemInput(props: RadioGroupItemInputProps) {\n  const formControlContext = useFormControlContext();\n  const radioGroupContext = useRadioGroupContext();\n  const radioContext = useRadioGroupItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: radioContext.generateId(\"input\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"style\",\n    \"aria-labelledby\",\n    \"aria-describedby\",\n    \"onChange\",\n    \"onFocus\",\n    \"onBlur\",\n  ]);\n\n  const ariaLabelledBy = () => {\n    return (\n      [\n        local[\"aria-labelledby\"],\n        radioContext.labelId(),\n        // If there is both an aria-label and aria-labelledby, add the input itself has an aria-labelledby\n        local[\"aria-labelledby\"] != null && others[\"aria-label\"] != null ? others.id : undefined,\n      ]\n        .filter(Boolean)\n        .join(\" \") || undefined\n    );\n  };\n\n  const ariaDescribedBy = () => {\n    return (\n      [local[\"aria-describedby\"], radioContext.descriptionId(), radioGroupContext.ariaDescribedBy()]\n        .filter(Boolean)\n        .join(\" \") || undefined\n    );\n  };\n\n  const onChange: JSX.ChangeEventHandlerUnion<HTMLInputElement, Event> = e => {\n    callHandler(e, local.onChange);\n\n    e.stopPropagation();\n\n    radioGroupContext.setSelectedValue(radioContext.value());\n\n    const target = e.target as HTMLInputElement;\n\n    // Unlike in React, inputs `checked` state can be out of sync with our state.\n    // for example a readonly `<input type=\"radio\" />` is always \"checkable\".\n    //\n    // Also, even if an input is controlled (ex: `<input type=\"radio\" checked={isChecked} />`,\n    // clicking on the input will change its internal `checked` state.\n    //\n    // To prevent this, we need to force the input `checked` state to be in sync with our state.\n    target.checked = radioContext.isSelected();\n  };\n\n  const onFocus: JSX.FocusEventHandlerUnion<any, FocusEvent> = e => {\n    callHandler(e, local.onFocus);\n    radioContext.setIsFocused(true);\n  };\n\n  const onBlur: JSX.FocusEventHandlerUnion<any, FocusEvent> = e => {\n    callHandler(e, local.onBlur);\n    radioContext.setIsFocused(false);\n  };\n\n  createEffect(() => onCleanup(radioContext.registerInput(others.id!)));\n\n  return (\n    <input\n      ref={mergeRefs(radioContext.setInputRef, local.ref)}\n      type=\"radio\"\n      name={formControlContext.name()}\n      value={radioContext.value()}\n      checked={radioContext.isSelected()}\n      required={formControlContext.isRequired()}\n      disabled={radioContext.isDisabled()}\n      readonly={formControlContext.isReadOnly()}\n      style={{ ...visuallyHiddenStyles, ...local.style }}\n      aria-labelledby={ariaLabelledBy()}\n      aria-describedby={ariaDescribedBy()}\n      onChange={onChange}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      {...radioContext.dataset()}\n      {...others}\n    />\n  );\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { ComponentProps, createEffect, onCleanup } from \"solid-js\";\n\nimport { useRadioGroupItemContext } from \"./radio-group-item-context\";\n\nexport interface RadioGroupItemLabelProps extends ComponentProps<\"label\"> {}\n\n/**\n * The label that gives the user information on the radio button.\n */\nexport function RadioGroupItemLabel(props: RadioGroupItemLabelProps) {\n  const context = useRadioGroupItemContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"label\"),\n    },\n    props\n  );\n\n  createEffect(() => onCleanup(context.registerLabel(props.id!)));\n\n  return <label for={context.inputId()} {...context.dataset()} {...props} />;\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { FormControlLabel } from \"../form-control\";\nimport { AsChildProp } from \"../polymorphic\";\n\nexport interface RadioGroupLabelProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * The label that gives the user information on the radio group.\n */\nexport function RadioGroupLabel(props: RadioGroupLabelProps) {\n  return <FormControlLabel as=\"span\" {...(props as any)} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-aria/radio/src/useRadioGroup.ts\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-stately/radio/src/useRadioGroupState.ts\n */\n\nimport {\n  access,\n  mergeDefaultProps,\n  mergeRefs,\n  Orientation,\n  OverrideComponentProps,\n  ValidationState,\n} from \"@kobalte/utils\";\nimport { createUniqueId, splitProps } from \"solid-js\";\n\nimport { createFormControl, FORM_CONTROL_PROP_NAMES, FormControlContext } from \"../form-control\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createControllableSignal, createFormResetListener } from \"../primitives\";\nimport { RadioGroupContext, RadioGroupContextValue } from \"./radio-group-context\";\n\nexport interface RadioGroupRootOptions extends AsChildProp {\n  /** The controlled value of the radio button to check. */\n  value?: string;\n\n  /**\n   * The value of the radio button that should be checked when initially rendered.\n   * Useful when you do not need to control the state of the radio buttons.\n   */\n  defaultValue?: string;\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: string) => void;\n\n  /** The axis the radio group items should align with. */\n  orientation?: Orientation;\n\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n\n  /**\n   * The name of the radio group.\n   * Submitted with its owning form as part of a name/value pair.\n   */\n  name?: string;\n\n  /** Whether the radio group should display its \"valid\" or \"invalid\" visual styling. */\n  validationState?: ValidationState;\n\n  /** Whether the user must select an item before the owning form can be submitted. */\n  required?: boolean;\n\n  /** Whether the radio group is disabled. */\n  disabled?: boolean;\n\n  /** Whether the radio group is read only. */\n  readOnly?: boolean;\n}\n\nexport interface RadioGroupRootProps extends OverrideComponentProps<\"div\", RadioGroupRootOptions> {}\n\n/**\n * A set of checkable buttons, known as radio buttons, where no more than one of the buttons can be checked at a time.\n * This component is based on the [WAI-ARIA Radio Group Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/radiobutton/)\n */\nexport function RadioGroupRoot(props: RadioGroupRootProps) {\n  let ref: HTMLDivElement | undefined;\n\n  const defaultId = `radiogroup-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      orientation: \"vertical\",\n    },\n    props\n  );\n\n  const [local, formControlProps, others] = splitProps(\n    props,\n    [\n      \"ref\",\n      \"value\",\n      \"defaultValue\",\n      \"onChange\",\n      \"orientation\",\n      \"aria-labelledby\",\n      \"aria-describedby\",\n    ],\n    FORM_CONTROL_PROP_NAMES\n  );\n\n  const [selected, setSelected] = createControllableSignal<string>({\n    value: () => local.value,\n    defaultValue: () => local.defaultValue,\n    onChange: value => local.onChange?.(value),\n  });\n\n  const { formControlContext } = createFormControl(formControlProps);\n\n  createFormResetListener(\n    () => ref,\n    () => setSelected(local.defaultValue ?? \"\")\n  );\n\n  const ariaLabelledBy = () => {\n    return formControlContext.getAriaLabelledBy(\n      access(formControlProps.id),\n      others[\"aria-label\"],\n      local[\"aria-labelledby\"]\n    );\n  };\n\n  const ariaDescribedBy = () => {\n    return formControlContext.getAriaDescribedBy(local[\"aria-describedby\"]);\n  };\n\n  const isSelectedValue = (value: string) => {\n    return value === selected();\n  };\n\n  const context: RadioGroupContextValue = {\n    ariaDescribedBy,\n    isSelectedValue,\n    setSelectedValue: value => {\n      if (formControlContext.isReadOnly() || formControlContext.isDisabled()) {\n        return;\n      }\n\n      setSelected(value);\n\n      // Sync all radio input checked state in the group with the selected value.\n      // This is necessary because checked state might be out of sync\n      // (ex: when using controlled radio-group).\n      ref?.querySelectorAll(\"[type='radio']\").forEach(el => {\n        const radio = el as HTMLInputElement;\n        radio.checked = isSelectedValue(radio.value);\n      });\n    },\n  };\n\n  return (\n    <FormControlContext.Provider value={formControlContext}>\n      <RadioGroupContext.Provider value={context}>\n        <Polymorphic\n          as=\"div\"\n          ref={mergeRefs(el => (ref = el), local.ref)}\n          role=\"radiogroup\"\n          id={access(formControlProps.id)}\n          aria-invalid={formControlContext.validationState() === \"invalid\" || undefined}\n          aria-required={formControlContext.isRequired() || undefined}\n          aria-disabled={formControlContext.isDisabled() || undefined}\n          aria-readonly={formControlContext.isReadOnly() || undefined}\n          aria-orientation={local.orientation}\n          aria-labelledby={ariaLabelledBy()}\n          aria-describedby={ariaDescribedBy()}\n          {...formControlContext.dataset()}\n          {...others}\n        />\n      </RadioGroupContext.Provider>\n    </FormControlContext.Provider>\n  );\n}\n","import { Accessor, createContext, JSX, Setter, useContext } from \"solid-js\";\n\nimport { ListState } from \"../list\";\nimport { CollectionNode, CreatePresenceResult } from \"../primitives\";\nimport { FocusStrategy, KeyboardDelegate } from \"../selection\";\n\nexport interface SelectDataSet {\n  \"data-expanded\": string | undefined;\n  \"data-closed\": string | undefined;\n}\n\nexport interface SelectContextValue {\n  dataset: Accessor<SelectDataSet>;\n  isOpen: Accessor<boolean>;\n  isDisabled: Accessor<boolean>;\n  isMultiple: Accessor<boolean>;\n  isVirtualized: Accessor<boolean>;\n  isModal: Accessor<boolean>;\n  preventScroll: Accessor<boolean>;\n  disallowTypeAhead: Accessor<boolean>;\n  shouldFocusWrap: Accessor<boolean>;\n  selectedOptions: Accessor<any[]>;\n  contentPresence: CreatePresenceResult;\n  autoFocus: Accessor<FocusStrategy | boolean>;\n  triggerRef: Accessor<HTMLButtonElement | undefined>;\n  triggerId: Accessor<string | undefined>;\n  valueId: Accessor<string | undefined>;\n  listboxId: Accessor<string | undefined>;\n  listboxAriaLabelledBy: Accessor<string | undefined>;\n  listState: Accessor<ListState>;\n  keyboardDelegate: Accessor<KeyboardDelegate>;\n  setListboxAriaLabelledBy: Setter<string | undefined>;\n  setTriggerRef: (el: HTMLButtonElement) => void;\n  setContentRef: (el: HTMLDivElement) => void;\n  setListboxRef: (el: HTMLUListElement) => void;\n  open: (focusStrategy: FocusStrategy | boolean) => void;\n  close: () => void;\n  toggle: (focusStrategy: FocusStrategy | boolean) => void;\n  placeholder: Accessor<JSX.Element>;\n  renderItem: (item: CollectionNode) => JSX.Element;\n  renderSection: (section: CollectionNode) => JSX.Element;\n  removeOptionFromSelection: (option: any) => void;\n  generateId: (part: string) => string;\n  registerTriggerId: (id: string) => () => void;\n  registerValueId: (id: string) => () => void;\n  registerListboxId: (id: string) => () => void;\n}\n\nexport const SelectContext = createContext<SelectContextValue>();\n\nexport function useSelectContext() {\n  const context = useContext(SelectContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useSelectContext` must be used within a `Select` component\");\n  }\n\n  return context;\n}\n","import { focusWithoutScrolling, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, Show, splitProps } from \"solid-js\";\n\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { PopperPositioner } from \"../popper\";\nimport {\n  createFocusScope,\n  createHideOutside,\n  createPreventScroll,\n  FocusOutsideEvent,\n  InteractOutsideEvent,\n  PointerDownOutsideEvent,\n} from \"../primitives\";\nimport { useSelectContext } from \"./select-context\";\n\nexport interface SelectContentOptions extends AsChildProp {\n  /**\n   * Event handler called when focus moves to the trigger after closing.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onCloseAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when a pointer event occurs outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n\n  /**\n   * Event handler called when the focus moves outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n\n  /**\n   * Event handler called when an interaction (pointer or focus event) happens outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onInteractOutside?: (event: InteractOutsideEvent) => void;\n\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface SelectContentProps extends OverrideComponentProps<\"div\", SelectContentOptions> {}\n\n/**\n * The component that pops out when the select is open.\n */\nexport function SelectContent(props: SelectContentProps) {\n  let ref: HTMLElement | undefined;\n\n  const context = useSelectContext();\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"id\",\n    \"style\",\n    \"onCloseAutoFocus\",\n    \"onFocusOutside\",\n  ]);\n\n  const onEscapeKeyDown = (e: KeyboardEvent) => {\n    // `createSelectableList` prevent escape key down,\n    // which prevent our `onDismiss` in `DismissableLayer` to run,\n    // so we force \"close on escape\" here.\n    context.close();\n  };\n\n  const onFocusOutside = (e: FocusOutsideEvent) => {\n    local.onFocusOutside?.(e);\n\n    // When focus is trapped (in modal mode), a `focusout` event may still happen.\n    // We make sure we don't trigger our `onDismiss` in such case.\n    if (context.isOpen() && context.isModal()) {\n      e.preventDefault();\n    }\n  };\n\n  // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n  createHideOutside({\n    isDisabled: () => !(context.isOpen() && context.isModal()),\n    targets: () => (ref ? [ref] : []),\n  });\n\n  createPreventScroll({\n    ownerRef: () => ref,\n    isDisabled: () => !(context.isOpen() && (context.isModal() || context.preventScroll())),\n  });\n\n  createFocusScope(\n    {\n      trapFocus: () => context.isOpen() && context.isModal(),\n      onMountAutoFocus: e => {\n        // We prevent open autofocus because it's handled by the `Listbox`.\n        e.preventDefault();\n      },\n      onUnmountAutoFocus: e => {\n        local.onCloseAutoFocus?.(e);\n\n        if (!e.defaultPrevented) {\n          focusWithoutScrolling(context.triggerRef());\n          e.preventDefault();\n        }\n      },\n    },\n    () => ref\n  );\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer\n          ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n            ref = el;\n          }, local.ref)}\n          disableOutsidePointerEvents={context.isModal() && context.isOpen()}\n          excludedElements={[context.triggerRef]}\n          style={{\n            \"--kb-select-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n          }}\n          onEscapeKeyDown={onEscapeKeyDown}\n          onFocusOutside={onFocusOutside}\n          onDismiss={context.close}\n          {...context.dataset()}\n          {...others}\n        />\n      </PopperPositioner>\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/select/src/HiddenSelect.tsx\n */\n\nimport { ComponentProps } from \"solid-js\";\n\nimport { HiddenSelectBase } from \"./hidden-select-base\";\nimport { useSelectContext } from \"./select-context\";\n\nexport type SelectHiddenSelectProps = ComponentProps<\"select\">;\n\nexport function SelectHiddenSelect(props: SelectHiddenSelectProps) {\n  const context = useSelectContext();\n\n  return (\n    <HiddenSelectBase\n      collection={context.listState().collection()}\n      selectionManager={context.listState().selectionManager()}\n      isOpen={context.isOpen()}\n      isMultiple={context.isMultiple()}\n      isVirtualized={context.isVirtualized()}\n      focusTrigger={() => context.triggerRef()?.focus()}\n      {...props}\n    />\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useSelectContext } from \"./select-context\";\n\nexport interface SelectIconProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * A small icon often displayed next to the value as a visual affordance for the fact it can be open.\n * It renders a `` by default, but you can use your own icon `children`.\n */\nexport function SelectIcon(props: SelectIconProps) {\n  const context = useSelectContext();\n\n  props = mergeDefaultProps({ children: \"\" }, props);\n\n  return <Polymorphic as=\"span\" aria-hidden=\"true\" {...context.dataset()} {...props} />;\n}\n","import { callHandler, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport { FormControlLabel } from \"../form-control\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { useSelectContext } from \"./select-context\";\n\nexport interface SelectLabelProps extends OverrideComponentProps<\"span\", AsChildProp> {}\n\n/**\n * The label that gives the user information on the select.\n */\nexport function SelectLabel(props: SelectLabelProps) {\n  const context = useSelectContext();\n\n  const [local, others] = splitProps(props, [\"onClick\"]);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    if (!context.isDisabled()) {\n      context.triggerRef()?.focus();\n    }\n  };\n\n  return <FormControlLabel as=\"span\" onClick={onClick} {...(others as any)} />;\n}\n","import { callHandler, mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, JSX, onCleanup, splitProps } from \"solid-js\";\n\nimport * as Listbox from \"../listbox\";\nimport { useSelectContext } from \"./select-context\";\n\nexport interface SelectListboxOptions<Option, OptGroup = never>\n  extends Pick<\n    Listbox.ListboxRootOptions<Option, OptGroup>,\n    \"scrollRef\" | \"scrollToItem\" | \"children\"\n  > {}\n\nexport interface SelectListboxProps<Option, OptGroup = never>\n  extends Omit<OverrideComponentProps<\"ul\", SelectListboxOptions<Option, OptGroup>>, \"onChange\"> {}\n\n/**\n * Contains all the items of a `Select`.\n */\nexport function SelectListbox<Option = any, OptGroup = never>(\n  props: SelectListboxProps<Option, OptGroup>\n) {\n  const context = useSelectContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"listbox\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\", \"id\", \"onKeyDown\"]);\n\n  createEffect(() => onCleanup(context.registerListboxId(local.id!)));\n\n  /*\n  onMount(() => {\n    if (!context.isOpen() || context.autoFocus() === false) {\n      return;\n    }\n\n    let focusedKey = context.listState().selectionManager().firstSelectedKey();\n\n    if (focusedKey == null) {\n      if (context.autoFocus() === \"first\") {\n        focusedKey = context.listState().collection().getFirstKey();\n      } else if (context.autoFocus() === \"last\") {\n        focusedKey = context.listState().collection().getLastKey();\n      }\n    }\n\n    context.listState().selectionManager().setFocused(true);\n    context.listState().selectionManager().setFocusedKey(focusedKey);\n  });\n  */\n\n  const onKeyDown: JSX.EventHandlerUnion<HTMLUListElement, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    // Prevent from clearing the selection by `createSelectableCollection` on escape.\n    if (e.key === \"Escape\" && context.isMultiple()) {\n      e.preventDefault();\n    }\n  };\n\n  return (\n    <Listbox.Root\n      ref={mergeRefs(context.setListboxRef, local.ref)}\n      id={local.id}\n      state={context.listState()}\n      virtualized={context.isVirtualized()}\n      autoFocus={context.autoFocus()}\n      shouldSelectOnPressUp\n      shouldFocusOnHover\n      shouldFocusWrap={context.shouldFocusWrap()}\n      disallowTypeAhead={context.disallowTypeAhead()}\n      aria-labelledby={context.listboxAriaLabelledBy()}\n      renderItem={context.renderItem}\n      renderSection={context.renderSection}\n      onKeyDown={onKeyDown}\n      {...others}\n    />\n  );\n}\n","import { ComponentProps, Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport { useSelectContext } from \"./select-context\";\n\nexport interface SelectPortalProps extends ComponentProps<typeof Portal> {}\n\n/**\n * Portals its children into the `body` when the select is open.\n */\nexport function SelectPortal(props: SelectPortalProps) {\n  const context = useSelectContext();\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <Portal {...props} />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/select/src/useSelect.ts\n */\n\nimport {\n  access,\n  createGenerateId,\n  focusWithoutScrolling,\n  isFunction,\n  mergeDefaultProps,\n  OverrideComponentProps,\n  ValidationState,\n} from \"@kobalte/utils\";\nimport {\n  Accessor,\n  Component,\n  createEffect,\n  createMemo,\n  createSignal,\n  createUniqueId,\n  JSX,\n  on,\n  splitProps,\n} from \"solid-js\";\n\nimport { createFormControl, FORM_CONTROL_PROP_NAMES, FormControlContext } from \"../form-control\";\nimport { createCollator } from \"../i18n\";\nimport { createListState, ListKeyboardDelegate } from \"../list\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { PopperRoot, PopperRootOptions } from \"../popper\";\nimport {\n  CollectionNode,\n  createDisclosureState,\n  createFormResetListener,\n  createPresence,\n  createRegisterId,\n} from \"../primitives\";\nimport {\n  FocusStrategy,\n  KeyboardDelegate,\n  Selection,\n  SelectionBehavior,\n  SelectionMode,\n} from \"../selection\";\nimport { SelectContext, SelectContextValue, SelectDataSet } from \"./select-context\";\n\nexport interface SelectBaseItemComponentProps<T> {\n  /** The item to render. */\n  item: CollectionNode<T>;\n}\n\nexport interface SelectBaseSectionComponentProps<T> {\n  /** The section to render. */\n  section: CollectionNode<T>;\n}\n\nexport interface SelectBaseOptions<Option, OptGroup = never>\n  extends Omit<PopperRootOptions, \"anchorRef\" | \"contentRef\" | \"onCurrentPlacementChange\">,\n    AsChildProp {\n  /** The controlled open state of the select. */\n  open?: boolean;\n\n  /**\n   * The default open state when initially rendered.\n   * Useful when you do not need to control the open state.\n   */\n  defaultOpen?: boolean;\n\n  /** Event handler called when the open state of the select changes. */\n  onOpenChange?: (isOpen: boolean) => void;\n\n  /** The controlled value of the select. */\n  value?: Option[];\n\n  /**\n   * The value of the select when initially rendered.\n   * Useful when you do not need to control the value.\n   */\n  defaultValue?: Option[];\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: Option[]) => void;\n\n  /** The content that will be rendered when no value or defaultValue is set. */\n  placeholder?: JSX.Element;\n\n  /** An array of options to display as the available options. */\n  options: Array<Option | OptGroup>;\n\n  /**\n   * Property name or getter function to use as the value of an option.\n   * This is the value that will be submitted when the select is part of a `<form>`.\n   */\n  optionValue?: keyof Option | ((option: Option) => string | number);\n\n  /** Property name or getter function to use as the text value of an option for typeahead purpose. */\n  optionTextValue?: keyof Option | ((option: Option) => string);\n\n  /** Property name or getter function to use as the disabled flag of an option. */\n  optionDisabled?: keyof Option | ((option: Option) => boolean);\n\n  /** Property name or getter function that refers to the children options of an option group. */\n  optionGroupChildren?: keyof OptGroup | ((optGroup: OptGroup) => Option[]);\n\n  /** An optional keyboard delegate implementation for type to select, to override the default. */\n  keyboardDelegate?: KeyboardDelegate;\n\n  /** Whether focus should wrap around when the end/start is reached. */\n  shouldFocusWrap?: boolean;\n\n  /** The type of selection that is allowed in the select. */\n  selectionMode?: Exclude<SelectionMode, \"none\">;\n\n  /** How multiple selection should behave in the select. */\n  selectionBehavior?: SelectionBehavior;\n\n  /** Whether onValueChange should fire even if the new set of keys is the same as the last. */\n  allowDuplicateSelectionEvents?: boolean;\n\n  /** Whether the select allows empty selection. */\n  disallowEmptySelection?: boolean;\n\n  /** Whether typeahead is disabled. */\n  disallowTypeAhead?: boolean;\n\n  /** Whether the select uses virtual scrolling. */\n  virtualized?: boolean;\n\n  /** When NOT virtualized, the component to render as an item in the `Select.Listbox`. */\n  itemComponent?: Component<SelectBaseItemComponentProps<Option>>;\n\n  /** When NOT virtualized, the component to render as a section in the `Select.Listbox`. */\n  sectionComponent?: Component<SelectBaseSectionComponentProps<OptGroup>>;\n\n  /**\n   * Whether the select should be the only visible content for screen readers.\n   * When set to `true`:\n   * - interaction with outside elements will be disabled.\n   * - scroll will be locked.\n   * - focus will be locked inside the select content.\n   * - elements outside the select content will not be visible for screen readers.\n   */\n  modal?: boolean;\n\n  /** Whether the scroll should be locked even if the select is not modal. */\n  preventScroll?: boolean;\n\n  /**\n   * Used to force mounting the select (portal, positioner and content) when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n\n  /**\n   * The name of the select.\n   * Submitted with its owning form as part of a name/value pair.\n   */\n  name?: string;\n\n  /** Whether the select should display its \"valid\" or \"invalid\" visual styling. */\n  validationState?: ValidationState;\n\n  /** Whether the user must select an item before the owning form can be submitted. */\n  required?: boolean;\n\n  /** Whether the select is disabled. */\n  disabled?: boolean;\n\n  /** Whether the select is read only. */\n  readOnly?: boolean;\n\n  /** The children of the select. */\n  children?: JSX.Element;\n}\n\nexport interface SelectBaseProps<Option, OptGroup = never>\n  extends OverrideComponentProps<\"div\", SelectBaseOptions<Option, OptGroup>>,\n    AsChildProp {}\n\n/**\n * Base component for a select, provide context for its children.\n * Used to build single and multi-select.\n */\nexport function SelectBase<Option, OptGroup = never>(props: SelectBaseProps<Option, OptGroup>) {\n  const defaultId = `select-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      selectionMode: \"single\",\n      disallowEmptySelection: true,\n      allowDuplicateSelectionEvents: true,\n      gutter: 8,\n      sameWidth: true,\n      modal: false,\n      preventScroll: false,\n    },\n    props\n  );\n\n  const [local, popperProps, formControlProps, others] = splitProps(\n    props,\n    [\n      \"itemComponent\",\n      \"sectionComponent\",\n      \"open\",\n      \"defaultOpen\",\n      \"onOpenChange\",\n      \"value\",\n      \"defaultValue\",\n      \"onChange\",\n      \"placeholder\",\n      \"options\",\n      \"optionValue\",\n      \"optionTextValue\",\n      \"optionDisabled\",\n      \"optionGroupChildren\",\n      \"keyboardDelegate\",\n      \"allowDuplicateSelectionEvents\",\n      \"disallowEmptySelection\",\n      \"disallowTypeAhead\",\n      \"shouldFocusWrap\",\n      \"selectionBehavior\",\n      \"selectionMode\",\n      \"virtualized\",\n      \"modal\",\n      \"preventScroll\",\n      \"forceMount\",\n    ],\n    [\n      \"getAnchorRect\",\n      \"placement\",\n      \"gutter\",\n      \"shift\",\n      \"flip\",\n      \"slide\",\n      \"overlap\",\n      \"sameWidth\",\n      \"fitViewport\",\n      \"hideWhenDetached\",\n      \"detachedPadding\",\n      \"arrowPadding\",\n      \"overflowPadding\",\n    ],\n    FORM_CONTROL_PROP_NAMES\n  );\n\n  const [triggerId, setTriggerId] = createSignal<string>();\n  const [valueId, setValueId] = createSignal<string>();\n  const [listboxId, setListboxId] = createSignal<string>();\n\n  const [triggerRef, setTriggerRef] = createSignal<HTMLButtonElement>();\n  const [contentRef, setContentRef] = createSignal<HTMLDivElement>();\n  const [listboxRef, setListboxRef] = createSignal<HTMLUListElement>();\n\n  const [listboxAriaLabelledBy, setListboxAriaLabelledBy] = createSignal<string>();\n  const [focusStrategy, setFocusStrategy] = createSignal<FocusStrategy | boolean>(true);\n\n  const getOptionValue = (option: Option): string => {\n    const optionValue = local.optionValue;\n\n    if (optionValue == null) {\n      // If no `optionValue`, the option itself is the value (ex: string[] of options)\n      return String(option);\n    }\n\n    // Get the value from the option object as a string.\n    return String(isFunction(optionValue) ? optionValue(option) : option[optionValue]);\n  };\n\n  // Only options without option groups.\n  const flattenOptions = createMemo(() => {\n    const optionGroupChildren = local.optionGroupChildren;\n\n    // The combobox doesn't contains option groups.\n    if (optionGroupChildren == null) {\n      return local.options as Option[];\n    }\n\n    if (isFunction(optionGroupChildren)) {\n      return local.options.flatMap(\n        item => optionGroupChildren(item as OptGroup) ?? (item as Option)\n      );\n    }\n\n    return local.options.flatMap(\n      item => ((item as OptGroup)[optionGroupChildren] as Option[]) ?? (item as Option)\n    );\n  });\n\n  // Only option keys without option groups.\n  const flattenOptionKeys = createMemo(() => {\n    return flattenOptions().map(option => getOptionValue(option));\n  });\n\n  const getOptionsFromValues = (values: Set<string>): Option[] => {\n    return [...values]\n      .map(value => flattenOptions().find(option => getOptionValue(option) === value))\n      .filter(option => option != null) as Option[];\n  };\n\n  const disclosureState = createDisclosureState({\n    open: () => local.open,\n    defaultOpen: () => local.defaultOpen,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n  });\n\n  const listState = createListState({\n    selectedKeys: () => local.value && local.value.map(getOptionValue),\n    defaultSelectedKeys: () => local.defaultValue && local.defaultValue.map(getOptionValue),\n    onSelectionChange: keys => {\n      local.onChange?.(getOptionsFromValues(keys));\n\n      if (local.selectionMode === \"single\") {\n        close();\n      }\n    },\n    allowDuplicateSelectionEvents: () => access(local.allowDuplicateSelectionEvents),\n    disallowEmptySelection: () => access(local.disallowEmptySelection),\n    selectionBehavior: () => access(local.selectionBehavior),\n    selectionMode: () => local.selectionMode,\n    dataSource: () => local.options ?? [],\n    getKey: () => local.optionValue as any,\n    getTextValue: () => local.optionTextValue as any,\n    getDisabled: () => local.optionDisabled as any,\n    getSectionChildren: () => local.optionGroupChildren as any,\n  });\n\n  const selectedOptions = createMemo(() => {\n    return getOptionsFromValues(listState.selectionManager().selectedKeys());\n  });\n\n  const removeOptionFromSelection = (option: Option) => {\n    listState.selectionManager().toggleSelection(getOptionValue(option));\n  };\n\n  const contentPresence = createPresence(() => local.forceMount || disclosureState.isOpen());\n\n  const focusListbox = () => {\n    const listboxEl = listboxRef();\n\n    if (listboxEl) {\n      focusWithoutScrolling(listboxEl);\n    }\n  };\n\n  const open = (focusStrategy: FocusStrategy | boolean) => {\n    // Don't open if there is no option.\n    if (local.options.length <= 0) {\n      return;\n    }\n\n    setFocusStrategy(focusStrategy);\n    disclosureState.open();\n\n    let focusedKey = listState.selectionManager().firstSelectedKey();\n\n    if (focusedKey == null) {\n      if (focusStrategy === \"first\") {\n        focusedKey = listState.collection().getFirstKey();\n      } else if (focusStrategy === \"last\") {\n        focusedKey = listState.collection().getLastKey();\n      }\n    }\n\n    focusListbox();\n    listState.selectionManager().setFocused(true);\n    listState.selectionManager().setFocusedKey(focusedKey);\n  };\n\n  const close = () => {\n    disclosureState.close();\n\n    listState.selectionManager().setFocused(false);\n    listState.selectionManager().setFocusedKey(undefined);\n  };\n\n  const toggle = (focusStrategy: FocusStrategy | boolean) => {\n    if (disclosureState.isOpen()) {\n      close();\n    } else {\n      open(focusStrategy);\n    }\n  };\n\n  const { formControlContext } = createFormControl(formControlProps);\n\n  createFormResetListener(triggerRef, () => {\n    const defaultSelectedKeys = local.defaultValue\n      ? [...local.defaultValue].map(getOptionValue)\n      : new Selection();\n\n    listState.selectionManager().setSelectedKeys(defaultSelectedKeys);\n  });\n\n  const collator = createCollator({ usage: \"search\", sensitivity: \"base\" });\n\n  // By default, a KeyboardDelegate is provided which uses the DOM to query layout information (e.g. for page up/page down).\n  const delegate = createMemo(() => {\n    const keyboardDelegate = access(local.keyboardDelegate);\n\n    if (keyboardDelegate) {\n      return keyboardDelegate;\n    }\n\n    return new ListKeyboardDelegate(listState.collection, undefined, collator);\n  });\n\n  const renderItem = (item: CollectionNode) => {\n    return local.itemComponent?.({ item });\n  };\n\n  const renderSection = (section: CollectionNode) => {\n    return local.sectionComponent?.({ section });\n  };\n\n  // Delete selected keys that do not match any option in the listbox.\n  createEffect(\n    on(\n      [flattenOptionKeys],\n      ([flattenOptionKeys]) => {\n        const currentSelectedKeys = [...listState.selectionManager().selectedKeys()];\n\n        const keysToKeep = currentSelectedKeys.filter(key => flattenOptionKeys.includes(key));\n\n        listState.selectionManager().setSelectedKeys(keysToKeep);\n      },\n      {\n        defer: true,\n      }\n    )\n  );\n\n  const dataset: Accessor<SelectDataSet> = createMemo(() => ({\n    \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n    \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n  }));\n\n  const context: SelectContextValue = {\n    dataset,\n    isOpen: disclosureState.isOpen,\n    isDisabled: () => formControlContext.isDisabled() ?? false,\n    isMultiple: () => access(local.selectionMode) === \"multiple\",\n    isVirtualized: () => local.virtualized ?? false,\n    isModal: () => local.modal ?? false,\n    preventScroll: () => local.preventScroll ?? false,\n    disallowTypeAhead: () => local.disallowTypeAhead ?? false,\n    shouldFocusWrap: () => local.shouldFocusWrap ?? false,\n    selectedOptions,\n    contentPresence,\n    autoFocus: focusStrategy,\n    triggerRef,\n    listState: () => listState,\n    keyboardDelegate: delegate,\n    triggerId,\n    valueId,\n    listboxId,\n    listboxAriaLabelledBy,\n    setListboxAriaLabelledBy,\n    setTriggerRef,\n    setContentRef,\n    setListboxRef,\n    open,\n    close,\n    toggle,\n    placeholder: () => local.placeholder,\n    renderItem,\n    renderSection,\n    removeOptionFromSelection,\n    generateId: createGenerateId(() => access(formControlProps.id)!),\n    registerTriggerId: createRegisterId(setTriggerId),\n    registerValueId: createRegisterId(setValueId),\n    registerListboxId: createRegisterId(setListboxId),\n  };\n\n  return (\n    <FormControlContext.Provider value={formControlContext}>\n      <SelectContext.Provider value={context}>\n        <PopperRoot anchorRef={triggerRef} contentRef={contentRef} {...popperProps}>\n          <Polymorphic\n            as=\"div\"\n            role=\"group\"\n            id={access(formControlProps.id)}\n            {...formControlContext.dataset()}\n            {...dataset()}\n            {...others}\n          />\n        </PopperRoot>\n      </SelectContext.Provider>\n    </FormControlContext.Provider>\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\nimport { createMemo, splitProps } from \"solid-js\";\n\nimport { AsChildProp } from \"../polymorphic\";\nimport { SelectBase, SelectBaseOptions } from \"./select-base\";\n\nexport interface SelectSingleSelectionOptions<T> {\n  /** The controlled value of the select. */\n  value?: T;\n\n  /**\n   * The value of the select when initially rendered.\n   * Useful when you do not need to control the value.\n   */\n  defaultValue?: T;\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: T) => void;\n\n  /** Whether the select allow multiple selection. */\n  multiple?: false;\n}\n\nexport interface SelectMultipleSelectionOptions<T> {\n  /** The controlled value of the select. */\n  value?: T[];\n\n  /**\n   * The value of the select when initially rendered.\n   * Useful when you do not need to control the value.\n   */\n  defaultValue?: T[];\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: T[]) => void;\n\n  /** Whether the select allow multiple selection. */\n  multiple: true;\n}\n\nexport type SelectRootOptions<Option, OptGroup = never> = (\n  | SelectSingleSelectionOptions<Option>\n  | SelectMultipleSelectionOptions<Option>\n) &\n  AsChildProp &\n  Omit<\n    SelectBaseOptions<Option, OptGroup>,\n    \"value\" | \"defaultValue\" | \"onChange\" | \"selectionMode\"\n  >;\n\nexport type SelectRootProps<Option, OptGroup = never> = OverrideComponentProps<\n  \"div\",\n  SelectRootOptions<Option, OptGroup>\n>;\n\n/**\n * Displays a list of options for the user to pick from  triggered by a button.\n */\nexport function SelectRoot<Option, OptGroup = never>(props: SelectRootProps<Option, OptGroup>) {\n  const [local, others] = splitProps(props, [\"value\", \"defaultValue\", \"onChange\", \"multiple\"]);\n\n  const value = createMemo(() => {\n    if (local.value == null) {\n      return undefined;\n    }\n\n    return local.multiple ? (local.value as Option[]) : [local.value as Option];\n  });\n\n  const defaultValue = createMemo(() => {\n    if (local.defaultValue == null) {\n      return undefined;\n    }\n\n    return local.multiple ? (local.defaultValue as Option[]) : [local.defaultValue as Option];\n  });\n\n  const onChange = (value: Option[]) => {\n    local.onChange?.(local.multiple ? value : (value[0] as any));\n  };\n\n  return (\n    <SelectBase\n      value={value()}\n      defaultValue={defaultValue()}\n      onChange={onChange}\n      selectionMode={local.multiple ? \"multiple\" : \"single\"}\n      disallowEmptySelection={!local.multiple}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/select/src/useSelect.ts\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/menu/src/useMenuTrigger.ts\n */\n\nimport { callHandler, mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, JSX, onCleanup, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport {\n  createFormControlField,\n  FORM_CONTROL_FIELD_PROP_NAMES,\n  useFormControlContext,\n} from \"../form-control\";\nimport { createTypeSelect } from \"../selection\";\nimport { useSelectContext } from \"./select-context\";\n\nexport interface SelectTriggerProps\n  extends OverrideComponentProps<\"button\", Button.ButtonRootOptions> {}\n\nexport function SelectTrigger(props: SelectTriggerProps) {\n  const formControlContext = useFormControlContext();\n  const context = useSelectContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"trigger\"),\n    },\n    props\n  );\n\n  const [local, formControlFieldProps, others] = splitProps(\n    props,\n    [\"ref\", \"disabled\", \"onPointerDown\", \"onClick\", \"onKeyDown\", \"onFocus\", \"onBlur\"],\n    FORM_CONTROL_FIELD_PROP_NAMES\n  );\n\n  const selectionManager = () => context.listState().selectionManager();\n  const keyboardDelegate = () => context.keyboardDelegate();\n\n  const isDisabled = () => local.disabled || context.isDisabled();\n\n  const { fieldProps } = createFormControlField(formControlFieldProps);\n\n  const { typeSelectHandlers } = createTypeSelect({\n    keyboardDelegate: keyboardDelegate,\n    selectionManager: selectionManager,\n    onTypeSelect: key => selectionManager().select(key),\n  });\n\n  const ariaLabelledBy = () => {\n    return (\n      [context.listboxAriaLabelledBy(), context.valueId()].filter(Boolean).join(\" \") || undefined\n    );\n  };\n\n  const onPointerDown: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    e.currentTarget.dataset.pointerType = e.pointerType;\n\n    // For consistency with native, open the select on mouse down (main button), but touch up.\n    if (!isDisabled() && e.pointerType !== \"touch\" && e.button === 0) {\n      // prevent trigger from stealing focus from the active item after opening.\n      e.preventDefault();\n\n      context.toggle(true);\n    }\n  };\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    if (!isDisabled() && e.currentTarget.dataset.pointerType === \"touch\") {\n      context.toggle(true);\n    }\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<HTMLButtonElement, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    if (isDisabled()) {\n      return;\n    }\n\n    callHandler(e, typeSelectHandlers.onKeyDown);\n\n    switch (e.key) {\n      case \"Enter\":\n      case \" \":\n      case \"ArrowDown\":\n        e.stopPropagation();\n        e.preventDefault();\n        context.toggle(\"first\");\n        break;\n      case \"ArrowUp\":\n        e.stopPropagation();\n        e.preventDefault();\n        context.toggle(\"last\");\n        break;\n      case \"ArrowLeft\": {\n        // prevent scrolling containers\n        e.preventDefault();\n\n        if (context.isMultiple()) {\n          return;\n        }\n\n        const firstSelectedKey = selectionManager().firstSelectedKey();\n\n        const key =\n          firstSelectedKey != null\n            ? keyboardDelegate().getKeyAbove?.(firstSelectedKey)\n            : keyboardDelegate().getFirstKey?.();\n\n        if (key != null) {\n          selectionManager().select(key);\n        }\n\n        break;\n      }\n      case \"ArrowRight\": {\n        // prevent scrolling containers\n        e.preventDefault();\n\n        if (context.isMultiple()) {\n          return;\n        }\n\n        const firstSelectedKey = selectionManager().firstSelectedKey();\n\n        const key =\n          firstSelectedKey != null\n            ? keyboardDelegate().getKeyBelow?.(firstSelectedKey)\n            : keyboardDelegate().getFirstKey?.();\n\n        if (key != null) {\n          selectionManager().select(key);\n        }\n\n        break;\n      }\n    }\n  };\n\n  const onFocus: JSX.EventHandlerUnion<any, FocusEvent> = e => {\n    callHandler(e, local.onFocus);\n\n    if (selectionManager().isFocused()) {\n      return;\n    }\n\n    selectionManager().setFocused(true);\n  };\n\n  const onBlur: JSX.EventHandlerUnion<any, FocusEvent> = e => {\n    callHandler(e, local.onBlur);\n\n    if (context.isOpen()) {\n      return;\n    }\n\n    selectionManager().setFocused(false);\n  };\n\n  createEffect(() => onCleanup(context.registerTriggerId(fieldProps.id()!)));\n\n  createEffect(() => {\n    context.setListboxAriaLabelledBy(\n      [\n        fieldProps.ariaLabelledBy(),\n        fieldProps.ariaLabel() && !fieldProps.ariaLabelledBy() ? fieldProps.id() : null,\n      ]\n        .filter(Boolean)\n        .join(\" \") || undefined\n    );\n  });\n\n  return (\n    <Button.Root\n      ref={mergeRefs(context.setTriggerRef, local.ref)}\n      id={fieldProps.id()}\n      disabled={isDisabled()}\n      aria-haspopup=\"listbox\"\n      aria-expanded={context.isOpen()}\n      aria-controls={context.isOpen() ? context.listboxId() : undefined}\n      aria-label={fieldProps.ariaLabel()}\n      aria-labelledby={ariaLabelledBy()}\n      aria-describedby={fieldProps.ariaDescribedBy()}\n      onPointerDown={onPointerDown}\n      onClick={onClick}\n      onKeyDown={onKeyDown}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      {...context.dataset()}\n      {...formControlContext.dataset()}\n      {...others}\n    />\n  );\n}\n","import { isFunction, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Accessor, children, createEffect, JSX, onCleanup, Show, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { useSelectContext } from \"./select-context\";\n\nexport interface SelectValueState<T> {\n  /** The first (or only, in case of single select) selected option. */\n  selectedOption: Accessor<T>;\n\n  /** An array of selected options. It will contain only one value in case of single select. */\n  selectedOptions: Accessor<T[]>;\n\n  /** A function to remove an option from the selection. */\n  remove: (option: T) => void;\n\n  /** A function to clear the selection. */\n  clear: () => void;\n}\n\nexport interface SelectValueOptions<T> {\n  /**\n   * The children of the select value.\n   * Can be a `JSX.Element` or a _render prop_ for having access to the internal state.\n   */\n  children?: JSX.Element | ((state: SelectValueState<T>) => JSX.Element);\n}\n\nexport interface SelectValueProps<T>\n  extends OverrideComponentProps<\"span\", SelectValueOptions<T>> {}\n\n/**\n * The part that reflects the selected value(s).\n */\nexport function SelectValue<T>(props: SelectValueProps<T>) {\n  const formControlContext = useFormControlContext();\n  const context = useSelectContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"value\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\", \"children\"]);\n\n  const selectionManager = () => context.listState().selectionManager();\n\n  const isSelectionEmpty = () => {\n    const selectedKeys = selectionManager().selectedKeys();\n\n    // Some form libraries uses an empty string as default value, often taken from an empty `<option />`.\n    // Ignore since it is not a valid key.\n    if (selectedKeys.size === 1 && selectedKeys.has(\"\")) {\n      return true;\n    }\n\n    return selectionManager().isEmpty();\n  };\n\n  createEffect(() => onCleanup(context.registerValueId(local.id!)));\n  return (\n    <span\n      id={local.id}\n      data-placeholder-shown={isSelectionEmpty() ? \"\" : undefined}\n      {...formControlContext.dataset()}\n      {...others}\n    >\n      <Show when={!isSelectionEmpty()} fallback={context.placeholder()}>\n        <SelectValueChild\n          state={{\n            selectedOption: () => context.selectedOptions()[0],\n            selectedOptions: () => context.selectedOptions(),\n            remove: option => context.removeOptionFromSelection(option),\n            clear: () => selectionManager().clearSelection(),\n          }}\n          children={local.children}\n        />\n      </Show>\n    </span>\n  );\n}\n\ninterface SelectValueChildProps<T> extends Pick<SelectValueOptions<T>, \"children\"> {\n  state: SelectValueState<T>;\n}\n\nfunction SelectValueChild<T>(props: SelectValueChildProps<T>) {\n  const resolvedChildren = children(() => {\n    const body = props.children;\n    return isFunction(body) ? body(props.state) : body;\n  });\n\n  return <>{resolvedChildren()}</>;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface SwitchDataSet {\n  \"data-checked\": string | undefined;\n}\n\nexport interface SwitchContextValue {\n  value: Accessor<string>;\n  dataset: Accessor<SwitchDataSet>;\n  checked: Accessor<boolean>;\n  inputRef: Accessor<HTMLInputElement | undefined>;\n  generateId: (part: string) => string;\n  toggle: () => void;\n  setIsChecked: (isChecked: boolean) => void;\n  setIsFocused: (isFocused: boolean) => void;\n  setInputRef: (el: HTMLInputElement) => void;\n}\n\nexport const SwitchContext = createContext<SwitchContextValue>();\n\nexport function useSwitchContext() {\n  const context = useContext(SwitchContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useSwitchContext` must be used within a `Switch` component\");\n  }\n\n  return context;\n}\n","import { callHandler, EventKey, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useSwitchContext } from \"./switch-context\";\n\nexport interface SwitchControlProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The element that visually represents a switch.\n */\nexport function SwitchControl(props: SwitchControlProps) {\n  const formControlContext = useFormControlContext();\n  const context = useSwitchContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"control\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"onClick\", \"onKeyDown\"]);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    context.toggle();\n    context.inputRef()?.focus();\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<any, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    if (e.key === EventKey.Space) {\n      context.toggle();\n      context.inputRef()?.focus();\n    }\n  };\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      onClick={onClick}\n      onKeyDown={onKeyDown}\n      {...formControlContext.dataset()}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { FormControlDescription, FormControlDescriptionProps } from \"../form-control\";\nimport { useSwitchContext } from \"./switch-context\";\n\nexport interface SwitchDescriptionProps extends FormControlDescriptionProps {}\n\n/**\n * The description that gives the user more information on the switch.\n */\nexport function SwitchDescription(props: SwitchDescriptionProps) {\n  const context = useSwitchContext();\n\n  return <FormControlDescription {...context.dataset()} {...props} />;\n}\n","import { FormControlErrorMessage, FormControlErrorMessageProps } from \"../form-control\";\nimport { useSwitchContext } from \"./switch-context\";\n\nexport interface SwitchErrorMessageProps extends FormControlErrorMessageProps {}\n\n/**\n * The error message that gives the user information about how to fix a validation error on the switch.\n */\nexport function SwitchErrorMessage(props: SwitchErrorMessageProps) {\n  const context = useSwitchContext();\n\n  return <FormControlErrorMessage {...context.dataset()} {...props} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/3155e4db7eba07cf06525747ce0adb54c1e2a086/packages/@react-aria/switch/src/useSwitch.ts\n * https://github.com/adobe/react-spectrum/blob/3155e4db7eba07cf06525747ce0adb54c1e2a086/packages/@react-aria/toggle/src/useToggle.ts\n */\n\nimport {\n  callHandler,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n  visuallyHiddenStyles,\n} from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport {\n  createFormControlField,\n  FORM_CONTROL_FIELD_PROP_NAMES,\n  useFormControlContext,\n} from \"../form-control\";\nimport { useSwitchContext } from \"./switch-context\";\n\nexport interface SwitchInputOptions {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface SwitchInputProps extends OverrideComponentProps<\"input\", SwitchInputOptions> {}\n\n/**\n * The native html input that is visually hidden in the switch.\n */\nexport function SwitchInput(props: SwitchInputProps) {\n  const formControlContext = useFormControlContext();\n  const context = useSwitchContext();\n\n  props = mergeDefaultProps({ id: context.generateId(\"input\") }, props);\n\n  const [local, formControlFieldProps, others] = splitProps(\n    props,\n    [\"ref\", \"style\", \"onChange\", \"onFocus\", \"onBlur\"],\n    FORM_CONTROL_FIELD_PROP_NAMES\n  );\n\n  const { fieldProps } = createFormControlField(formControlFieldProps);\n\n  const onChange: JSX.ChangeEventHandlerUnion<HTMLInputElement, Event> = e => {\n    callHandler(e, local.onChange);\n\n    e.stopPropagation();\n\n    const target = e.target as HTMLInputElement;\n\n    context.setIsChecked(target.checked);\n\n    // Unlike in React, inputs `checked` state can be out of sync with our toggle state.\n    // for example a readonly `<input type=\"checkbox\" />` is always \"checkable\".\n    //\n    // Also, even if an input is controlled (ex: `<input type=\"checkbox\" checked={isChecked} />`,\n    // clicking on the input will change its internal `checked` state.\n    //\n    // To prevent this, we need to force the input `checked` state to be in sync with the toggle state.\n    target.checked = context.checked();\n  };\n\n  const onFocus: JSX.FocusEventHandlerUnion<any, FocusEvent> = e => {\n    callHandler(e, local.onFocus);\n    context.setIsFocused(true);\n  };\n\n  const onBlur: JSX.FocusEventHandlerUnion<any, FocusEvent> = e => {\n    callHandler(e, local.onBlur);\n    context.setIsFocused(false);\n  };\n\n  return (\n    <input\n      ref={mergeRefs(context.setInputRef, local.ref)}\n      type=\"checkbox\"\n      role=\"switch\"\n      id={fieldProps.id()}\n      name={formControlContext.name()}\n      value={context.value()}\n      checked={context.checked()}\n      required={formControlContext.isRequired()}\n      disabled={formControlContext.isDisabled()}\n      readonly={formControlContext.isReadOnly()}\n      style={{ ...visuallyHiddenStyles, ...local.style }}\n      aria-label={fieldProps.ariaLabel()}\n      aria-labelledby={fieldProps.ariaLabelledBy()}\n      aria-describedby={fieldProps.ariaDescribedBy()}\n      aria-invalid={formControlContext.validationState() === \"invalid\" || undefined}\n      aria-required={formControlContext.isRequired() || undefined}\n      aria-disabled={formControlContext.isDisabled() || undefined}\n      aria-readonly={formControlContext.isReadOnly() || undefined}\n      onChange={onChange}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      {...formControlContext.dataset()}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n","import { FormControlLabel, FormControlLabelProps } from \"../form-control\";\nimport { useSwitchContext } from \"./switch-context\";\n\nexport interface SwitchLabelProps extends FormControlLabelProps {}\n\n/**\n * The label that gives the user information on the switch.\n */\nexport function SwitchLabel(props: SwitchLabelProps) {\n  const context = useSwitchContext();\n\n  return <FormControlLabel {...context.dataset()} {...props} />;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/3155e4db7eba07cf06525747ce0adb54c1e2a086/packages/@react-aria/switch/src/useSwitch.ts\n */\n\nimport {\n  access,\n  callHandler,\n  createGenerateId,\n  isFunction,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n  ValidationState,\n} from \"@kobalte/utils\";\nimport {\n  Accessor,\n  children,\n  createMemo,\n  createSignal,\n  createUniqueId,\n  JSX,\n  splitProps,\n} from \"solid-js\";\n\nimport { createFormControl, FORM_CONTROL_PROP_NAMES, FormControlContext } from \"../form-control\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createFormResetListener, createToggleState } from \"../primitives\";\nimport { SwitchContext, SwitchContextValue, SwitchDataSet } from \"./switch-context\";\n\ninterface SwitchRootState {\n  /** Whether the switch is checked or not. */\n  checked: Accessor<boolean>;\n}\n\nexport interface SwitchRootOptions {\n  /** The controlled checked state of the switch. */\n  checked?: boolean;\n\n  /**\n   * The default checked state when initially rendered.\n   * Useful when you do not need to control the checked state.\n   */\n  defaultChecked?: boolean;\n\n  /** Event handler called when the checked state of the switch changes. */\n  onChange?: (isChecked: boolean) => void;\n\n  /**\n   * The value of the switch, used when submitting an HTML form.\n   * See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#htmlattrdefvalue).\n   */\n  value?: string;\n\n  /**\n   * The name of the switch, used when submitting an HTML form.\n   * See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#htmlattrdefname).\n   */\n  name?: string;\n\n  /** Whether the switch should display its \"valid\" or \"invalid\" visual styling. */\n  validationState?: ValidationState;\n\n  /** Whether the user must check the switch before the owning form can be submitted. */\n  required?: boolean;\n\n  /** Whether the switch is disabled. */\n  disabled?: boolean;\n\n  /** Whether the switch is read only. */\n  readOnly?: boolean;\n\n  /**\n   * The children of the switch.\n   * Can be a `JSX.Element` or a _render prop_ for having access to the internal state.\n   */\n  children?: JSX.Element | ((state: SwitchRootState) => JSX.Element);\n}\n\nexport interface SwitchRootProps extends OverrideComponentProps<\"div\", SwitchRootOptions> {}\n\n/**\n * A control that allows users to choose one of two values: on or off.\n */\nexport function SwitchRoot(props: SwitchRootProps) {\n  let ref: HTMLDivElement | undefined;\n\n  const defaultId = `switch-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      value: \"on\",\n      id: defaultId,\n    },\n    props\n  );\n\n  const [local, formControlProps, others] = splitProps(\n    props,\n    [\"ref\", \"children\", \"value\", \"checked\", \"defaultChecked\", \"onChange\", \"onPointerDown\"],\n    FORM_CONTROL_PROP_NAMES\n  );\n\n  const [inputRef, setInputRef] = createSignal<HTMLInputElement>();\n  const [isFocused, setIsFocused] = createSignal(false);\n\n  const { formControlContext } = createFormControl(formControlProps);\n\n  const state = createToggleState({\n    isSelected: () => local.checked,\n    defaultIsSelected: () => local.defaultChecked,\n    onSelectedChange: selected => local.onChange?.(selected),\n    isDisabled: () => formControlContext.isDisabled(),\n    isReadOnly: () => formControlContext.isReadOnly(),\n  });\n\n  createFormResetListener(\n    () => ref,\n    () => state.setIsSelected(local.defaultChecked ?? false)\n  );\n\n  const onPointerDown: JSX.EventHandlerUnion<any, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    // For consistency with native, prevent the input blurs on pointer down.\n    if (isFocused()) {\n      e.preventDefault();\n    }\n  };\n\n  const dataset: Accessor<SwitchDataSet> = createMemo(() => ({\n    \"data-checked\": state.isSelected() ? \"\" : undefined,\n  }));\n\n  const context: SwitchContextValue = {\n    value: () => local.value!,\n    dataset,\n    checked: () => state.isSelected(),\n    inputRef,\n    generateId: createGenerateId(() => access(formControlProps.id)!),\n    toggle: () => state.toggle(),\n    setIsChecked: isChecked => state.setIsSelected(isChecked),\n    setIsFocused,\n    setInputRef,\n  };\n\n  return (\n    <FormControlContext.Provider value={formControlContext}>\n      <SwitchContext.Provider value={context}>\n        <Polymorphic\n          as=\"div\"\n          ref={mergeRefs(el => (ref = el), local.ref)}\n          role=\"group\"\n          id={access(formControlProps.id)}\n          onPointerDown={onPointerDown}\n          {...formControlContext.dataset()}\n          {...dataset()}\n          {...others}\n        >\n          <SwitchRootChild state={context} children={local.children} />\n        </Polymorphic>\n      </SwitchContext.Provider>\n    </FormControlContext.Provider>\n  );\n}\n\ninterface SwitchRootChildProps extends Pick<SwitchRootOptions, \"children\"> {\n  state: SwitchRootState;\n}\n\nfunction SwitchRootChild(props: SwitchRootChildProps) {\n  const resolvedChildren = children(() => {\n    const body = props.children;\n    return isFunction(body) ? body(props.state) : body;\n  });\n\n  return <>{resolvedChildren()}</>;\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { useFormControlContext } from \"../form-control\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useSwitchContext } from \"./switch-context\";\n\nexport interface SwitchThumbProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The thumb that is used to visually indicate whether the switch is on or off.\n */\nexport function SwitchThumb(props: SwitchThumbProps) {\n  const formControlContext = useFormControlContext();\n  const context = useSwitchContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"thumb\"),\n    },\n    props\n  );\n\n  return (\n    <Polymorphic as=\"div\" {...formControlContext.dataset()} {...context.dataset()} {...props} />\n  );\n}\n","import { Orientation } from \"@kobalte/utils\";\nimport { Accessor, createContext, Setter, useContext } from \"solid-js\";\n\nimport { SingleSelectListState } from \"../list\";\nimport { TabsActivationMode } from \"./types\";\n\nexport interface TabsContextValue {\n  isDisabled: Accessor<boolean>;\n  orientation: Accessor<Orientation>;\n  activationMode: Accessor<TabsActivationMode>;\n  triggerIdsMap: Accessor<Map<string, string>>;\n  contentIdsMap: Accessor<Map<string, string>>;\n  listState: Accessor<SingleSelectListState>;\n  selectedTab: Accessor<HTMLElement | undefined>;\n  setSelectedTab: Setter<HTMLElement | undefined>;\n  generateTriggerId: (value: string) => string;\n  generateContentId: (value: string) => string;\n}\n\nexport const TabsContext = createContext<TabsContextValue>();\n\nexport function useTabsContext() {\n  const context = useContext(TabsContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useTabsContext` must be used within a `Tabs` component\");\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/6b51339cca0b8344507d3c8e81e7ad05d6e75f9b/packages/@react-aria/tabs/src/useTabPanel.ts\n */\n\nimport { getFocusableTreeWalker, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, createSignal, on, onCleanup, Show, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createPresence } from \"../primitives\";\nimport { useTabsContext } from \"./tabs-context\";\n\nexport interface TabsContentOptions extends AsChildProp {\n  /** The unique key that associates the tab panel with a tab. */\n  value: string;\n\n  /**\n   * Used to force mounting when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n}\n\nexport interface TabsContentProps extends OverrideComponentProps<\"div\", TabsContentOptions> {}\n\n/**\n * Contains the content associated with a tab trigger.\n */\nexport function TabsContent(props: TabsContentProps) {\n  let ref!: HTMLElement;\n\n  const context = useTabsContext();\n\n  const [local, others] = splitProps(props, [\"ref\", \"id\", \"value\", \"forceMount\"]);\n\n  const [tabIndex, setTabIndex] = createSignal<number | undefined>(0);\n\n  const id = () => local.id ?? context.generateContentId(local.value);\n\n  const isSelected = () => context.listState().selectedKey() === local.value;\n\n  const presence = createPresence(() => local.forceMount || isSelected());\n\n  createEffect(\n    on([() => ref, () => presence.isPresent()], ([ref, isPresent]) => {\n      if (ref == null || !isPresent) {\n        return;\n      }\n\n      const updateTabIndex = () => {\n        // Detect if there are any tabbable elements and update the tabIndex accordingly.\n        const walker = getFocusableTreeWalker(ref, { tabbable: true });\n        setTabIndex(walker.nextNode() ? undefined : 0);\n      };\n\n      updateTabIndex();\n\n      const observer = new MutationObserver(updateTabIndex);\n\n      // Update when new elements are inserted, or the tabindex/disabled attribute updates.\n      observer.observe(ref, {\n        subtree: true,\n        childList: true,\n        attributes: true,\n        attributeFilter: [\"tabindex\", \"disabled\"],\n      });\n\n      onCleanup(() => {\n        observer.disconnect();\n      });\n    })\n  );\n\n  createEffect(\n    on([() => local.value, id], ([value, id]) => {\n      context.contentIdsMap().set(value, id);\n    })\n  );\n\n  return (\n    <Show when={presence.isPresent()}>\n      <Polymorphic\n        as=\"div\"\n        ref={mergeRefs(el => {\n          presence.setRef(el);\n          ref = el;\n        }, local.ref)}\n        id={id()}\n        role=\"tabpanel\"\n        tabIndex={tabIndex()}\n        aria-labelledby={context.triggerIdsMap().get(local.value)}\n        data-orientation={context.orientation()}\n        data-selected={isSelected() ? \"\" : undefined}\n        {...others}\n      />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/703ab7b4559ecd4fc611e7f2c0e758867990fe01/packages/@react-spectrum/tabs/src/Tabs.tsx\n */\n\nimport { OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, createSignal, JSX, on, onMount, splitProps } from \"solid-js\";\n\nimport { useLocale } from \"../i18n\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useTabsContext } from \"./tabs-context\";\n\nexport interface TabsIndicatorOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface TabsIndicatorProps extends OverrideComponentProps<\"div\", TabsIndicatorOptions> {}\n\n/**\n * The visual indicator displayed at the bottom of the tab list to indicate the selected tab.\n * It provides the base style needed to display a smooth transition to the new selected tab.\n */\nexport function TabsIndicator(props: TabsIndicatorProps) {\n  const context = useTabsContext();\n\n  const [local, others] = splitProps(props, [\"style\"]);\n\n  const [style, setStyle] = createSignal<JSX.CSSProperties>({\n    width: undefined,\n    height: undefined,\n  });\n\n  const { direction } = useLocale();\n\n  const computeStyle = () => {\n    const selectedTab = context.selectedTab();\n\n    if (selectedTab == null) {\n      return;\n    }\n\n    const styleObj: JSX.CSSProperties = {\n      transform: undefined,\n      width: undefined,\n      height: undefined,\n    };\n\n    // In RTL, calculate the transform from the right edge of the tab list\n    // so that resizing the window doesn't break the TabIndicator position due to offsetLeft changes\n    const offset =\n      direction() === \"rtl\"\n        ? -1 *\n          ((selectedTab.offsetParent as HTMLElement)?.offsetWidth -\n            selectedTab.offsetWidth -\n            selectedTab.offsetLeft)\n        : selectedTab.offsetLeft;\n\n    styleObj.transform =\n      context.orientation() === \"vertical\"\n        ? `translateY(${selectedTab.offsetTop}px)`\n        : `translateX(${offset}px)`;\n\n    if (context.orientation() === \"horizontal\") {\n      styleObj.width = `${selectedTab.offsetWidth}px`;\n    } else {\n      styleObj.height = `${selectedTab.offsetHeight}px`;\n    }\n\n    setStyle(styleObj);\n  };\n\n  // For the first run, wait for all tabs to be mounted and registered in tabs DOM collection\n  // before computing the style.\n  onMount(() => {\n    queueMicrotask(() => {\n      computeStyle();\n    });\n  });\n\n  // Compute style normally for subsequent runs.\n  createEffect(\n    on(\n      [context.selectedTab, context.orientation, direction],\n      () => {\n        computeStyle();\n      },\n      { defer: true }\n    )\n  );\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      role=\"presentation\"\n      style={{ ...style(), ...local.style }}\n      data-orientation={context.orientation()}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/6b51339cca0b8344507d3c8e81e7ad05d6e75f9b/packages/@react-aria/tabs/src/TabsKeyboardDelegate.ts\n */\n\nimport { Orientation } from \"@kobalte/utils\";\nimport { Accessor } from \"solid-js\";\n\nimport { Direction } from \"../i18n\";\nimport { Collection, CollectionNode } from \"../primitives\";\nimport { KeyboardDelegate } from \"../selection\";\n\nexport class TabsKeyboardDelegate implements KeyboardDelegate {\n  private collection: Accessor<Collection<CollectionNode>>;\n  private direction: Accessor<Direction>;\n  private orientation: Accessor<Orientation>;\n\n  constructor(\n    collection: Accessor<Collection<CollectionNode>>,\n    direction: Accessor<Direction>,\n    orientation: Accessor<Orientation>\n  ) {\n    this.collection = collection;\n    this.direction = direction;\n    this.orientation = orientation;\n  }\n\n  private flipDirection() {\n    return this.direction() === \"rtl\" && this.orientation() === \"horizontal\";\n  }\n\n  getKeyLeftOf(key: string) {\n    if (this.flipDirection()) {\n      return this.getNextKey(key);\n    } else {\n      if (this.orientation() === \"horizontal\") {\n        return this.getPreviousKey(key);\n      }\n\n      return undefined;\n    }\n  }\n\n  getKeyRightOf(key: string) {\n    if (this.flipDirection()) {\n      return this.getPreviousKey(key);\n    } else {\n      if (this.orientation() === \"horizontal\") {\n        return this.getNextKey(key);\n      }\n\n      return undefined;\n    }\n  }\n\n  getKeyAbove(key: string) {\n    if (this.orientation() === \"vertical\") {\n      return this.getPreviousKey(key);\n    }\n\n    return undefined;\n  }\n\n  getKeyBelow(key: string) {\n    if (this.orientation() === \"vertical\") {\n      return this.getNextKey(key);\n    }\n\n    return undefined;\n  }\n\n  getFirstKey() {\n    let key = this.collection().getFirstKey();\n\n    if (key == null) {\n      return;\n    }\n\n    const item = this.collection().getItem(key);\n\n    if (item?.disabled) {\n      key = this.getNextKey(key);\n    }\n\n    return key;\n  }\n\n  getLastKey() {\n    let key = this.collection().getLastKey();\n\n    if (key == null) {\n      return;\n    }\n\n    const item = this.collection().getItem(key);\n\n    if (item?.disabled) {\n      key = this.getPreviousKey(key);\n    }\n\n    return key;\n  }\n\n  getNextKey(key: string) {\n    let nextKey: string | undefined = key;\n    let nextItem: CollectionNode | undefined;\n\n    do {\n      nextKey = this.collection().getKeyAfter(nextKey) ?? this.collection().getFirstKey();\n\n      if (nextKey == null) {\n        return;\n      }\n\n      nextItem = this.collection().getItem(nextKey);\n\n      if (nextItem == null) {\n        return;\n      }\n    } while (nextItem.disabled);\n\n    return nextKey;\n  }\n\n  getPreviousKey(key: string) {\n    let previousKey: string | undefined = key;\n    let previousItem: CollectionNode | undefined;\n\n    do {\n      previousKey = this.collection().getKeyBefore(previousKey) ?? this.collection().getLastKey();\n\n      if (previousKey == null) {\n        return;\n      }\n\n      previousItem = this.collection().getItem(previousKey);\n\n      if (previousItem == null) {\n        return;\n      }\n    } while (previousItem.disabled);\n\n    return previousKey;\n  }\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/6b51339cca0b8344507d3c8e81e7ad05d6e75f9b/packages/@react-aria/tabs/src/useTabList.ts\n */\n\nimport { composeEventHandlers, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, splitProps } from \"solid-js\";\n\nimport { useLocale } from \"../i18n\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createSelectableCollection } from \"../selection\";\nimport { useTabsContext } from \"./tabs-context\";\nimport { TabsKeyboardDelegate } from \"./tabs-keyboard-delegate\";\n\nexport interface TabsListProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * Contains the tabs that are aligned along the edge of the active tab panel.\n */\nexport function TabsList(props: TabsListProps) {\n  let ref: HTMLElement | undefined;\n\n  const context = useTabsContext();\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocusIn\",\n    \"onFocusOut\",\n  ]);\n\n  const { direction } = useLocale();\n\n  const delegate = new TabsKeyboardDelegate(\n    () => context.listState().collection(),\n    direction,\n    context.orientation\n  );\n\n  const selectableCollection = createSelectableCollection(\n    {\n      selectionManager: () => context.listState().selectionManager(),\n      keyboardDelegate: () => delegate,\n      selectOnFocus: () => context.activationMode() === \"automatic\",\n      shouldFocusWrap: false, // handled by the keyboard delegate\n      disallowEmptySelection: true,\n    },\n    () => ref\n  );\n\n  createEffect(() => {\n    if (ref == null) {\n      return;\n    }\n\n    const selectedTab = ref.querySelector(\n      `[data-key=\"${context.listState().selectedKey()}\"]`\n    ) as HTMLElement | null;\n\n    if (selectedTab != null) {\n      context.setSelectedTab(selectedTab);\n    }\n  });\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      ref={mergeRefs(el => (ref = el), local.ref)}\n      role=\"tablist\"\n      aria-orientation={context.orientation()}\n      data-orientation={context.orientation()}\n      onKeyDown={composeEventHandlers([local.onKeyDown, selectableCollection.onKeyDown])}\n      onMouseDown={composeEventHandlers([local.onMouseDown, selectableCollection.onMouseDown])}\n      onFocusIn={composeEventHandlers([local.onFocusIn, selectableCollection.onFocusIn])}\n      onFocusOut={composeEventHandlers([local.onFocusOut, selectableCollection.onFocusOut])}\n      {...others}\n    />\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/6b51339cca0b8344507d3c8e81e7ad05d6e75f9b/packages/@react-stately/tabs/src/useTabListState.ts\n * https://github.com/adobe/react-spectrum/blob/6b51339cca0b8344507d3c8e81e7ad05d6e75f9b/packages/@react-aria/tabs/src/useTabList.ts\n */\n\nimport { mergeDefaultProps, Orientation, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, createSignal, createUniqueId, on, splitProps } from \"solid-js\";\n\nimport { createSingleSelectListState } from \"../list\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { CollectionItemWithRef } from \"../primitives\";\nimport { createDomCollection } from \"../primitives/create-dom-collection\";\nimport { TabsContext, TabsContextValue } from \"./tabs-context\";\nimport { TabsActivationMode } from \"./types\";\n\nexport interface TabsRootOptions extends AsChildProp {\n  /** The controlled value of the tab to activate. */\n  value?: string;\n\n  /**\n   * The value of the tab that should be active when initially rendered.\n   * Useful when you do not need to control the state.\n   */\n  defaultValue?: string;\n\n  /** Event handler called when the value changes. */\n  onChange?: (value: string) => void;\n\n  /** The orientation of the tabs. */\n  orientation?: Orientation;\n\n  /** Whether tabs are activated automatically on focus or manually. */\n  activationMode?: TabsActivationMode;\n\n  /** Whether the tabs are disabled. */\n  disabled?: boolean;\n}\n\nexport interface TabsRootProps extends OverrideComponentProps<\"div\", TabsRootOptions> {}\n\n/**\n * A set of layered sections of content, known as tab panels, that display one panel of content at a time.\n * `Tabs` contains all the parts of a tabs component and provide context for its children.\n */\nexport function TabsRoot(props: TabsRootProps) {\n  const defaultId = `tabs-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      orientation: \"horizontal\",\n      activationMode: \"automatic\",\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"value\",\n    \"defaultValue\",\n    \"onChange\",\n    \"orientation\",\n    \"activationMode\",\n    \"disabled\",\n  ]);\n\n  const [items, setItems] = createSignal<CollectionItemWithRef[]>([]);\n  const [selectedTab, setSelectedTab] = createSignal<HTMLElement>();\n\n  const { DomCollectionProvider } = createDomCollection({ items, onItemsChange: setItems });\n\n  const listState = createSingleSelectListState({\n    selectedKey: () => local.value,\n    defaultSelectedKey: () => local.defaultValue,\n    onSelectionChange: key => local.onChange?.(String(key)),\n    dataSource: items,\n  });\n\n  let lastSelectedKey = listState.selectedKey();\n\n  createEffect(\n    on(\n      [\n        () => listState.selectionManager(),\n        () => listState.collection(),\n        () => listState.selectedKey(),\n      ],\n      ([selectionManager, collection, currentSelectedKey]) => {\n        let selectedKey = currentSelectedKey;\n\n        // Ensure a tab is always selected (in case no selected key was specified or if selected item was deleted from collection)\n        if (selectionManager.isEmpty() || selectedKey == null || !collection.getItem(selectedKey)) {\n          selectedKey = collection.getFirstKey();\n\n          let selectedItem = selectedKey != null ? collection.getItem(selectedKey) : undefined;\n\n          // loop over tabs until we find one that isn't disabled and select that\n          while (selectedItem?.disabled && selectedItem.key !== collection.getLastKey()) {\n            selectedKey = collection.getKeyAfter(selectedItem.key);\n            selectedItem = selectedKey != null ? collection.getItem(selectedKey) : undefined;\n          }\n\n          // if this check is true, then every item is disabled, it makes more sense to default to the first key than the last\n          if (selectedItem?.disabled && selectedKey === collection.getLastKey()) {\n            selectedKey = collection.getFirstKey();\n          }\n\n          // directly set selection because replace/toggle selection won't consider disabled keys\n          if (selectedKey != null) {\n            selectionManager.setSelectedKeys([selectedKey]);\n          }\n        }\n\n        // If there isn't a focused key yet or the tabs doesn't have focus and the selected key changes,\n        // change focused key to the selected key if it exists.\n        if (\n          selectionManager.focusedKey() == null ||\n          (!selectionManager.isFocused() && selectedKey !== lastSelectedKey)\n        ) {\n          selectionManager.setFocusedKey(selectedKey);\n        }\n\n        lastSelectedKey = selectedKey;\n      }\n    )\n  );\n\n  // associated value/trigger ids\n  const triggerIdsMap = new Map<string, string>();\n\n  // associated value/content ids\n  const contentIdsMap = new Map<string, string>();\n\n  const context: TabsContextValue = {\n    isDisabled: () => local.disabled ?? false,\n    orientation: () => local.orientation!,\n    activationMode: () => local.activationMode!,\n    triggerIdsMap: () => triggerIdsMap,\n    contentIdsMap: () => contentIdsMap,\n    listState: () => listState,\n    selectedTab,\n    setSelectedTab,\n    generateTriggerId: value => `${others.id!}-trigger-${value}`,\n    generateContentId: value => `${others.id!}-content-${value}`,\n  };\n\n  return (\n    <DomCollectionProvider>\n      <TabsContext.Provider value={context}>\n        <Polymorphic as=\"div\" data-orientation={context.orientation()} {...others} />\n      </TabsContext.Provider>\n    </DomCollectionProvider>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/6b51339cca0b8344507d3c8e81e7ad05d6e75f9b/packages/@react-aria/tabs/src/useTab.ts\n */\n\nimport {\n  composeEventHandlers,\n  focusWithoutScrolling,\n  isWebKit,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createEffect, JSX, on, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { CollectionItemWithRef } from \"../primitives\";\nimport { createDomCollectionItem } from \"../primitives/create-dom-collection\";\nimport { createSelectableItem } from \"../selection\";\nimport { useTabsContext } from \"./tabs-context\";\n\nexport interface TabsTriggerOptions extends AsChildProp {\n  /** The unique key that associates the tab with a tab panel. */\n  value: string;\n\n  /** Whether the tab should be disabled. */\n  disabled?: boolean;\n}\n\nexport interface TabsTriggerProps extends OverrideComponentProps<\"button\", TabsTriggerOptions> {}\n\n/**\n * The button that activates its associated tab panel.\n */\nexport function TabsTrigger(props: TabsTriggerProps) {\n  let ref: HTMLButtonElement | undefined;\n\n  const context = useTabsContext();\n\n  props = mergeDefaultProps(\n    {\n      type: \"button\",\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"id\",\n    \"value\",\n    \"disabled\",\n    \"onPointerDown\",\n    \"onPointerUp\",\n    \"onClick\",\n    \"onKeyDown\",\n    \"onMouseDown\",\n    \"onFocus\",\n  ]);\n\n  const id = () => local.id ?? context.generateTriggerId(local.value);\n\n  const isHighlighted = () => context.listState().selectionManager().focusedKey() === local.value;\n\n  const isDisabled = () => local.disabled || context.isDisabled();\n\n  const contentId = () => context.contentIdsMap().get(local.value);\n\n  createDomCollectionItem<CollectionItemWithRef>({\n    getItem: () => ({\n      ref: () => ref,\n      type: \"item\",\n      key: local.value,\n      textValue: \"\", // not applicable here\n      disabled: isDisabled(),\n    }),\n  });\n\n  const selectableItem = createSelectableItem(\n    {\n      key: () => local.value,\n      selectionManager: () => context.listState().selectionManager(),\n      disabled: isDisabled,\n    },\n    () => ref\n  );\n\n  const onClick: JSX.EventHandlerUnion<HTMLButtonElement, MouseEvent> = e => {\n    // Force focusing the trigger on click on safari.\n    if (isWebKit()) {\n      focusWithoutScrolling(e.currentTarget);\n    }\n  };\n\n  createEffect(\n    on([() => local.value, id], ([value, id]) => {\n      context.triggerIdsMap().set(value, id);\n    })\n  );\n\n  return (\n    <Polymorphic\n      as=\"button\"\n      ref={mergeRefs(el => (ref = el), local.ref)}\n      id={id()}\n      role=\"tab\"\n      tabIndex={!isDisabled() ? selectableItem.tabIndex() : undefined}\n      disabled={isDisabled()}\n      aria-selected={selectableItem.isSelected()}\n      aria-disabled={isDisabled() || undefined}\n      aria-controls={selectableItem.isSelected() ? contentId() : undefined}\n      data-key={selectableItem.dataKey()}\n      data-orientation={context.orientation()}\n      data-selected={selectableItem.isSelected() ? \"\" : undefined}\n      data-highlighted={isHighlighted() ? \"\" : undefined}\n      data-disabled={isDisabled() ? \"\" : undefined}\n      onPointerDown={composeEventHandlers([local.onPointerDown, selectableItem.onPointerDown])}\n      onPointerUp={composeEventHandlers([local.onPointerUp, selectableItem.onPointerUp])}\n      onClick={composeEventHandlers([local.onClick, selectableItem.onClick, onClick])}\n      onKeyDown={composeEventHandlers([local.onKeyDown, selectableItem.onKeyDown])}\n      onMouseDown={composeEventHandlers([local.onMouseDown, selectableItem.onMouseDown])}\n      onFocus={composeEventHandlers([local.onFocus, selectableItem.onFocus])}\n      {...others}\n    />\n  );\n}\n","import { Accessor, createContext, JSX, useContext } from \"solid-js\";\n\nexport interface TextFieldContextValue {\n  value: Accessor<string | undefined>;\n  generateId: (part: string) => string;\n  onInput: JSX.EventHandlerUnion<HTMLInputElement | HTMLTextAreaElement, InputEvent>;\n}\n\nexport const TextFieldContext = createContext<TextFieldContextValue>();\n\nexport function useTextFieldContext() {\n  const context = useContext(TextFieldContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useTextFieldContext` must be used within a `TextField` component\");\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/0af91c08c745f4bb35b6ad4932ca17a0d85dd02c/packages/@react-aria/textfield/src/useTextField.ts\n */\n\nimport { composeEventHandlers, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\n\nimport {\n  createFormControlField,\n  FORM_CONTROL_FIELD_PROP_NAMES,\n  useFormControlContext,\n} from \"../form-control\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useTextFieldContext } from \"./text-field-context\";\n\nexport interface TextFieldInputProps extends OverrideComponentProps<\"input\", AsChildProp> {}\n\n/**\n * The native html input of the textfield.\n */\nexport function TextFieldInput(props: TextFieldInputProps) {\n  return <TextFieldInputBase type=\"text\" {...props} />;\n}\n\nexport function TextFieldInputBase(props: TextFieldInputProps) {\n  const formControlContext = useFormControlContext();\n  const context = useTextFieldContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"input\"),\n    },\n    props\n  );\n\n  const [local, formControlFieldProps, others] = splitProps(\n    props,\n    [\"onInput\"],\n    FORM_CONTROL_FIELD_PROP_NAMES\n  );\n\n  const { fieldProps } = createFormControlField(formControlFieldProps);\n\n  return (\n    <Polymorphic\n      as=\"input\"\n      id={fieldProps.id()}\n      name={formControlContext.name()}\n      value={context.value()}\n      required={formControlContext.isRequired()}\n      disabled={formControlContext.isDisabled()}\n      readonly={formControlContext.isReadOnly()}\n      aria-label={fieldProps.ariaLabel()}\n      aria-labelledby={fieldProps.ariaLabelledBy()}\n      aria-describedby={fieldProps.ariaDescribedBy()}\n      aria-invalid={formControlContext.validationState() === \"invalid\" || undefined}\n      aria-required={formControlContext.isRequired() || undefined}\n      aria-disabled={formControlContext.isDisabled() || undefined}\n      aria-readonly={formControlContext.isReadOnly() || undefined}\n      onInput={composeEventHandlers([local.onInput, context.onInput])}\n      {...formControlContext.dataset()}\n      {...others}\n    />\n  );\n}\n","import {\n  access,\n  createGenerateId,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n  ValidationState,\n} from \"@kobalte/utils\";\nimport { createUniqueId, JSX, splitProps } from \"solid-js\";\n\nimport { createFormControl, FORM_CONTROL_PROP_NAMES, FormControlContext } from \"../form-control\";\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { createControllableSignal, createFormResetListener } from \"../primitives\";\nimport { TextFieldContext, TextFieldContextValue } from \"./text-field-context\";\n\nexport interface TextFieldRootOptions extends AsChildProp {\n  /** The controlled value of the text field. */\n  value?: string;\n\n  /**\n   * The default value when initially rendered.\n   * Useful when you do not need to control the value.\n   */\n  defaultValue?: string;\n\n  /** Event handler called when the value of the text field changes. */\n  onChange?: (value: string) => void;\n\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n\n  /**\n   * The name of the text field, used when submitting an HTML form.\n   * See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#htmlattrdefname).\n   */\n  name?: string;\n\n  /** Whether the text field should display its \"valid\" or \"invalid\" visual styling. */\n  validationState?: ValidationState;\n\n  /** Whether the user must fill the text field before the owning form can be submitted. */\n  required?: boolean;\n\n  /** Whether the text field is disabled. */\n  disabled?: boolean;\n\n  /** Whether the text field is read only. */\n  readOnly?: boolean;\n}\n\nexport interface TextFieldRootProps extends OverrideComponentProps<\"div\", TextFieldRootOptions> {}\n\n/**\n * A text input that allow users to input custom text entries with a keyboard.\n */\nexport function TextFieldRoot(props: TextFieldRootProps) {\n  let ref: HTMLDivElement | undefined;\n\n  const defaultId = `textfield-${createUniqueId()}`;\n\n  props = mergeDefaultProps({ id: defaultId }, props);\n\n  const [local, formControlProps, others] = splitProps(\n    props,\n    [\"ref\", \"value\", \"defaultValue\", \"onChange\"],\n    FORM_CONTROL_PROP_NAMES\n  );\n\n  const [value, setValue] = createControllableSignal({\n    value: () => local.value,\n    defaultValue: () => local.defaultValue,\n    onChange: value => local.onChange?.(value),\n  });\n\n  const { formControlContext } = createFormControl(formControlProps);\n\n  createFormResetListener(\n    () => ref,\n    () => setValue(local.defaultValue ?? \"\")\n  );\n\n  const onInput: JSX.EventHandlerUnion<HTMLInputElement | HTMLTextAreaElement, InputEvent> = e => {\n    if (formControlContext.isReadOnly() || formControlContext.isDisabled()) {\n      return;\n    }\n\n    const target = e.target as HTMLInputElement | HTMLTextAreaElement;\n\n    setValue(target.value);\n\n    // Unlike in React, inputs `value` can be out of sync with our value state.\n    // even if an input is controlled (ex: `<input value=\"foo\" />`,\n    // typing on the input will change its internal `value`.\n    //\n    // To prevent this, we need to force the input `value` to be in sync with the text field value state.\n    target.value = value() ?? \"\";\n  };\n\n  const context: TextFieldContextValue = {\n    value,\n    generateId: createGenerateId(() => access(formControlProps.id)!),\n    onInput,\n  };\n\n  return (\n    <FormControlContext.Provider value={formControlContext}>\n      <TextFieldContext.Provider value={context}>\n        <Polymorphic\n          as=\"div\"\n          ref={mergeRefs(el => (ref = el), local.ref)}\n          role=\"group\"\n          id={access(formControlProps.id)}\n          {...formControlContext.dataset()}\n          {...others}\n        />\n      </TextFieldContext.Provider>\n    </FormControlContext.Provider>\n  );\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/0af91c08c745f4bb35b6ad4932ca17a0d85dd02c/packages/@react-aria/textfield/src/useTextField.ts\n * https://github.com/adobe/react-spectrum/blob/0af91c08c745f4bb35b6ad4932ca17a0d85dd02c/packages/@react-spectrum/textfield/src/TextArea.tsx\n */\n\nimport {\n  composeEventHandlers,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createEffect, on, splitProps } from \"solid-js\";\n\nimport { AsChildProp } from \"../polymorphic\";\nimport { useTextFieldContext } from \"./text-field-context\";\nimport { TextFieldInputBase } from \"./text-field-input\";\n\nexport interface TextFieldTextAreaOptions extends AsChildProp {\n  /** Whether the textarea should adjust its height when the value changes. */\n  autoResize?: boolean;\n\n  /** Whether the form should be submitted when the user presses the enter key. */\n  submitOnEnter?: boolean;\n}\n\nexport interface TextFieldTextAreaProps\n  extends OverrideComponentProps<\"textarea\", TextFieldTextAreaOptions> {}\n\n/**\n * The native html textarea of the textfield.\n */\nexport function TextFieldTextArea(props: TextFieldTextAreaProps) {\n  let ref: HTMLTextAreaElement | undefined;\n\n  const context = useTextFieldContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"textarea\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\", \"autoResize\", \"submitOnEnter\", \"onKeyPress\"]);\n\n  createEffect(\n    on([() => ref, () => local.autoResize, () => context.value()], ([ref, autoResize]) => {\n      if (!ref || !autoResize) {\n        return;\n      }\n\n      adjustHeight(ref);\n    })\n  );\n\n  const onKeyPress = (event: KeyboardEvent) => {\n    if (ref && local.submitOnEnter && event.key === \"Enter\" && !event.shiftKey) {\n      if (ref.form) {\n        ref.form.requestSubmit();\n        event.preventDefault();\n      }\n    }\n  };\n\n  return (\n    <TextFieldInputBase\n      as=\"textarea\"\n      aria-multiline={local.submitOnEnter ? \"false\" : undefined}\n      onKeyPress={composeEventHandlers([local.onKeyPress, onKeyPress])}\n      ref={mergeRefs(el => (ref = el), local.ref) as any}\n      {...(others as any)}\n    />\n  );\n}\n\n/**\n * Adjust the height of the textarea based on its text value.\n */\nfunction adjustHeight(el: HTMLTextAreaElement) {\n  const prevAlignment = el.style.alignSelf;\n  const prevOverflow = el.style.overflow;\n\n  // Firefox scroll position is lost when `overflow: 'hidden'` is applied, so we skip applying it.\n  // The measure/applied height is also incorrect/reset if we turn on and off\n  // overflow: hidden in Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1787062\n  const isFirefox = \"MozAppearance\" in el.style;\n  if (!isFirefox) {\n    el.style.overflow = \"hidden\";\n  }\n\n  el.style.alignSelf = \"start\";\n  el.style.height = \"auto\";\n\n  // offsetHeight - clientHeight accounts for the border/padding.\n  el.style.height = `${el.scrollHeight + (el.offsetHeight - el.clientHeight)}px`;\n  el.style.overflow = prevOverflow;\n  el.style.alignSelf = prevAlignment;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/tree/main/packages/%40react-aria/toast/intl\n */\n\nexport const TOAST_HOTKEY_PLACEHOLDER = \"{hotkey}\";\n\nexport const TOAST_INTL_MESSAGES = {\n  \"ar-AE\": {\n    close: \"\",\n    notifications: `(${TOAST_HOTKEY_PLACEHOLDER}) ` + \"\",\n  },\n  \"bg-BG\": {\n    close: \"\",\n    notifications: ` (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"cs-CZ\": {\n    close: \"Zavt\",\n    notifications: `Upozornn (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"da-DK\": {\n    close: \"Luk\",\n    notifications: `Pmindelser (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"de-DE\": {\n    close: \"Schlieen\",\n    notifications: `Benachrichtigungen (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"el-GR\": {\n    close: \"\",\n    notifications: ` (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"en-US\": {\n    close: \"Close\",\n    notifications: `Notifications (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"es-ES\": {\n    close: \"Cerrar\",\n    notifications: `Notificaciones (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"et-EE\": {\n    close: \"Sule\",\n    notifications: `Teated (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"fi-FI\": {\n    close: \"Sulje\",\n    notifications: `Ilmoitukset (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"fr-FR\": {\n    close: \"Fermer\",\n    notifications: `Notifications (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"he-IL\": {\n    close: \"\",\n    notifications: `(${TOAST_HOTKEY_PLACEHOLDER}) ` + \"\",\n  },\n  \"hr-HR\": {\n    close: \"Zatvori\",\n    notifications: `Obavijesti (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"hu-HU\": {\n    close: \"Bezrs\",\n    notifications: `rtestsek (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"it-IT\": {\n    close: \"Chiudi\",\n    notifications: `Notifiche (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"ja-JP\": {\n    close: \"\",\n    notifications: ` (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"ko-KR\": {\n    close: \"\",\n    notifications: ` (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"lt-LT\": {\n    close: \"Udaryti\",\n    notifications: `Praneimai (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"lv-LV\": {\n    close: \"Aizvrt\",\n    notifications: `Paziojumi (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"nb-NO\": {\n    close: \"Lukk\",\n    notifications: `Varsler (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"nl-NL\": {\n    close: \"Sluiten\",\n    notifications: `Meldingen (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"pl-PL\": {\n    close: \"Zamknij\",\n    notifications: `Powiadomienia (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"pt-BR\": {\n    close: \"Fechar\",\n    notifications: `Notificaes (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"pt-PT\": {\n    close: \"Fechar\",\n    notifications: `Notificaes (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"ro-RO\": {\n    close: \"nchidei\",\n    notifications: `Notificri (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"ru-RU\": {\n    close: \"\",\n    notifications: ` (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"sk-SK\": {\n    close: \"Zatvori\",\n    notifications: `Oznmenia (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"sl-SI\": {\n    close: \"Zapri\",\n    notifications: `Obvestila (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"sr-SP\": {\n    close: \"Zatvori\",\n    notifications: `Obavetenja (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"sv-SE\": {\n    close: \"Stng\",\n    notifications: `Aviseringar (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"tr-TR\": {\n    close: \"Kapat\",\n    notifications: `Bildirimler (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"uk-UA\": {\n    close: \"\",\n    notifications: ` (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"zh-CN\": {\n    close: \"\",\n    notifications: ` (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n  \"zh-TW\": {\n    close: \"\",\n    notifications: ` (${TOAST_HOTKEY_PLACEHOLDER})`,\n  },\n};\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nexport interface ToastContextValue {\n  close: () => void;\n  duration: Accessor<number>;\n  isPersistent: Accessor<boolean>;\n  closeTimerStartTime: Accessor<number>;\n  generateId: (part: string) => string;\n  registerTitleId: (id: string) => () => void;\n  registerDescriptionId: (id: string) => () => void;\n}\n\nexport const ToastContext = createContext<ToastContextValue>();\n\nexport function useToastContext() {\n  const context = useContext(ToastContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useToastContext` must be used within a `Toast.Root` component\");\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/72018163e1fdb79b51d322d471c8fc7d14df2b59/packages/react/toast/src/Toast.tsx\n */\n\nimport { callHandler, OverrideComponentProps } from \"@kobalte/utils\";\nimport { JSX, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { createMessageFormatter } from \"../i18n\";\nimport { TOAST_INTL_MESSAGES } from \"./toast.intl\";\nimport { useToastContext } from \"./toast-context\";\n\nexport interface ToastCloseButtonOptions extends Button.ButtonRootOptions {}\n\nexport type ToastCloseButtonProps = OverrideComponentProps<\"button\", ToastCloseButtonOptions>;\n\n/**\n * The button that closes the toast.\n */\nexport function ToastCloseButton(props: ToastCloseButtonProps) {\n  const context = useToastContext();\n\n  const [local, others] = splitProps(props, [\"aria-label\", \"onClick\"]);\n\n  const messageFormatter = createMessageFormatter(() => TOAST_INTL_MESSAGES);\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n    context.close();\n  };\n\n  return (\n    <Button.Root\n      aria-label={local[\"aria-label\"] || messageFormatter().format(\"close\")}\n      onClick={onClick}\n      {...others}\n    />\n  );\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useToastContext } from \"./toast-context\";\n\nexport interface ToastDescriptionOptions extends AsChildProp {}\n\nexport type ToastDescriptionProps = OverrideComponentProps<\"div\", ToastDescriptionOptions>;\n\n/**\n * An optional accessible description to be announced when the toast is open.\n */\nexport function ToastDescription(props: ToastDescriptionProps) {\n  const context = useToastContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"description\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerDescriptionId(local.id!)));\n\n  return <Polymorphic as=\"div\" id={local.id} {...others} />;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { ToastConfig, ToastSwipeDirection } from \"./types\";\n\nexport interface ToastRegionContextValue {\n  isPaused: Accessor<boolean>;\n  toasts: Accessor<ToastConfig[]>;\n  hotkey: Accessor<string[]>;\n  duration: Accessor<number>;\n  swipeDirection: Accessor<ToastSwipeDirection>;\n  swipeThreshold: Accessor<number>;\n  pauseOnInteraction: Accessor<boolean>;\n  pauseOnPageIdle: Accessor<boolean>;\n  pauseAllTimer: () => void;\n  resumeAllTimer: () => void;\n  generateId: (part: string) => string;\n}\n\nexport const ToastRegionContext = createContext<ToastRegionContextValue>();\n\nexport function useToastRegionContext() {\n  const context = useContext(ToastRegionContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"[kobalte]: `useToastRegionContext` must be used within a `Toast.Region` component\"\n    );\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/72018163e1fdb79b51d322d471c8fc7d14df2b59/packages/react/toast/src/Toast.tsx\n *\n * Portions of this file are based on code from sonner.\n * MIT Licensed, Copyright (c) 2023 Emil Kowalski.\n *\n * Credits to the sonner team:\n * https://github.com/emilkowalski/sonner/blob/0d027fd3a41013fada9d8a3ef807bcc87053bde8/src/index.tsx\n */\n\nimport {\n  callHandler,\n  contains,\n  focusWithoutScrolling,\n  getDocument,\n  getWindow,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport { createEffect, For, JSX, on, onCleanup, splitProps } from \"solid-js\";\n\nimport { useToastRegionContext } from \"./toast-region-context\";\n\nexport interface ToastListOptions {}\n\nexport type ToastListProps = OverrideComponentProps<\"ol\", ToastListOptions>;\n\n/**\n * The list containing all rendered toasts.\n * Must be inside a `Toast.Region`.\n */\nexport function ToastList(props: ToastListProps) {\n  let ref: HTMLOListElement | undefined;\n\n  const context = useToastRegionContext();\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"onFocusIn\",\n    \"onFocusOut\",\n    \"onPointerMove\",\n    \"onPointerLeave\",\n  ]);\n\n  const onFocusIn: JSX.EventHandlerUnion<HTMLOListElement, FocusEvent> = e => {\n    callHandler(e, local.onFocusIn);\n\n    if (context.pauseOnInteraction() && !context.isPaused()) {\n      context.pauseAllTimer();\n    }\n  };\n\n  const onFocusOut: JSX.EventHandlerUnion<HTMLOListElement, FocusEvent> = e => {\n    callHandler(e, local.onFocusOut);\n\n    // The newly focused element isn't inside the toast list.\n    if (!contains(ref, e.relatedTarget as HTMLElement)) {\n      context.resumeAllTimer();\n    }\n  };\n\n  const onPointerMove: JSX.EventHandlerUnion<HTMLOListElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerMove);\n\n    if (context.pauseOnInteraction() && !context.isPaused()) {\n      context.pauseAllTimer();\n    }\n  };\n\n  const onPointerLeave: JSX.EventHandlerUnion<HTMLOListElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerLeave);\n\n    // The current active element isn't inside the toast list.\n    if (!contains(ref, getDocument(ref).activeElement)) {\n      context.resumeAllTimer();\n    }\n  };\n\n  createEffect(\n    on([() => ref, () => context.hotkey()], ([ref, hotkey]) => {\n      if (!ref) {\n        return;\n      }\n\n      const doc = getDocument(ref);\n\n      const onKeyDown = (event: KeyboardEvent) => {\n        const isHotkeyPressed = hotkey.every(key => (event as any)[key] || event.code === key);\n\n        if (isHotkeyPressed) {\n          focusWithoutScrolling(ref);\n        }\n      };\n\n      doc.addEventListener(\"keydown\", onKeyDown);\n\n      onCleanup(() => doc.removeEventListener(\"keydown\", onKeyDown));\n    })\n  );\n\n  createEffect(() => {\n    if (!context.pauseOnPageIdle()) {\n      return;\n    }\n\n    const win = getWindow(ref);\n\n    win.addEventListener(\"blur\", context.pauseAllTimer);\n    win.addEventListener(\"focus\", context.resumeAllTimer);\n\n    onCleanup(() => {\n      win.removeEventListener(\"blur\", context.pauseAllTimer);\n      win.removeEventListener(\"focus\", context.resumeAllTimer);\n    });\n  });\n\n  return (\n    <ol\n      ref={mergeRefs(el => (ref = el), local.ref)}\n      tabIndex={-1}\n      onFocusIn={onFocusIn}\n      onFocusOut={onFocusOut}\n      onPointerMove={onPointerMove}\n      onPointerLeave={onPointerLeave}\n      {...others}\n    >\n      <For each={context.toasts()}>\n        {toast =>\n          toast.toastComponent({\n            get toastId() {\n              return toast.id;\n            },\n          })\n        }\n      </For>\n    </ol>\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, createSignal, JSX, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useToastContext } from \"./toast-context\";\nimport { useToastRegionContext } from \"./toast-region-context\";\n\nexport interface ToastProgressFillOptions extends AsChildProp {\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface ToastProgressFillProps\n  extends OverrideComponentProps<\"div\", ToastProgressFillOptions> {}\n\n/**\n * The component that visually represents the toast remaining lifetime.\n * Used to visually show the fill of `Toast.ProgressTrack`.\n */\nexport function ToastProgressFill(props: ToastProgressFillProps) {\n  const rootContext = useToastRegionContext();\n  const context = useToastContext();\n\n  const [local, others] = splitProps(props, [\"style\"]);\n\n  const [lifeTime, setLifeTime] = createSignal(100);\n  let totalElapsedTime = 0;\n\n  createEffect(() => {\n    if (rootContext.isPaused() || context.isPersistent()) {\n      return;\n    }\n\n    const intervalId = setInterval(() => {\n      const elapsedTime = new Date().getTime() - context.closeTimerStartTime() + totalElapsedTime;\n\n      const life = Math.trunc(100 - (elapsedTime / context.duration()) * 100);\n      setLifeTime(life < 0 ? 0 : life);\n    });\n\n    onCleanup(() => {\n      totalElapsedTime += new Date().getTime() - context.closeTimerStartTime();\n      clearInterval(intervalId);\n    });\n  });\n\n  return (\n    <Polymorphic\n      as=\"div\"\n      style={{\n        \"--kb-toast-progress-fill-width\": `${lifeTime()}%`,\n        ...local.style,\n      }}\n      {...others}\n    />\n  );\n}\n","import { OverrideComponentProps } from \"@kobalte/utils\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\n\nexport interface ToastProgressTrackProps extends OverrideComponentProps<\"div\", AsChildProp> {}\n\n/**\n * The component that visually represents the toast lifetime.\n * Act as a container for `Toast.ProgressFill`.\n */\nexport function ToastProgressTrack(props: ToastProgressTrackProps) {\n  return <Polymorphic as=\"div\" aria-hidden=\"true\" role=\"presentation\" {...props} />;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/72018163e1fdb79b51d322d471c8fc7d14df2b59/packages/react/toast/src/Toast.tsx\n *\n * Portions of this file are based on code from sonner.\n * MIT Licensed, Copyright (c) 2023 Emil Kowalski.\n *\n * Credits to the sonner team:\n * https://github.com/emilkowalski/sonner/blob/0d027fd3a41013fada9d8a3ef807bcc87053bde8/src/index.tsx\n */\n\nimport { createGenerateId, mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createMemo, createSignal, createUniqueId, JSX, splitProps } from \"solid-js\";\n\nimport { DATA_TOP_LAYER_ATTR } from \"../dismissable-layer/layer-stack\";\nimport { createMessageFormatter } from \"../i18n\";\nimport { TOAST_HOTKEY_PLACEHOLDER, TOAST_INTL_MESSAGES } from \"./toast.intl\";\nimport { ToastRegionContext, ToastRegionContextValue } from \"./toast-region-context\";\nimport { toastStore } from \"./toast-store\";\nimport { ToastSwipeDirection } from \"./types\";\n\nexport interface ToastRegionOptions {\n  /**\n   * A label for the toast region to provide context for screen reader users when navigating page landmarks.\n   * Can contain a `{hotkey}` placeholder which will be replaced for you.\n   * @default \"Notifications ({hotkey})\"\n   */\n  \"aria-label\"?: string;\n\n  /**\n   * The keys to use as the keyboard shortcut that will move focus to the toast region.\n   * Use `event.code` value for each key from [keycode.info](https://www.toptal.com/developers/keycode).\n   * For meta keys, use `ctrlKey`, `shiftKey`, `altKey` and/or `metaKey`.\n   * @default alt + T\n   */\n  hotkey?: string[];\n\n  /** The time in milliseconds that should elapse before automatically closing each toast. */\n  duration?: number;\n\n  /** The maximum amount of toasts that can be displayed at the same time. */\n  limit?: number;\n\n  /** The direction of the pointer swipe that should close the toast. */\n  swipeDirection?: ToastSwipeDirection;\n\n  /** The distance in pixels that the swipe gesture must travel before a close is triggered. */\n  swipeThreshold?: number;\n\n  /** Whether the toasts close timeout should pause when a toast is hovered or focused. */\n  pauseOnInteraction?: boolean;\n\n  /**\n   * Whether the toasts close timeout should pause when the document loses focus or the page is idle\n   * (e.g. switching to a new browser tab).\n   */\n  pauseOnPageIdle?: boolean;\n\n  /**\n   * Whether the toast region is marked as a \"top layer\", so that it:\n   *  - is not aria-hidden when opening an overlay.\n   *  - allows focus even outside a containing focus scope.\n   *  - doesnt dismiss overlays when clicking on it, even though it is outside.\n   */\n  topLayer?: boolean;\n\n  /** The id of the toast region, used for multiple toast regions. */\n  regionId?: string;\n\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface ToastRegionProps extends OverrideComponentProps<\"div\", ToastRegionOptions> {}\n\n/**\n * The fixed area where toasts appear. Users can jump to by pressing a hotkey.\n * It is up to you to ensure the discoverability of the hotkey for keyboard users.\n */\nexport function ToastRegion(props: ToastRegionProps) {\n  const defaultId = `toast-region-${createUniqueId()}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      hotkey: [\"altKey\", \"KeyT\"],\n      duration: 5000,\n      limit: 3,\n      swipeDirection: \"right\",\n      swipeThreshold: 50,\n      pauseOnInteraction: true,\n      pauseOnPageIdle: true,\n      topLayer: true,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"style\",\n    \"hotkey\",\n    \"duration\",\n    \"limit\",\n    \"swipeDirection\",\n    \"swipeThreshold\",\n    \"pauseOnInteraction\",\n    \"pauseOnPageIdle\",\n    \"topLayer\",\n    \"aria-label\",\n    \"regionId\",\n  ]);\n\n  const toasts = createMemo(() =>\n    toastStore\n      .toasts()\n      .filter(toast => toast.region === local.regionId)\n      .slice(0, local.limit!)\n  );\n\n  const [isPaused, setIsPaused] = createSignal(false);\n\n  const messageFormatter = createMessageFormatter(() => TOAST_INTL_MESSAGES);\n\n  const hasToasts = () => toasts().length > 0;\n\n  const hotkeyLabel = () => {\n    return local.hotkey!.join(\"+\").replace(/Key/g, \"\").replace(/Digit/g, \"\");\n  };\n\n  const ariaLabel = () => {\n    const label =\n      local[\"aria-label\"] ||\n      messageFormatter().format(\"notifications\", {\n        hotkey: hotkeyLabel(),\n      });\n\n    return label.replace(TOAST_HOTKEY_PLACEHOLDER, hotkeyLabel());\n  };\n\n  const topLayerAttr = () => ({\n    [DATA_TOP_LAYER_ATTR]: local.topLayer ? \"\" : undefined,\n  });\n\n  const context: ToastRegionContextValue = {\n    isPaused,\n    toasts,\n    hotkey: () => local.hotkey!,\n    duration: () => local.duration!,\n    swipeDirection: () => local.swipeDirection!,\n    swipeThreshold: () => local.swipeThreshold!,\n    pauseOnInteraction: () => local.pauseOnInteraction!,\n    pauseOnPageIdle: () => local.pauseOnPageIdle!,\n    pauseAllTimer: () => setIsPaused(true),\n    resumeAllTimer: () => setIsPaused(false),\n    generateId: createGenerateId(() => others.id!),\n  };\n\n  return (\n    <ToastRegionContext.Provider value={context}>\n      <div\n        role=\"region\"\n        tabIndex={-1}\n        aria-label={ariaLabel()}\n        // In case it has size when empty (e.g. padding), we remove pointer events,\n        // so it doesn't prevent interactions with page elements that it overlays.\n        // In case it is a top layer, we explicitly enable pointer-events prevented by a `DismissableLayer`.\n        style={{\n          \"pointer-events\": hasToasts() ? (local.topLayer ? \"auto\" : undefined) : \"none\",\n          ...local.style,\n        }}\n        {...topLayerAttr}\n        {...others}\n      />\n    </ToastRegionContext.Provider>\n  );\n}\n","/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\n\n/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/72018163e1fdb79b51d322d471c8fc7d14df2b59/packages/react/toast/src/Toast.tsx\n *\n * Portions of this file are based on code from sonner.\n * MIT Licensed, Copyright (c) 2023 Emil Kowalski.\n *\n * Credits to the sonner team:\n * https://github.com/emilkowalski/sonner/blob/0d027fd3a41013fada9d8a3ef807bcc87053bde8/src/index.tsx\n */\n\nimport {\n  callHandler,\n  createGenerateId,\n  mergeDefaultProps,\n  mergeRefs,\n  OverrideComponentProps,\n} from \"@kobalte/utils\";\nimport {\n  createEffect,\n  createMemo,\n  createSignal,\n  createUniqueId,\n  JSX,\n  on,\n  onMount,\n  Show,\n  splitProps,\n} from \"solid-js\";\n\nimport { createPresence, createRegisterId } from \"../primitives\";\nimport { ToastContext, ToastContextValue } from \"./toast-context\";\nimport { useToastRegionContext } from \"./toast-region-context\";\nimport { toastStore } from \"./toast-store\";\nimport { ToastSwipeDirection } from \"./types\";\n\nconst TOAST_SWIPE_START_EVENT = \"toast.swipeStart\";\nconst TOAST_SWIPE_MOVE_EVENT = \"toast.swipeMove\";\nconst TOAST_SWIPE_CANCEL_EVENT = \"toast.swipeCancel\";\nconst TOAST_SWIPE_END_EVENT = \"toast.swipeEnd\";\n\nexport type SwipeEvent = { currentTarget: EventTarget & HTMLLIElement } & Omit<\n  CustomEvent<{ originalEvent: PointerEvent; delta: { x: number; y: number } }>,\n  \"currentTarget\"\n>;\n\nexport interface ToastRootOptions {\n  /** The id of the toast provided by the `toaster`. */\n  toastId: number;\n\n  /**\n   * Control the sensitivity of the toast for accessibility purposes.\n   * For toasts that are the result of a user action, choose `high`.\n   * Toasts generated from background tasks should use `low`.\n   */\n  priority?: \"high\" | \"low\";\n\n  /**\n   * The time in milliseconds that should elapse before automatically closing the toast.\n   * This will override the value supplied to `Toast.Region`.\n   */\n  duration?: number;\n\n  /** Whether the toast should ignore duration and disappear only by a user action. */\n  persistent?: boolean;\n\n  /**\n   * Event handler called when the dismiss timer is paused.\n   * This occurs when the pointer is moved over the region or the region is focused.\n   */\n  onPause?: () => void;\n\n  /**\n   * Event handler called when the dismiss timer is resumed.\n   * This occurs when the pointer is moved away from the region or the region is blurred.\n   */\n  onResume?: () => void;\n\n  /** Event handler called when starting a swipe interaction. */\n  onSwipeStart?: (event: SwipeEvent) => void;\n\n  /** Event handler called during a swipe interaction. */\n  onSwipeMove?: (event: SwipeEvent) => void;\n\n  /** Event handler called when a swipe interaction is cancelled. */\n  onSwipeCancel?: (event: SwipeEvent) => void;\n\n  /** Event handler called at the end of a swipe interaction. */\n  onSwipeEnd?: (event: SwipeEvent) => void;\n\n  /**\n   * Event handler called when the escape key is down.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport type ToastRootProps = OverrideComponentProps<\"li\", ToastRootOptions>;\n\nexport function ToastRoot(props: ToastRootProps) {\n  const defaultId = `toast-${createUniqueId()}`;\n\n  const rootContext = useToastRegionContext();\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      priority: \"high\",\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"toastId\",\n    \"style\",\n    \"priority\",\n    \"duration\",\n    \"persistent\",\n    \"onPause\",\n    \"onResume\",\n    \"onSwipeStart\",\n    \"onSwipeMove\",\n    \"onSwipeCancel\",\n    \"onSwipeEnd\",\n    \"onEscapeKeyDown\",\n    \"onKeyDown\",\n    \"onPointerDown\",\n    \"onPointerMove\",\n    \"onPointerUp\",\n  ]);\n\n  const [isOpen, setIsOpen] = createSignal(true);\n  const [titleId, setTitleId] = createSignal<string>();\n  const [descriptionId, setDescriptionId] = createSignal<string>();\n  const [isAnimationEnabled, setIsAnimationEnabled] = createSignal(true);\n\n  const presence = createPresence(isOpen);\n\n  const duration = createMemo(() => local.duration || rootContext.duration());\n\n  let closeTimerId: number;\n  let closeTimerStartTime = 0;\n  let closeTimerRemainingTime = duration();\n\n  let pointerStart: { x: number; y: number } | null = null;\n  let swipeDelta: { x: number; y: number } | null = null;\n\n  const close = () => {\n    setIsOpen(false);\n\n    // Restore animation for the exit phase, which have been disabled if it's a toast update.\n    setIsAnimationEnabled(true);\n  };\n\n  const deleteToast = () => {\n    toastStore.remove(local.toastId);\n  };\n\n  const startTimer = (duration: number) => {\n    if (!duration || local.persistent) {\n      return;\n    }\n\n    window.clearTimeout(closeTimerId);\n\n    closeTimerStartTime = new Date().getTime();\n    closeTimerId = window.setTimeout(close, duration);\n  };\n\n  const resumeTimer = () => {\n    startTimer(closeTimerRemainingTime);\n\n    local.onResume?.();\n  };\n\n  const pauseTimer = () => {\n    const elapsedTime = new Date().getTime() - closeTimerStartTime;\n    closeTimerRemainingTime = closeTimerRemainingTime - elapsedTime;\n\n    window.clearTimeout(closeTimerId);\n\n    local.onPause?.();\n  };\n\n  const onKeyDown: JSX.EventHandlerUnion<HTMLLIElement, KeyboardEvent> = e => {\n    callHandler(e, local.onKeyDown);\n\n    if (e.key !== \"Escape\") {\n      return;\n    }\n\n    local.onEscapeKeyDown?.(e);\n\n    if (!e.defaultPrevented) {\n      close();\n    }\n  };\n\n  const onPointerDown: JSX.EventHandlerUnion<HTMLLIElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    if (e.button !== 0) {\n      return;\n    }\n\n    pointerStart = { x: e.clientX, y: e.clientY };\n  };\n\n  const onPointerMove: JSX.EventHandlerUnion<HTMLLIElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerMove);\n\n    if (!pointerStart) {\n      return;\n    }\n\n    const x = e.clientX - pointerStart.x;\n    const y = e.clientY - pointerStart.y;\n\n    const hasSwipeMoveStarted = Boolean(swipeDelta);\n\n    const isHorizontalSwipe = [\"left\", \"right\"].includes(rootContext.swipeDirection());\n\n    const clamp = [\"left\", \"up\"].includes(rootContext.swipeDirection()) ? Math.min : Math.max;\n\n    const clampedX = isHorizontalSwipe ? clamp(0, x) : 0;\n    const clampedY = !isHorizontalSwipe ? clamp(0, y) : 0;\n\n    const moveStartBuffer = e.pointerType === \"touch\" ? 10 : 2;\n    const delta = { x: clampedX, y: clampedY };\n\n    const eventDetail = { originalEvent: e, delta };\n\n    if (hasSwipeMoveStarted) {\n      swipeDelta = delta;\n\n      handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE_EVENT, local.onSwipeMove, eventDetail);\n\n      const { x, y } = delta;\n      e.currentTarget.setAttribute(\"data-swipe\", \"move\");\n      e.currentTarget.style.setProperty(\"--kb-toast-swipe-move-x\", `${x}px`);\n      e.currentTarget.style.setProperty(\"--kb-toast-swipe-move-y\", `${y}px`);\n    } else if (isDeltaInDirection(delta, rootContext.swipeDirection(), moveStartBuffer)) {\n      swipeDelta = delta;\n\n      handleAndDispatchCustomEvent(TOAST_SWIPE_START_EVENT, local.onSwipeStart, eventDetail);\n      e.currentTarget.setAttribute(\"data-swipe\", \"start\");\n\n      (e.target as HTMLElement).setPointerCapture(e.pointerId);\n    } else if (Math.abs(x) > moveStartBuffer || Math.abs(y) > moveStartBuffer) {\n      // User is swiping in wrong direction, so we disable swipe gesture\n      // for the current pointer down interaction\n      pointerStart = null;\n    }\n  };\n\n  const onPointerUp: JSX.EventHandlerUnion<HTMLLIElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerUp);\n\n    const delta = swipeDelta;\n    const target = e.target as HTMLElement;\n\n    if (target.hasPointerCapture(e.pointerId)) {\n      target.releasePointerCapture(e.pointerId);\n    }\n\n    swipeDelta = null;\n    pointerStart = null;\n\n    if (delta) {\n      const toast = e.currentTarget;\n\n      const eventDetail = { originalEvent: e, delta };\n      if (isDeltaInDirection(delta, rootContext.swipeDirection(), rootContext.swipeThreshold())) {\n        handleAndDispatchCustomEvent(TOAST_SWIPE_END_EVENT, local.onSwipeEnd, eventDetail);\n\n        const { x, y } = delta;\n        e.currentTarget.setAttribute(\"data-swipe\", \"end\");\n        e.currentTarget.style.removeProperty(\"--kb-toast-swipe-move-x\");\n        e.currentTarget.style.removeProperty(\"--kb-toast-swipe-move-y\");\n        e.currentTarget.style.setProperty(\"--kb-toast-swipe-end-x\", `${x}px`);\n        e.currentTarget.style.setProperty(\"--kb-toast-swipe-end-y\", `${y}px`);\n\n        close();\n      } else {\n        handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL_EVENT, local.onSwipeCancel, eventDetail);\n\n        e.currentTarget.setAttribute(\"data-swipe\", \"cancel\");\n        e.currentTarget.style.removeProperty(\"--kb-toast-swipe-move-x\");\n        e.currentTarget.style.removeProperty(\"--kb-toast-swipe-move-y\");\n        e.currentTarget.style.removeProperty(\"--kb-toast-swipe-end-x\");\n        e.currentTarget.style.removeProperty(\"--kb-toast-swipe-end-y\");\n      }\n\n      // Prevent click event from triggering on items within the toast when\n      // pointer up is part of a swipe gesture\n      toast.addEventListener(\"click\", event => event.preventDefault(), {\n        once: true,\n      });\n    }\n  };\n\n  onMount(() => {\n    // Disable animation for updated toast.\n    if (rootContext.toasts().find(toast => toast.id === local.toastId && toast.update)) {\n      setIsAnimationEnabled(false);\n    }\n  });\n\n  createEffect(\n    on(\n      () => rootContext.isPaused(),\n      isPaused => {\n        if (isPaused) {\n          pauseTimer();\n        } else {\n          resumeTimer();\n        }\n      },\n      {\n        defer: true,\n      }\n    )\n  );\n\n  // start timer when toast opens or duration changes.\n  // we include `open` in deps because closed !== unmounted when animating,\n  // so it could reopen before being completely unmounted\n  createEffect(\n    on([isOpen, duration], ([isOpen, duration]) => {\n      if (isOpen && !rootContext.isPaused()) {\n        startTimer(duration);\n      }\n    })\n  );\n\n  createEffect(\n    on(\n      () => toastStore.get(local.toastId)?.dismiss,\n      dismiss => dismiss && close()\n    )\n  );\n\n  createEffect(\n    on(\n      () => presence.isPresent(),\n      isPresent => !isPresent && deleteToast()\n    )\n  );\n\n  const context: ToastContextValue = {\n    close,\n    duration,\n    isPersistent: () => local.persistent ?? false,\n    closeTimerStartTime: () => closeTimerStartTime,\n    generateId: createGenerateId(() => others.id!),\n    registerTitleId: createRegisterId(setTitleId),\n    registerDescriptionId: createRegisterId(setDescriptionId),\n  };\n\n  return (\n    <Show when={presence.isPresent()}>\n      <ToastContext.Provider value={context}>\n        <li\n          ref={mergeRefs(presence.setRef, local.ref)}\n          role=\"status\"\n          tabIndex={0}\n          style={{\n            animation: isAnimationEnabled() ? undefined : \"none\",\n            \"user-select\": \"none\",\n            \"touch-action\": \"none\",\n            ...local.style,\n          }}\n          aria-live={local.priority === \"high\" ? \"assertive\" : \"polite\"}\n          aria-atomic=\"true\"\n          aria-labelledby={titleId()}\n          aria-describedby={descriptionId()}\n          data-opened={isOpen() ? \"\" : undefined}\n          data-closed={!isOpen() ? \"\" : undefined}\n          data-swipe-direction={rootContext.swipeDirection()}\n          onKeyDown={onKeyDown}\n          onPointerDown={onPointerDown}\n          onPointerMove={onPointerMove}\n          onPointerUp={onPointerUp}\n          {...others}\n        />\n      </ToastContext.Provider>\n    </Show>\n  );\n}\n\nfunction isDeltaInDirection(\n  delta: { x: number; y: number },\n  direction: ToastSwipeDirection,\n  threshold = 0\n) {\n  const deltaX = Math.abs(delta.x);\n  const deltaY = Math.abs(delta.y);\n  const isDeltaX = deltaX > deltaY;\n\n  if (direction === \"left\" || direction === \"right\") {\n    return isDeltaX && deltaX > threshold;\n  } else {\n    return !isDeltaX && deltaY > threshold;\n  }\n}\n\nfunction handleAndDispatchCustomEvent<C extends CustomEvent, E extends Event>(\n  name: string,\n  handler: ((event: C) => void) | undefined,\n  detail: { originalEvent: E } & (C extends CustomEvent<infer D> ? D : never)\n) {\n  const currentTarget = detail.originalEvent.currentTarget as HTMLElement;\n  const event = new CustomEvent(name, { bubbles: true, cancelable: true, detail });\n\n  if (handler) {\n    currentTarget.addEventListener(name, handler as EventListener, { once: true });\n  }\n\n  currentTarget.dispatchEvent(event);\n}\n","import { mergeDefaultProps, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useToastContext } from \"./toast-context\";\n\nexport interface ToastTitleOptions extends AsChildProp {}\n\nexport type ToastTitleProps = OverrideComponentProps<\"div\", ToastTitleOptions>;\n\n/**\n * An accessible title to be announced when the toast is open.\n */\nexport function ToastTitle(props: ToastTitleProps) {\n  const context = useToastContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"title\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"id\"]);\n\n  createEffect(() => onCleanup(context.registerTitleId(local.id!)));\n\n  return <Polymorphic as=\"div\" id={local.id} {...others} />;\n}\n","/*!\n * Portions of this file are based on code from radix-ui.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the radix-ui team:\n * https://github.com/radix-ui/primitives/blob/02b036d4181131dfc0224044ba5f17d260bce2f8/packages/react/toggle/src/Toggle.tsx\n *\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/a13802d8be6f83af1450e56f7a88527b10d9cadf/packages/@react-aria/button/src/useToggleButton.ts\n */\n\nimport { callHandler, isFunction, OverrideComponentProps } from \"@kobalte/utils\";\nimport { Accessor, children, JSX, splitProps } from \"solid-js\";\n\nimport * as Button from \"../button\";\nimport { createToggleState } from \"../primitives\";\n\nexport interface ToggleButtonRootState {\n  /** Whether the toggle button is on (pressed) or off (not pressed). */\n  pressed: Accessor<boolean>;\n}\n\nexport interface ToggleButtonRootOptions extends Button.ButtonRootOptions {\n  /** The controlled pressed state of the toggle button. */\n  pressed?: boolean;\n\n  /**\n   * The default pressed state when initially rendered.\n   * Useful when you do not need to control the pressed state.\n   */\n  defaultPressed?: boolean;\n\n  /** Event handler called when the pressed state of the toggle button changes. */\n  onChange?: (pressed: boolean) => void;\n\n  /**\n   * The children of the toggle button.\n   * Can be a `JSX.Element` or a _render prop_ for having access to the internal state.\n   */\n  children?: JSX.Element | ((state: ToggleButtonRootState) => JSX.Element);\n}\n\nexport interface ToggleButtonRootProps\n  extends OverrideComponentProps<\"button\", ToggleButtonRootOptions> {}\n\n/**\n * A two-state button that allow users to toggle a selection on or off.\n * This component is based on the [WAI-ARIA Button Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/button/)\n */\nexport function ToggleButtonRoot(props: ToggleButtonRootProps) {\n  const [local, others] = splitProps(props, [\n    \"children\",\n    \"pressed\",\n    \"defaultPressed\",\n    \"onChange\",\n    \"onClick\",\n  ]);\n\n  const state = createToggleState({\n    isSelected: () => local.pressed,\n    defaultIsSelected: () => local.defaultPressed,\n    onSelectedChange: selected => local.onChange?.(selected),\n    isDisabled: () => others.disabled,\n  });\n\n  const onClick: JSX.EventHandlerUnion<any, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n    state.toggle();\n  };\n\n  return (\n    <Button.Root\n      aria-pressed={state.isSelected()}\n      data-pressed={state.isSelected() ? \"\" : undefined}\n      onClick={onClick}\n      {...others}\n    >\n      <ToggleButtonRootChild state={{ pressed: state.isSelected }} children={local.children} />\n    </Button.Root>\n  );\n}\n\ninterface ToggleButtonRootChildProps extends Pick<ToggleButtonRootOptions, \"children\"> {\n  state: ToggleButtonRootState;\n}\n\nfunction ToggleButtonRootChild(props: ToggleButtonRootChildProps) {\n  const resolvedChildren = children(() => {\n    const body = props.children;\n    return isFunction(body) ? body(props.state) : body;\n  });\n\n  return <>{resolvedChildren()}</>;\n}\n","import { Accessor, createContext, useContext } from \"solid-js\";\n\nimport { CreatePresenceResult } from \"../primitives\";\n\nexport interface TooltipDataSet {\n  \"data-expanded\": string | undefined;\n  \"data-closed\": string | undefined;\n}\n\nexport interface TooltipContextValue {\n  dataset: Accessor<TooltipDataSet>;\n  isOpen: Accessor<boolean>;\n  isDisabled: Accessor<boolean>;\n  triggerOnFocusOnly: Accessor<boolean>;\n  contentId: Accessor<string | undefined>;\n  contentPresence: CreatePresenceResult;\n  openTooltip: (immediate?: boolean) => void;\n  hideTooltip: (immediate?: boolean) => void;\n  cancelOpening: () => void;\n  generateId: (part: string) => string;\n  registerContentId: (id: string) => () => void;\n  isTargetOnTooltip: (target: Node | null) => boolean;\n  setTriggerRef: (el: HTMLElement) => void;\n  setContentRef: (el: HTMLElement) => void;\n}\n\nexport const TooltipContext = createContext<TooltipContextValue>();\n\nexport function useTooltipContext() {\n  const context = useContext(TooltipContext);\n\n  if (context === undefined) {\n    throw new Error(\"[kobalte]: `useTooltipContext` must be used within a `Tooltip` component\");\n  }\n\n  return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/1b05a8e35cf35f3020484979086d70aefbaf4095/packages/react/tooltip/src/Tooltip.tsx\n */\n\nimport { mergeDefaultProps, mergeRefs, OverrideComponentProps } from \"@kobalte/utils\";\nimport { createEffect, JSX, onCleanup, Show, splitProps } from \"solid-js\";\n\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { AsChildProp } from \"../polymorphic\";\nimport { PopperPositioner } from \"../popper\";\nimport { PointerDownOutsideEvent } from \"../primitives\";\nimport { useTooltipContext } from \"./tooltip-context\";\n\nexport interface TooltipContentOptions extends AsChildProp {\n  /**\n   * Event handler called when the escape key is down.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n\n  /**\n   * Event handler called when a pointer event occurs outside the bounds of the component.\n   * It can be prevented by calling `event.preventDefault`.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n\n  /** The HTML styles attribute (object form only). */\n  style?: JSX.CSSProperties;\n}\n\nexport interface TooltipContentProps extends OverrideComponentProps<\"div\", TooltipContentOptions> {}\n\n/**\n * Contains the content to be rendered when the tooltip is open.\n */\nexport function TooltipContent(props: TooltipContentProps) {\n  const context = useTooltipContext();\n\n  props = mergeDefaultProps(\n    {\n      id: context.generateId(\"content\"),\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\"ref\", \"style\"]);\n\n  createEffect(() => onCleanup(context.registerContentId(others.id!)));\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer\n          ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n          }, local.ref)}\n          role=\"tooltip\"\n          disableOutsidePointerEvents={false}\n          style={{\n            \"--kb-tooltip-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n          }}\n          onFocusOutside={e => e.preventDefault()}\n          onDismiss={() => context.hideTooltip(true)}\n          {...context.dataset()}\n          {...others}\n        />\n      </PopperPositioner>\n    </Show>\n  );\n}\n","import { ComponentProps, Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport { useTooltipContext } from \"./tooltip-context\";\n\nexport interface TooltipPortalProps extends ComponentProps<typeof Portal> {}\n\n/**\n * Portals its children into the `body` when the tooltip is open.\n */\nexport function TooltipPortal(props: TooltipPortalProps) {\n  const context = useTooltipContext();\n\n  return (\n    <Show when={context.contentPresence.isPresent()}>\n      <Portal {...props} />\n    </Show>\n  );\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/hovercard/__utils/polygon.ts\n * https://github.com/ariakit/ariakit/blob/f2a96973de523d67e41eec983263936c489ef3e2/packages/ariakit/src/hovercard/__utils/debug-polygon.ts\n */\n\nimport { Polygon } from \"@kobalte/utils\";\n\nimport { BasePlacement, Placement } from \"../popper/utils\";\n\n/**\n * Construct a polygon based on the floating element placement relative to the anchor.\n */\nexport function getTooltipSafeArea(placement: Placement, anchorEl: Element, floatingEl: Element) {\n  const basePlacement = placement.split(\"-\")[0] as BasePlacement;\n\n  const anchorRect = anchorEl.getBoundingClientRect();\n  const floatingRect = floatingEl.getBoundingClientRect();\n\n  const polygon: Polygon = [];\n\n  const anchorCenterX = anchorRect.left + anchorRect.width / 2;\n  const anchorCenterY = anchorRect.top + anchorRect.height / 2;\n\n  switch (basePlacement) {\n    case \"top\":\n      polygon.push([anchorRect.left, anchorCenterY]);\n      polygon.push([floatingRect.left, floatingRect.bottom]);\n      polygon.push([floatingRect.left, floatingRect.top]);\n      polygon.push([floatingRect.right, floatingRect.top]);\n      polygon.push([floatingRect.right, floatingRect.bottom]);\n      polygon.push([anchorRect.right, anchorCenterY]);\n      break;\n    case \"right\":\n      polygon.push([anchorCenterX, anchorRect.top]);\n      polygon.push([floatingRect.left, floatingRect.top]);\n      polygon.push([floatingRect.right, floatingRect.top]);\n      polygon.push([floatingRect.right, floatingRect.bottom]);\n      polygon.push([floatingRect.left, floatingRect.bottom]);\n      polygon.push([anchorCenterX, anchorRect.bottom]);\n      break;\n    case \"bottom\":\n      polygon.push([anchorRect.left, anchorCenterY]);\n      polygon.push([floatingRect.left, floatingRect.top]);\n      polygon.push([floatingRect.left, floatingRect.bottom]);\n      polygon.push([floatingRect.right, floatingRect.bottom]);\n      polygon.push([floatingRect.right, floatingRect.top]);\n      polygon.push([anchorRect.right, anchorCenterY]);\n      break;\n    case \"left\":\n      polygon.push([anchorCenterX, anchorRect.top]);\n      polygon.push([floatingRect.right, floatingRect.top]);\n      polygon.push([floatingRect.left, floatingRect.top]);\n      polygon.push([floatingRect.left, floatingRect.bottom]);\n      polygon.push([floatingRect.right, floatingRect.bottom]);\n      polygon.push([anchorCenterX, anchorRect.bottom]);\n      break;\n  }\n\n  return polygon;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/tooltip/tooltip.tsx\n *\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/e67d48d4935b772f915b08f1d695d2ebafb876f0/packages/@react-stately/tooltip/src/useTooltipTriggerState.ts\n */\n\nimport {\n  contains,\n  createGenerateId,\n  getDocument,\n  getEventPoint,\n  getWindow,\n  isPointInPolygon,\n  mergeDefaultProps,\n} from \"@kobalte/utils\";\nimport {\n  Accessor,\n  createEffect,\n  createMemo,\n  createSignal,\n  createUniqueId,\n  onCleanup,\n  ParentProps,\n  splitProps,\n} from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n\nimport { PopperRoot, PopperRootOptions } from \"../popper\";\nimport { Placement } from \"../popper/utils\";\nimport { createDisclosureState, createPresence, createRegisterId } from \"../primitives\";\nimport { TooltipContext, TooltipContextValue, TooltipDataSet } from \"./tooltip-context\";\nimport { getTooltipSafeArea } from \"./utils\";\n\nconst tooltips: any = {};\nlet tooltipsCounter = 0;\nlet globalWarmedUp = false;\nlet globalWarmUpTimeout: number | undefined;\nlet globalCoolDownTimeout: number | undefined;\n\nexport interface TooltipRootOptions\n  extends Omit<PopperRootOptions, \"anchorRef\" | \"contentRef\" | \"onCurrentPlacementChange\"> {\n  /** The controlled open state of the tooltip. */\n  open?: boolean;\n\n  /**\n   * The default open state when initially rendered.\n   * Useful when you do not need to control the open state.\n   */\n  defaultOpen?: boolean;\n\n  /** Event handler called when the open state of the tooltip changes. */\n  onOpenChange?: (isOpen: boolean) => void;\n\n  /** Whether the tooltip should be disabled, independent of the trigger. */\n  disabled?: boolean;\n\n  /**\n   * Whether to open the tooltip only when the trigger is focused.\n   * By default, opens for both focus and hover.\n   */\n  triggerOnFocusOnly?: boolean;\n\n  /** The duration from when the mouse enters the trigger until the tooltip opens. */\n  openDelay?: number;\n\n  /** The duration from when the mouse leaves the trigger or content until the tooltip closes. */\n  closeDelay?: number;\n\n  /** Whether to close the tooltip even if the user cursor is inside the safe area between the trigger and tooltip. */\n  ignoreSafeArea?: boolean;\n\n  /**\n   * Used to force mounting the tooltip (portal and content) when more control is needed.\n   * Useful when controlling animation with SolidJS animation libraries.\n   */\n  forceMount?: boolean;\n\n  /**\n   * A unique identifier for the component.\n   * The id is used to generate id attributes for nested components.\n   * If no id prop is provided, a generated id will be used.\n   */\n  id?: string;\n}\n\nexport interface TooltipRootProps extends ParentProps<TooltipRootOptions> {}\n\n/**\n * A popup that displays information related to an element\n * when the element receives keyboard focus or the mouse hovers over it.\n */\nexport function TooltipRoot(props: TooltipRootProps) {\n  const defaultId = `tooltip-${createUniqueId()}`;\n\n  // This is not the DOM id.\n  const tooltipId = `${++tooltipsCounter}`;\n\n  props = mergeDefaultProps(\n    {\n      id: defaultId,\n      openDelay: 700,\n      closeDelay: 300,\n    },\n    props\n  );\n\n  const [local, others] = splitProps(props, [\n    \"id\",\n    \"open\",\n    \"defaultOpen\",\n    \"onOpenChange\",\n    \"disabled\",\n    \"triggerOnFocusOnly\",\n    \"openDelay\",\n    \"closeDelay\",\n    \"ignoreSafeArea\",\n    \"forceMount\",\n  ]);\n\n  let closeTimeoutId: number | undefined;\n\n  const [contentId, setContentId] = createSignal<string>();\n  const [triggerRef, setTriggerRef] = createSignal<HTMLElement>();\n  const [contentRef, setContentRef] = createSignal<HTMLElement>();\n\n  const [currentPlacement, setCurrentPlacement] = createSignal<Placement>(others.placement!);\n\n  const disclosureState = createDisclosureState({\n    open: () => local.open,\n    defaultOpen: () => local.defaultOpen,\n    onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n  });\n\n  const contentPresence = createPresence(() => local.forceMount || disclosureState.isOpen());\n\n  const ensureTooltipEntry = () => {\n    tooltips[tooltipId] = hideTooltip;\n  };\n\n  const closeOpenTooltips = () => {\n    for (const hideTooltipId in tooltips) {\n      if (hideTooltipId !== tooltipId) {\n        tooltips[hideTooltipId](true);\n        delete tooltips[hideTooltipId];\n      }\n    }\n  };\n\n  const hideTooltip = (immediate = false) => {\n    if (isServer) {\n      return;\n    }\n\n    if (immediate || (local.closeDelay && local.closeDelay <= 0)) {\n      window.clearTimeout(closeTimeoutId);\n      closeTimeoutId = undefined;\n      disclosureState.close();\n    } else if (!closeTimeoutId) {\n      closeTimeoutId = window.setTimeout(() => {\n        closeTimeoutId = undefined;\n        disclosureState.close();\n      }, local.closeDelay);\n    }\n\n    window.clearTimeout(globalWarmUpTimeout);\n    globalWarmUpTimeout = undefined;\n\n    if (globalWarmedUp) {\n      window.clearTimeout(globalCoolDownTimeout);\n\n      globalCoolDownTimeout = window.setTimeout(() => {\n        delete tooltips[tooltipId];\n        globalCoolDownTimeout = undefined;\n        globalWarmedUp = false;\n      }, local.closeDelay);\n    }\n  };\n\n  const showTooltip = () => {\n    if (isServer) {\n      return;\n    }\n\n    clearTimeout(closeTimeoutId);\n    closeTimeoutId = undefined;\n    closeOpenTooltips();\n    ensureTooltipEntry();\n    globalWarmedUp = true;\n    disclosureState.open();\n\n    window.clearTimeout(globalWarmUpTimeout);\n    globalWarmUpTimeout = undefined;\n\n    window.clearTimeout(globalCoolDownTimeout);\n    globalCoolDownTimeout = undefined;\n  };\n\n  const warmupTooltip = () => {\n    if (isServer) {\n      return;\n    }\n\n    closeOpenTooltips();\n    ensureTooltipEntry();\n\n    if (!disclosureState.isOpen() && !globalWarmUpTimeout && !globalWarmedUp) {\n      globalWarmUpTimeout = window.setTimeout(() => {\n        globalWarmUpTimeout = undefined;\n        globalWarmedUp = true;\n        showTooltip();\n      }, local.openDelay);\n    } else if (!disclosureState.isOpen()) {\n      showTooltip();\n    }\n  };\n\n  const openTooltip = (immediate = false) => {\n    if (isServer) {\n      return;\n    }\n\n    if (!immediate && local.openDelay && local.openDelay > 0 && !closeTimeoutId) {\n      warmupTooltip();\n    } else {\n      showTooltip();\n    }\n  };\n\n  const cancelOpening = () => {\n    if (isServer) {\n      return;\n    }\n\n    window.clearTimeout(globalWarmUpTimeout);\n    globalWarmUpTimeout = undefined;\n    globalWarmedUp = false;\n  };\n\n  const cancelClosing = () => {\n    if (isServer) {\n      return;\n    }\n\n    window.clearTimeout(closeTimeoutId);\n    closeTimeoutId = undefined;\n  };\n\n  const isTargetOnTooltip = (target: Node | null) => {\n    return contains(triggerRef(), target) || contains(contentRef(), target);\n  };\n\n  const getPolygonSafeArea = (placement: Placement) => {\n    const triggerEl = triggerRef();\n    const contentEl = contentRef();\n\n    if (!triggerEl || !contentEl) {\n      return;\n    }\n\n    return getTooltipSafeArea(placement, triggerEl, contentEl);\n  };\n\n  const onHoverOutside = (event: PointerEvent) => {\n    const target = event.target as Node | null;\n\n    // Don't close if the mouse is moving through valid tooltip element.\n    if (isTargetOnTooltip(target)) {\n      cancelClosing();\n      return;\n    }\n\n    if (!local.ignoreSafeArea) {\n      const polygon = getPolygonSafeArea(currentPlacement());\n\n      //Don't close if the current's event mouse position is inside the polygon safe area.\n      if (polygon && isPointInPolygon(getEventPoint(event), polygon)) {\n        cancelClosing();\n        return;\n      }\n    }\n\n    // If there's already a scheduled timeout to hide the tooltip, we do nothing.\n    if (closeTimeoutId) {\n      return;\n    }\n\n    // Otherwise, hide the tooltip after the close delay.\n    hideTooltip();\n  };\n\n  createEffect(() => {\n    if (!disclosureState.isOpen()) {\n      return;\n    }\n\n    const doc = getDocument();\n\n    // Checks whether the mouse is moving outside the tooltip.\n    // If yes, hide the tooltip after the close delay.\n    doc.addEventListener(\"pointermove\", onHoverOutside, true);\n\n    onCleanup(() => {\n      doc.removeEventListener(\"pointermove\", onHoverOutside, true);\n    });\n  });\n\n  // Close the tooltip if the trigger is scrolled.\n  createEffect(() => {\n    const trigger = triggerRef();\n\n    if (!trigger || !disclosureState.isOpen()) {\n      return;\n    }\n\n    const handleScroll = (event: Event) => {\n      const target = event.target as HTMLElement;\n\n      if (contains(target, trigger)) {\n        hideTooltip(true);\n      }\n    };\n\n    const win = getWindow();\n\n    win.addEventListener(\"scroll\", handleScroll, { capture: true });\n\n    onCleanup(() => {\n      win.removeEventListener(\"scroll\", handleScroll, { capture: true });\n    });\n  });\n\n  onCleanup(() => {\n    clearTimeout(closeTimeoutId);\n\n    const tooltip = tooltips[tooltipId];\n\n    if (tooltip) {\n      delete tooltips[tooltipId];\n    }\n  });\n\n  const dataset: Accessor<TooltipDataSet> = createMemo(() => ({\n    \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n    \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n  }));\n\n  const context: TooltipContextValue = {\n    dataset,\n    isOpen: disclosureState.isOpen,\n    isDisabled: () => local.disabled ?? false,\n    triggerOnFocusOnly: () => local.triggerOnFocusOnly ?? false,\n    contentId,\n    contentPresence,\n    openTooltip,\n    hideTooltip,\n    cancelOpening,\n    generateId: createGenerateId(() => props.id!),\n    registerContentId: createRegisterId(setContentId),\n    isTargetOnTooltip,\n    setTriggerRef,\n    setContentRef,\n  };\n\n  return (\n    <TooltipContext.Provider value={context}>\n      <PopperRoot\n        anchorRef={triggerRef}\n        contentRef={contentRef}\n        onCurrentPlacementChange={setCurrentPlacement}\n        {...others}\n      />\n    </TooltipContext.Provider>\n  );\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/tooltip/tooltip-anchor.ts\n *\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/e67d48d4935b772f915b08f1d695d2ebafb876f0/packages/@react-aria/tooltip/src/useTooltipTrigger.ts\n *\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/1b05a8e35cf35f3020484979086d70aefbaf4095/packages/react/tooltip/src/Tooltip.tsx\n */\n\nimport { callHandler, getDocument, mergeRefs } from \"@kobalte/utils\";\nimport { ComponentProps, JSX, onCleanup, splitProps } from \"solid-js\";\n\nimport { AsChildProp, Polymorphic } from \"../polymorphic\";\nimport { useTooltipContext } from \"./tooltip-context\";\n\nexport interface TooltipTriggerProps extends ComponentProps<\"button\">, AsChildProp {}\n\n/**\n * The button that opens the tooltip when hovered.\n */\nexport function TooltipTrigger(props: TooltipTriggerProps) {\n  let ref: HTMLButtonElement | undefined;\n\n  const context = useTooltipContext();\n\n  const [local, others] = splitProps(props, [\n    \"ref\",\n    \"onPointerEnter\",\n    \"onPointerLeave\",\n    \"onPointerDown\",\n    \"onClick\",\n    \"onFocus\",\n    \"onBlur\",\n    \"onTouchStart\",\n  ]);\n\n  let isPointerDown = false;\n  let isHovered = false;\n  let isFocused = false;\n\n  const handlePointerUp = () => {\n    isPointerDown = false;\n  };\n\n  const handleShow = () => {\n    if (!context.isOpen() && (isHovered || isFocused)) {\n      context.openTooltip(isFocused);\n    }\n  };\n\n  const handleHide = (immediate?: boolean) => {\n    if (context.isOpen() && !isHovered && !isFocused) {\n      context.hideTooltip(immediate);\n    }\n  };\n\n  const onPointerEnter: JSX.EventHandlerUnion<HTMLButtonElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerEnter);\n\n    if (\n      e.pointerType === \"touch\" ||\n      context.triggerOnFocusOnly() ||\n      context.isDisabled() ||\n      e.defaultPrevented\n    ) {\n      return;\n    }\n\n    isHovered = true;\n\n    handleShow();\n  };\n\n  const onPointerLeave: JSX.EventHandlerUnion<HTMLButtonElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerLeave);\n\n    if (e.pointerType === \"touch\") {\n      return;\n    }\n\n    // No matter how the trigger is left, we should close the tooltip.\n    isHovered = false;\n    isFocused = false;\n\n    if (context.isOpen()) {\n      handleHide();\n    } else {\n      context.cancelOpening();\n    }\n  };\n\n  const onPointerDown: JSX.EventHandlerUnion<HTMLButtonElement, PointerEvent> = e => {\n    callHandler(e, local.onPointerDown);\n\n    isPointerDown = true;\n    getDocument(ref).addEventListener(\"pointerup\", handlePointerUp, { once: true });\n  };\n\n  const onClick: JSX.EventHandlerUnion<HTMLButtonElement, MouseEvent> = e => {\n    callHandler(e, local.onClick);\n\n    // No matter how the trigger is left, we should close the tooltip.\n    isHovered = false;\n    isFocused = false;\n\n    handleHide(true);\n  };\n\n  const onFocus: JSX.EventHandlerUnion<HTMLButtonElement, FocusEvent> = e => {\n    callHandler(e, local.onFocus);\n\n    if (context.isDisabled() || e.defaultPrevented || isPointerDown) {\n      return;\n    }\n\n    isFocused = true;\n\n    handleShow();\n  };\n\n  const onBlur: JSX.EventHandlerUnion<HTMLButtonElement, FocusEvent> = e => {\n    callHandler(e, local.onBlur);\n\n    const relatedTarget = e.relatedTarget as Node | null;\n\n    if (context.isTargetOnTooltip(relatedTarget)) {\n      return;\n    }\n\n    // No matter how the trigger is left, we should close the tooltip.\n    isHovered = false;\n    isFocused = false;\n\n    handleHide(true);\n  };\n\n  onCleanup(() => {\n    getDocument(ref).removeEventListener(\"pointerup\", handlePointerUp);\n  });\n\n  // We purposefully avoid using Kobalte `Button` here because tooltip triggers can be any element\n  // and should not always be announced as a button to screen readers.\n  return (\n    <Polymorphic\n      as=\"button\"\n      ref={mergeRefs(el => {\n        context.setTriggerRef(el);\n        ref = el;\n      }, local.ref)}\n      aria-describedby={context.isOpen() ? context.contentId() : undefined}\n      onPointerEnter={onPointerEnter}\n      onPointerLeave={onPointerLeave}\n      onPointerDown={onPointerDown}\n      onClick={onClick}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      {...context.dataset()}\n      {...others}\n    />\n  );\n}\n"],"names":["ColorModeContext","createContext","useColorMode","context","useContext","undefined","Error","useColorModeValue","light","dark","colorMode","createMemo","COLOR_MODE_STORAGE_KEY","createLocalStorageManager","key","ssr","type","get","fallback","isServer","value","localStorage","getItem","e","set","setItem","localStorageManager","parseCookie","cookie","match","RegExp","createCookieStorageManager","document","cookieStorageManager","cookieStorageManagerSSR","FALLBACK_COLOR_MODE_VALUE","query","window","matchMedia","preventTransition","css","createElement","appendChild","createTextNode","head","getComputedStyle","body","requestAnimationFrame","removeChild","setColorModeDataset","shouldPreventTransition","cleanup","documentElement","dataset","kbTheme","style","colorScheme","getSystemColorMode","isDark","matches","getInitialColorMode","manager","initialColorMode","addColorModeListener","fn","mql","listener","addEventListener","removeEventListener","ColorModeProvider","props","fallbackColorMode","colorModeManager","storageManager","colorModeListenerCleanupFn","rawSetColorMode","createSignal","applyColorMode","disableTransitionOnChange","setColorMode","isSystem","toggleColorMode","createEffect","onCleanup","_$createComponent","Provider","children","VALID_VALUES","Set","normalize","has","ColorModeScript","mergeProps","storageType","storageKey","scriptSrc","init","cookieScript","localStorageScript","trim","_el$","_tmpl$","_$effect","_p$","_v$","nonce","_v$2","_$setAttribute","innerHTML","buildNodes","params","index","startIndex","level","startLevel","nodes","getKey","data","_getKey","dataKey","isString","String","getTextValue","_getTextValue","dataTextValue","getDisabled","_getDisabled","getSectionChildren","dataSource","isNumber","push","rawValue","textValue","disabled","sectionChildren","length","childNodes","createCollection","deps","initialNodes","access","collection","setCollection","factory","on","defer","cache","WeakMap","getItemCount","count","item","createControllableSignal","_value","_setValue","defaultValue","isControlled","setValue","next","untrack","nextValue","accessWith","Object","is","onChange","createControllableBooleanSignal","createControllableArraySignal","createControllableSetSignal","createDisclosureState","isOpen","setIsOpen","open","defaultOpen","onOpenChange","close","toggle","createEscapeKeyDown","handleKeyDown","event","EventKey","Escape","onEscapeKeyDown","isDisabled","ownerDocument","getDocument","DATA_TOP_LAYER_ATTR","originalBodyPointerEvents","hasDisabledBodyPointerEvents","layers","indexOf","node","findIndex","layer","find","isTopMostLayer","getPointerBlockingLayers","filter","isPointerBlocking","getTopMostPointerBlockingLayer","slice","hasPointerBlockingLayer","isBelowPointerBlockingLayer","highestBlockingIndex","addLayer","removeLayer","splice","assignPointerEventToLayers","forEach","pointerEvents","disableBodyPointerEvents","restoreBodyPointerEvents","removeAttribute","layerStack","AUTOFOCUS_ON_MOUNT_EVENT","AUTOFOCUS_ON_UNMOUNT_EVENT","EVENT_OPTIONS","bubbles","cancelable","focusScopeStack","stack","active","add","scope","pause","removeItemFromArray","unshift","remove","resume","createFocusScope","ref","isPaused","setIsPaused","focusScope","lastFocusedElement","onMountAutoFocus","onUnmountAutoFocus","createSentinel","element","setAttribute","tabIndex","assign","visuallyHiddenStyles","tabbables","container","getAllTabbableIn","el","hasAttribute","firstTabbable","items","lastTabbable","shouldPreventUnmountAutoFocus","activeElement","getActiveElement","contains","isFocusable","previouslyFocusedElement","hasFocusedCandidate","mountEvent","CustomEvent","dispatchEvent","defaultPrevented","setTimeout","focusWithoutScrolling","unmountEvent","preventDefault","trapFocus","onFocusIn","target","closest","onFocusOut","relatedTarget","startSentinel","insertAdjacentElement","endSentinel","onFocus","first","last","observer","MutationObserver","mutations","mutation","previousSibling","nextSibling","observe","childList","subtree","disconnect","createFormResetListener","handler","form","getClosestForm","passive","isFormElement","LIVEREGION_TIMEOUT_DELAY","liveAnnouncer","DATA_LIVE_ANNOUNCER_ATTR","announce","message","assertiveness","timeout","LiveAnnouncer","clearAnnouncer","clear","destroyAnnouncer","destroy","constructor","assertiveLog","createLog","politeLog","prepend","ariaLive","textContent","createHideOutside","ariaHideOutside","targets","root","refCountMap","observerStack","visibleNodes","hiddenNodes","walk","querySelectorAll","acceptNode","parentElement","getAttribute","NodeFilter","FILTER_REJECT","FILTER_SKIP","FILTER_ACCEPT","walker","createTreeWalker","SHOW_ELEMENT","acceptRoot","hide","nextNode","refCount","changes","change","addedNodes","some","removedNodes","Element","delete","HTMLElement","SVGElement","reactAriaTopLayer","observerWrapper","pop","POINTER_DOWN_OUTSIDE_EVENT","FOCUS_OUTSIDE_EVENT","createInteractOutside","pointerDownTimeoutId","clickHandler","noop","onPointerDownOutside","onFocusOutside","onInteractOutside","isEventOutside","shouldExcludeElement","onPointerDown","composeEventHandlers","once","pointerDownOutsideEvent","detail","originalEvent","isContextMenu","button","isCtrlKey","pointerType","focusOutsideEvent","clearTimeout","createPresence","present","setNode","styles","prevPresent","prevAnimationName","state","send","createStateMachine","mounted","UNMOUNT","ANIMATION_OUT","unmountSuspended","MOUNT","ANIMATION_END","unmounted","currentAnimationName","getAnimationName","display","isAnimating","handleAnimationEnd","isCurrentAnimation","includes","animationName","handleAnimationStart","isPresent","setRef","initialState","machine","reduce","nextState","setState","prev","SCROLL_LOCK_IDENTIFIER","assignStyle","previousStyle","cssText","setCSSProperty","property","previousValue","getPropertyValue","setProperty","removeProperty","getPaddingProperty","documentLeft","getBoundingClientRect","left","scrollbarX","Math","round","scrollLeft","createPreventScroll","ownerRef","doc","win","getWindow","alreadyLocked","scrollbarWidth","innerWidth","clientWidth","setScrollbarWidthProperty","paddingProperty","setStyle","overflow","setIOSStyle","scrollX","scrollY","visualViewport","offsetLeft","offsetTop","restoreStyle","position","top","floor","right","scrollTo","chain","isIOS","createRegisterId","setter","id","createTagName","tagName","setTagName","stringOrUndefined","toLowerCase","createToggleState","isSelected","_setIsSelected","defaultIsSelected","onSelectedChange","setIsSelected","isReadOnly","TRANSITION_PHASES_MAP","beforeEnter","enter","afterEnter","beforeExit","exit","afterExit","getTransitionStyles","shared","duration","easing","getTransitionProperty","transition","common","phase","transitionStyles","keys","in","out","join","DEFAULT_DURATION","DEFAULT_DELAY","DEFAULT_EASING","createTransition","shouldMount","options","delay","exitDuration","exitDelay","exitEasing","reduceMotion","createMediaQuery","setDuration","setPhase","setEasing","timeoutId","handleStateChange","preHandler","onBeforeEnter","onBeforeExit","postHandler","onAfterEnter","onAfterExit","newDuration","preStateTimeoutId","keepMounted","FORM_CONTROL_PROP_NAMES","createFormControl","defaultId","createUniqueId","mergeDefaultProps","labelId","setLabelId","fieldId","setFieldId","descriptionId","setDescriptionId","errorMessageId","setErrorMessageId","getAriaLabelledBy","fieldAriaLabel","fieldAriaLabelledBy","hasAriaLabelledBy","Boolean","getAriaDescribedBy","fieldAriaDescribedBy","validationState","required","readOnly","formControlContext","name","isRequired","generateId","createGenerateId","registerLabel","registerField","registerDescription","registerErrorMessage","FormControlContext","useFormControlContext","FORM_CONTROL_FIELD_PROP_NAMES","createFormControlField","fieldProps","ariaLabel","ariaLabelledBy","ariaDescribedBy","Polymorphic","local","others","splitProps","asChild","Dynamic","_$mergeProps","component","as","resolvedChildren","isAs","combinedProps","combineProps","isArray","newElement","newChildren","For","each","child","Show","when","AS_COMPONENT_SYMBOL","Symbol","As","baseProps","overrideProps","baseCombineProps","reverseEventHandlers","FormControlDescription","FormControlErrorMessage","isInvalid","forceMount","FormControlLabel","r$","_ref$","mergeRefs","for","_$memo","COMMON_INTL_MESSAGES","dismiss","RTL_SCRIPTS","RTL_LANGS","isRTL","locale","Intl","Locale","script","maximize","lang","split","getReadingDirection","getDefaultLocale","navigator","language","userLanguage","DateTimeFormat","supportedLocalesOf","_err","direction","currentLocale","listeners","updateLocale","createDefaultLocale","defaultSSRLocale","defaultClientLocale","setDefaultClientLocale","defaultLocale","onMount","size","I18nContext","I18nProvider","useLocale","Map","createCollator","cacheKey","entries","sort","a","b","collator","Collator","createDateFormatter","DateFormatter","createFilter","usage","startsWith","str","substr","compare","endsWith","scan","sliceLen","getCachedDictionary","strings","dictionary","MessageDictionary","createMessageFormatter","messageFormatter","MessageFormatter","format","variables","createNumberFormatter","NumberFormatter","Selection","anchorKey","currentKey","createControllableSelectionSignal","isNonContiguousSelectionModifier","isAppleDevice","altKey","ctrlKey","isCtrlKeyPressed","isMac","metaKey","convertSelection","selection","isSameSelection","setA","setB","createMultipleSelectionState","selectionMode","selectionBehavior","isFocused","setFocused","focusedKey","setFocusedKey","selectedKeysProp","selectedKeys","defaultSelectedKeys","defaultSelection","_setSelectedKeys","onSelectionChange","setSelectionBehavior","disallowEmptySelection","setSelectedKeys","allowDuplicateSelectionEvents","createTypeSelect","search","setSearch","setTimeoutId","onKeyDown","delegate","keyboardDelegate","selectionManager","getKeyForSearch","character","getStringForKey","stopPropagation","newSearch","isAllSameLetter","onTypeSelect","typeSelectHandlers","test","every","letter","createSelectableCollection","scrollRef","defaultProps","selectOnFocus","finalScrollRef","scrollPos","createEventListener","isVirtualized","scrollEl","scrollTop","disallowTypeAhead","callHandler","refEl","navigateToKey","shiftKey","extendSelection","replaceSelection","shouldFocusWrap","getKeyBelow","nextKey","getFirstKey","getKeyAbove","getLastKey","getKeyLeftOf","getKeyRightOf","firstKey","lastKey","getKeyPageBelow","getKeyPageAbove","disallowSelectAll","selectAll","clearSelection","allowsTabNavigation","focus","getFocusableTreeWalker","tabbable","lastChild","currentTarget","navigateToFirstKey","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","lastSelectedKey","firstSelectedKey","querySelector","scrollIntoView","onMouseDown","tryAutoFocus","autoFocus","values","shouldUseVirtualFocus","deferAutoFocus","newValue","scrollToKey","createSelectableItem","onSelect","toggleSelection","allowsSelection","canSelectItem","pointerDownType","shouldSelectOnPressUp","onPointerUp","allowsDifferentPressOrigin","onClick","virtualized","SelectionManager","retrievedKey","isEmpty","isSelectAll","getAllSelectableKeys","k","isItemBeforeFirst","isItemAfterLast","toKey","retrievedToKey","getKeyRange","from","to","fromItem","toItem","getKeyRangeInternal","getKeyAfter","toggleSelectAll","select","isSelectionEqual","addKeys","ListCollection","keyMap","iterable","prevKey","iterator","getSize","getKeys","getKeyBefore","at","idx","createListState","selectionState","createComputed","ListKeyboardDelegate","keyAfter","keyBefore","menu","pageY","max","offsetHeight","keyAbove","min","scrollHeight","keyBelow","fromKey","substring","createSelectableList","sensitivity","createSingleSelectListState","selectedKey","setSelectedKey","defaultSelectedKey","defaultCreateListStateProps","createListStateProps","selectedItem","createStore","toasts","toast","update","toastStore","toastsCounter","show","toastComponent","region","promise","toastId","isFunction","then","catch","error","toaster","CollapsibleContext","useCollapsibleContext","CollapsibleContent","presence","height","setHeight","width","setWidth","isMountAnimationPrevented","originalStyles","raf","cancelAnimationFrame","transitionDuration","rect","registerContentId","CollapsibleRoot","contentId","setContentId","disclosureState","BUTTON_INPUT_TYPES","isButton","ButtonRoot","isNativeButton","elementTagName","isNativeInput","isNativeLink","role","aria-disabled","data-disabled","CollapsibleTrigger","Button","aria-expanded","aria-controls","AccordionItemContext","useAccordionItemContext","AccordionContent","itemContext","Collapsible","aria-labelledby","triggerId","AccordionHeader","AccordionContext","useAccordionContext","AccordionItem","accordionContext","setTriggerId","listState","isExpanded","registerTriggerId","DomCollectionContext","useOptionalDomCollectionContext","useDomCollectionContext","isElementPreceding","DOCUMENT_POSITION_PRECEDING","findDOMIndex","itemEl","currentItemEl","sortBasedOnDOMPosition","pairs","map","isOrderDifferent","indexA","indexB","elementA","elementB","_","setItemsBasedOnDOMPosition","setItems","sortedItems","getCommonParent","firstItem","lastItemEl","parentEl","createTimeoutObserver","createSortBasedOnDOMPosition","IntersectionObserver","previousItems","callback","hasPreviousItems","createDomCollection","onItemsChange","registerItem","prevItems","addItemToArray","nextItems","prevItem","DomCollectionProvider","createComponent","createDomCollectionItem","shouldRegisterItem","unregister","AccordionRoot","multiple","collapsible","Array","selectableList","AccordionTrigger","collapsibleContext","selectableItem","data-key","AlertRoot","DialogContext","useDialogContext","DialogCloseButton","aria-label","DismissableLayerContext","useOptionalDismissableLayerContext","DismissableLayer","parentContext","nestedLayers","registerNestedLayer","parentUnregister","excludedElements","bypassTopMostLayerCheck","onDismiss","disableOutsidePointerEvents","unregisterFromParentLayer","DialogContent","hasInteractedOutside","hasPointerDownOutside","modal","triggerRef","onCloseAutoFocus","preventScroll","onOpenAutoFocus","contentPresence","titleId","aria-describedby","data-expanded","data-closed","DialogDescription","registerDescriptionId","DialogOverlay","overlayPresence","DialogPortal","Portal","DialogRoot","setTitleId","setTriggerRef","registerTitleId","DialogTitle","DialogTrigger","AlertDialogContent","LinkRoot","href","BreadcrumbsLink","ariaCurrent","current","Link","aria-current","data-current","BREADCRUMBS_INTL_MESSAGES","breadcrumbs","BreadcrumbsContext","useBreadcrumbsContext","BreadcrumbsRoot","separator","BreadcrumbsSeparator","CheckboxContext","useCheckboxContext","CheckboxControl","inputRef","Space","CheckboxDescription","CheckboxErrorMessage","CheckboxIndicator","indeterminate","checked","CheckboxInput","formControlFieldProps","setIsChecked","setIsFocused","onBlur","setInputRef","_$use","_$spread","readonly","aria-invalid","aria-required","aria-readonly","CheckboxLabel","CheckboxRoot","formControlProps","defaultChecked","selected","isChecked","CheckboxRootChild","PopperContext","usePopperContext","DEFAULT_SIZE","HALF_DEFAULT_SIZE","ROTATION_DEG","bottom","PopperArrow","dir","currentPlacement","contentStyle","createComputedStyle","contentRef","fill","stroke","borderWidth","strokeWidth","parseInt","rotate","setArrowRef","_el$2","firstChild","_el$3","PopperPositioner","setPositionerRef","createDOMRect","anchorRect","x","y","DOMRect","toJSON","getAnchorElement","anchor","getAnchorRect","contextElement","isValidPlacement","flip","REVERSE_BASE_PLACEMENT","getTransformOrigin","placement","readingDirection","basePlacement","alignment","reversePlacement","PopperRoot","gutter","shift","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding","positionerRef","arrowRef","setCurrentPlacement","anchorRef","updatePosition","referenceEl","floatingEl","arrowEl","arrowOffset","clientHeight","finalGutter","middleware","offset","hasAlignment","mainAxis","crossAxis","alignmentAxis","fallbackPlacements","padding","apply","availableWidth","availableHeight","rects","referenceWidth","reference","maxWidth","maxHeight","arrow","pos","computePosition","strategy","platform","onCurrentPlacementChange","visibility","middlewareData","referenceHidden","transform","arrowX","arrowY","cleanupAutoUpdate","autoUpdate","elementResize","ResizeObserver","positioner","content","queueMicrotask","zIndex","ComboboxContext","useComboboxContext","ComboboxContent","resetInputValue","isModal","controlEl","controlRef","setContentRef","ComboboxInput","onInput","setInputValue","inputValue","allowsEmptyCollection","onInputKeyDown","removeOnBackspace","isInputFocused","setIsInputFocused","lastEventTime","onTouchEnd","timeStamp","touch","changedTouches","centerX","ceil","centerY","clientX","clientY","placeholder","autoComplete","autoCorrect","spellCheck","listboxId","aria-activedescendant","activeDescendant","ListboxContext","useListboxContext","ListboxItemContext","useListboxItemContext","ListboxItem","listBoxContext","isHighlighted","shouldFocusOnHover","ariaSelected","isNotSafariMacOS","isWebKit","ariaPosInSet","ariaSetSize","onPointerMove","registerLabelId","aria-selected","aria-posinset","aria-setsize","ListboxItemDescription","ListboxItemIndicator","ListboxItemLabel","ListboxRoot","optionValue","optionTextValue","optionDisabled","optionGroupChildren","scrollToItem","aria-multiselectable","Key","by","Switch","Match","renderSection","renderItem","ListboxSection","ComboboxListbox","listboxAriaLabel","registerListboxId","Listbox","setListboxRef","ComboboxPortal","ComboboxControl","setControlRef","ComboboxControlChild","selectedOptions","option","removeOptionFromSelection","HiddenSelectBase","isInternalChangeEvent","setIsInternalChangeEvent","renderOption","_$insert","prevKeys","Event","_tmpl$2","_el$4","focusTrigger","isMultiple","_v$3","_v$4","_v$5","_$style","ComboboxHiddenSelect","ComboboxIcon","COMBOBOX_INTL_MESSAGES","triggerLabel","countAnnouncement","focusAnnouncement","listboxLabel","selectedAnnouncement","ComboboxBase","triggerMode","popperProps","setListboxId","listboxRef","focusStrategy","setFocusStrategy","setIsInputFocusedState","lastDisplayedOptions","setLastDisplayedOptions","openTriggerMode","getOptionValue","getOptionLabel","optionLabel","flattenOptions","flatMap","getOptionsFromValues","onInputChange","displayedOptions","inputEl","setSelectionRange","selectableCollection","selectedOption","itemComponent","section","sectionComponent","lastAnnouncedFocusedKey","focusedItem","announcement","optionText","lastOptionCount","lastOpen","optionCount","didOpenWithoutFocusedItem","lastAnnouncedSelectedKey","lastSelectedItem","triggerAriaLabel","ComboboxRoot","ComboboxTrigger","MenuContext","useOptionalMenuContext","useMenuContext","MenuRootContext","useMenuRootContext","getPointerGraceArea","contentEl","contentRect","polygon","pointerX","pointerY","isPointerInGraceArea","area","isPointInPolygon","Menu","rootContext","parentDomCollectionContext","parentMenuContext","pointerGraceTimeoutId","pointerGraceIntent","pointerDir","nestedMenus","setNestedMenus","recursively","focusContent","registerNestedMenu","isPointerMovingToSubmenu","isMovingTowards","side","onItemEnter","onItemLeave","onTriggerLeave","setPointerDir","setPointerGraceTimeoutId","setPointerGraceIntent","intent","registerItemToParentDomCollection","MenuItemContext","useMenuItemContext","MenuItemBase","menuContext","labelRef","setLabelRef","closeOnSelect","onPointerLeave","repeat","ariaChecked","aria-checked","MenuCheckboxItem","MenuContentBase","lastPointerX","isRootModalContent","onPointerEnter","pointerXHasChanged","MenuContent","MenuGroupContext","useMenuGroupContext","MenuGroup","MenuGroupLabel","MenuIcon","MenuItem","MenuItemDescription","MenuItemIndicator","MenuItemLabel","MenuPortal","MenuRadioGroupContext","useMenuRadioGroupContext","MenuRadioGroup","setSelected","isSelectedValue","setSelectedValue","MenuRadioItem","MenuRoot","MenuSub","SUB_CLOSE_KEYS","ltr","rtl","MenuSubContent","isKeyDownInside","isCloseKey","isSubMenu","SELECTION_KEYS","SUB_OPEN_KEYS","MenuSubTrigger","openTimeoutId","clearOpenTimeout","parentSelectionManager","pointerGraceTimer","data-highlighted","MenuTrigger","SeparatorRoot","orientation","aria-orientation","data-orientation","ContextMenuContent","ContextMenuContext","useOptionalContextMenuContext","useContextMenuContext","ContextMenuRoot","setAnchorRect","ContextMenuTrigger","longPressTimoutId","clearLongPressTimeout","onContextMenu","isTouchOrPen","onPointerCancel","DropdownMenuContent","DropdownMenuRoot","HoverCardContext","useHoverCardContext","HoverCardContent","HoverCardPortal","getHoverCardSafeArea","anchorEl","floatingRect","anchorCenterX","anchorCenterY","HoverCardRoot","openDelay","closeDelay","closeTimeoutId","addGlobalListener","removeGlobalListener","createGlobalListeners","openWithDelay","closeWithDelay","cancelOpening","cancelClosing","isTargetOnHoverCard","getPolygonSafeArea","triggerEl","onHoverOutside","ignoreSafeArea","getEventPoint","HoverCardTrigger","ImageContext","useImageContext","ImageFallback","canRender","setCanRender","fallbackDelay","delayMs","timerId","imageLoadingStatus","ImageImg","loadingStatus","setLoadingStatus","src","isMounted","image","Image","updateStatus","status","onload","onerror","onImageLoadingStatusChange","ImageRoot","setImageLoadingStatus","onLoadingStatusChange","PopoverContext","usePopoverContext","PopoverAnchor","setDefaultAnchorRef","PopoverCloseButton","PopoverContent","isRightClickOutside","PopoverDescription","PopoverPortal","PopoverRoot","defaultAnchorRef","PopoverTitle","PopoverTrigger","ProgressContext","useProgressContext","ProgressFill","progressFillWidth","ProgressLabel","ProgressRoot","minValue","maxValue","defaultFormatter","clamp","valuePercent","valueLabel","getValueLabel","dataProgress","aria-valuenow","aria-valuemin","aria-valuemax","aria-valuetext","ProgressTrack","ProgressValueLabel","RadioGroupContext","useRadioGroupContext","RadioGroupItemContext","useRadioGroupItemContext","RadioGroupItem","radioGroupContext","inputId","setInputId","registerInput","RadioGroupItemControl","RadioGroupItemDescription","RadioGroupItemIndicator","RadioGroupItemInput","radioContext","RadioGroupItemLabel","RadioGroupLabel","RadioGroupRoot","radio","SelectContext","useSelectContext","SelectContent","SelectHiddenSelect","SelectIcon","SelectLabel","SelectListbox","listboxAriaLabelledBy","SelectPortal","SelectBase","valueId","setValueId","setListboxAriaLabelledBy","flattenOptionKeys","focusListbox","listboxEl","currentSelectedKeys","keysToKeep","registerValueId","SelectRoot","SelectTrigger","SelectValue","isSelectionEmpty","data-placeholder-shown","SelectValueChild","SwitchContext","useSwitchContext","SwitchControl","SwitchDescription","SwitchErrorMessage","SwitchInput","SwitchLabel","SwitchRoot","SwitchRootChild","SwitchThumb","TabsContext","useTabsContext","TabsContent","setTabIndex","generateContentId","updateTabIndex","attributes","attributeFilter","contentIdsMap","triggerIdsMap","data-selected","TabsIndicator","computeStyle","selectedTab","styleObj","offsetParent","offsetWidth","TabsKeyboardDelegate","flipDirection","getNextKey","getPreviousKey","nextItem","previousKey","previousItem","TabsList","activationMode","setSelectedTab","TabsRoot","currentSelectedKey","generateTriggerId","TabsTrigger","TextFieldContext","useTextFieldContext","TextFieldInput","TextFieldInputBase","TextFieldRoot","TextFieldTextArea","autoResize","adjustHeight","onKeyPress","submitOnEnter","requestSubmit","aria-multiline","prevAlignment","alignSelf","prevOverflow","isFirefox","TOAST_HOTKEY_PLACEHOLDER","TOAST_INTL_MESSAGES","notifications","ToastContext","useToastContext","ToastCloseButton","ToastDescription","ToastRegionContext","useToastRegionContext","ToastList","pauseOnInteraction","pauseAllTimer","resumeAllTimer","hotkey","isHotkeyPressed","code","pauseOnPageIdle","$$pointermove","$$focusout","$$focusin","_$delegateEvents","ToastProgressFill","lifeTime","setLifeTime","totalElapsedTime","isPersistent","intervalId","setInterval","elapsedTime","Date","getTime","closeTimerStartTime","life","trunc","clearInterval","ToastProgressTrack","ToastRegion","limit","swipeDirection","swipeThreshold","topLayer","regionId","hasToasts","hotkeyLabel","replace","label","topLayerAttr","TOAST_SWIPE_START_EVENT","TOAST_SWIPE_MOVE_EVENT","TOAST_SWIPE_CANCEL_EVENT","TOAST_SWIPE_END_EVENT","ToastRoot","priority","isAnimationEnabled","setIsAnimationEnabled","closeTimerId","closeTimerRemainingTime","pointerStart","swipeDelta","deleteToast","startTimer","persistent","resumeTimer","onResume","pauseTimer","onPause","hasSwipeMoveStarted","isHorizontalSwipe","clampedX","clampedY","moveStartBuffer","delta","eventDetail","handleAndDispatchCustomEvent","onSwipeMove","isDeltaInDirection","onSwipeStart","setPointerCapture","pointerId","abs","hasPointerCapture","releasePointerCapture","onSwipeEnd","onSwipeCancel","$$pointerup","$$pointerdown","$$keydown","animation","aria-live","data-opened","data-swipe-direction","threshold","deltaX","deltaY","isDeltaX","ToastTitle","ToggleButtonRoot","pressed","defaultPressed","aria-pressed","data-pressed","ToggleButtonRootChild","TooltipContext","useTooltipContext","TooltipContent","hideTooltip","TooltipPortal","getTooltipSafeArea","tooltips","tooltipsCounter","globalWarmedUp","globalWarmUpTimeout","globalCoolDownTimeout","TooltipRoot","tooltipId","ensureTooltipEntry","closeOpenTooltips","hideTooltipId","immediate","showTooltip","warmupTooltip","openTooltip","isTargetOnTooltip","trigger","handleScroll","capture","tooltip","triggerOnFocusOnly","TooltipTrigger","isPointerDown","isHovered","handlePointerUp","handleShow","handleHide"],"mappings":"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"}