import { createMemo, splitProps } from "solid-js";
import { ComboboxBase } from "./combobox-base";
/**
 * A combo box combines a text input with a listbox, allowing users to filter a list of options to items matching a query.
 */
export function ComboboxRoot(props) {
    const [local, others] = splitProps(props, ["value", "defaultValue", "onChange", "multiple"]);
    const value = createMemo(() => {
        if (local.value == null) {
            return undefined;
        }
        return local.multiple ? local.value : [local.value];
    });
    const defaultValue = createMemo(() => {
        if (local.defaultValue == null) {
            return undefined;
        }
        return local.multiple ? local.defaultValue : [local.defaultValue];
    });
    const onChange = (value) => {
        local.onChange?.(local.multiple ? value : value[0]);
    };
    return (<ComboboxBase value={value()} defaultValue={defaultValue()} onChange={onChange} selectionMode={local.multiple ? "multiple" : "single"} disallowEmptySelection={!local.multiple} {...others}/>);
}
