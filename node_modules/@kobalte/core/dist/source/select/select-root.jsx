import { createMemo, splitProps } from "solid-js";
import { SelectBase } from "./select-base";
/**
 * Displays a list of options for the user to pick from â€” triggered by a button.
 */
export function SelectRoot(props) {
    const [local, others] = splitProps(props, ["value", "defaultValue", "onChange", "multiple"]);
    const value = createMemo(() => {
        if (local.value == null) {
            return undefined;
        }
        return local.multiple ? local.value : [local.value];
    });
    const defaultValue = createMemo(() => {
        if (local.defaultValue == null) {
            return undefined;
        }
        return local.multiple ? local.defaultValue : [local.defaultValue];
    });
    const onChange = (value) => {
        local.onChange?.(local.multiple ? value : value[0]);
    };
    return (<SelectBase value={value()} defaultValue={defaultValue()} onChange={onChange} selectionMode={local.multiple ? "multiple" : "single"} disallowEmptySelection={!local.multiple} {...others}/>);
}
